{"version":3,"mappings":"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H,EACD,GAAM,CACF,IACA,IACA,KACA,IACH,EACD,GAAM,CACF,IACA,GACH,EACD,GAAM,CACF,IACA,IACH,EACD,GAAM,CACF,IACA,KACA,IACA,IACH,EACD,GAAM,CACF,IACA,IACH,EACD,GAAM,CACF,GACH,EACD,GAAM,CACF,IACA,KACA,GACH,EACD,GAAM,CACF,IACA,KACA,GACH,EACD,GAAM,CACF,IACA,KACA,IACA,IACH,EACD,GAAM,CACF,IACA,KACA,GACH,EACD,GAAM,CACF,IACA,IACH,EACD,GAAM,CACF,IACA,IACH,EACD,GAAM,CACF,IACA,KACA,GACH,EACD,GAAM,CACF,IACA,KACA,KACA,GACH,EACD,GAAM,CACF,IACA,GACH,EACD,GAAM,CACF,IACA,IACH,EACD,GAAM,CACF,IACA,IACH,EACD,GAAM,CACF,IACA,KACA,IACA,IACH,EACD,GAAM,CACF,KACA,KACA,IACA,GACH,EACD,GAAM,CACF,IACA,KACA,IACA,IACH,EACD,GAAM,CACF,GACH,EACD,GAAM,CACF,IACA,IACH,EACD,GAAM,CACF,IACA,KACA,IACA,IACH,EACD,GAAM,CACF,IACA,GACH,EACD,GAAM,CACF,IACA,IACA,KACA,IACH,EACD,GAAM,CACF,IACA,GACH,EACD,GAAM,CACF,IACA,IACA,KACA,IACH,EACD,GAAM,CACF,IACA,KACA,IACA,IACH,EACD,GAAM,CACF,IACA,IACA,KACA,IACH,EACD,GAAM,CACF,KACA,GACH,EACD,GAAM,CACF,IACA,IACA,IACH,EACD,GAAM,CACF,IACA,IACH,EACD,GAAM,CACF,IACA,KACA,GACH,EACD,GAAM,CACF,IACA,IACH,EACD,GAAM,CACF,IACA,IACA,KACA,IACH,EACD,GAAM,CACF,IACA,IACA,KACA,IACH,EACD,GAAM,CACF,IACA,IACA,IACH,EACD,GAAM,CACF,IACA,KACA,KACA,GACH,EACD,GAAM,CACF,IACA,IACA,KACA,IACH,EACD,GAAM,CACF,GACH,EACD,GAAM,CACF,IACA,IACA,KACA,IACH,EACD,GAAM,CACF,IACA,IACA,KACA,IACH,EACD,GAAM,CACF,IACA,IACH,EACD,GAAM,CACF,IACA,IACH,EACD,GAAM,CACF,IACA,IACA,KACA,IACH,EACD,GAAM,CACF,IACA,IACA,KACA,IACH,EACD,GAAM,CACF,GACH,EACD,GAAM,CACF,IACA,IACH,EACD,GAAM,CACF,IACA,IACA,KACA,IACH,EACD,GAAM,CACF,IACA,GACH,EACD,GAAM,CACF,GACH,EACD,GAAM,CACF,IACA,KACA,IACA,IACH,EACD,GAAM,CACF,IACA,IACA,KACA,IACH,EACD,GAAM,CACF,IACA,KACA,KACA,GACH,EACD,GAAM,CACF,IACA,IACA,KACA,IACH,EACD,GAAM,CACF,IACA,KACA,IACA,IACH,EACD,GAAM,CACF,IACA,IACH,EACD,GAAM,CACF,IACA,KACA,KACA,GACH,EACD,GAAM,CACF,IACA,KACA,KACA,GACH,EACD,GAAM,CACF,IACA,GACH,EACD,GAAM,CACF,IACA,KACA,IACA,IACH,EACD,GAAM,CACF,KACA,KACA,IACA,GACH,EACD,GAAM,CACF,GACH,EACD,GAAM,CACF,IACA,KACA,IACA,IACH,EACD,GAAM,CACF,IACA,IACA,KACA,IACH,EACD,GAAM,CACF,IACA,KACA,IACA,IACH,EACD,GAAM,CACF,IACA,GACH,EACD,GAAM,CACF,IACA,IACH,EACD,GAAM,CACF,IACA,IACH,EACD,GAAM,CACF,IACA,IACA,KACA,IACH,EACD,GAAM,CACF,IACA,KACA,IACA,IACH,EACD,GAAM,CACF,IACA,KACA,GACH,EACD,GAAM,CACF,IACA,IACH,EACD,GAAM,CACF,IACA,IACA,KACA,IACH,EACD,GAAM,CACF,IACA,GACH,EACD,GAAM,CACF,IACA,IACA,KACA,IACH,EACD,GAAM,CACF,IACA,GACH,EACD,GAAM,CACF,IACA,KACA,IACA,IACH,EACD,GAAM,CACF,IACA,IACH,EACD,GAAM,CACF,IACA,IACH,EACD,GAAM,CACF,IACA,KACA,IACA,IACH,EACD,GAAM,CACF,IACA,IACA,KACA,IACH,EACD,GAAM,CACF,IACA,IACA,KACA,IACH,EACD,GAAM,CACF,IACA,KACA,IACA,IACH,EACD,GAAM,CACF,IACA,IACH,EACD,GAAM,CACF,IACA,KACA,IACA,IACH,EACD,GAAM,CACF,IACA,KACA,KACA,GACH,EACD,GAAM,CACF,IACA,IACA,KACA,IACH,EACD,GAAM,CACF,IACA,IACH,EACD,GAAM,CACF,IACA,GACH,EACD,GAAM,CACF,IACA,IACA,KACA,IACH,EACD,GAAM,CACF,GACH,EACD,GAAM,CACF,IACA,IACA,KACA,IACH,EACD,GAAM,CACF,IACA,IACH,EACD,GAAM,CACF,IACA,IACA,KACA,IACH,EACD,GAAM,CACF,IACA,GACH,EACD,GAAM,CACF,IACA,IACA,KACA,IACH,EACD,GAAM,CACF,IACA,KACA,KACA,GACH,EACD,GAAM,CACF,KACA,GACH,EACD,GAAM,CACF,GACH,EACD,GAAM,CACF,IACA,IACH,EACD,GAAM,CACF,IACA,IACA,KACA,IACH,EACD,GAAM,CACF,IACA,KACA,IACA,IACH,EACD,GAAM,CACF,IACA,KACA,KACA,GACH,EACD,GAAM,CACF,IACA,IACA,GACH,EACD,GAAM,CACF,KACA,KACA,IACA,GACH,EACD,GAAM,CACF,IACA,IACA,KACA,IACH,EACD,GAAM,CACF,KACA,IACA,IACA,IACH,EACD,GAAM,CACF,IACA,KACA,IACA,IACH,EACD,GAAM,CACF,IACA,IACA,KACA,IACH,EACD,GAAM,CACF,IACA,KACA,IACA,IACH,EACD,GAAM,CACF,IACA,IACA,KACA,IACH,EACD,GAAM,CACF,IACA,IACA,KACA,IACH,EACD,GAAM,CACF,IACA,KACA,KACA,GACH,EACD,GAAM,CACF,IACA,KACA,IACA,IACH,EACD,GAAM,CACF,IACA,IACH,EACD,GAAM,CACF,IACA,KACA,KACA,GACH,EACD,GAAM,CACF,IACA,KACA,KACA,GACH,EACD,GAAM,CACF,IACA,KACA,IACA,IACH,EACD,GAAM,CACF,IACA,KACA,GACH,EACD,GAAM,CACF,IACA,IACA,KACA,IACH,EACD,GAAM,CACF,IACA,KACA,IACA,IACH,EACD,GAAM,CACF,IACA,GACH,EACD,GAAM,CACF,IACA,IACA,KACA,IACH,EACD,GAAM,CACF,IACA,IACA,IACH,EACD,GAAM,CACF,IACA,KACA,KACA,GACH,EACD,GAAM,CACF,IACA,KACA,KACA,GACH,EACD,GAAM,CACF,IACA,IACA,KACA,IACH,EACD,GAAM,CACF,IACA,IACH,EACD,GAAM,CACF,IACA,IACH,EACD,GAAM,CACF,IACA,KACA,GACH,EACD,GAAM,CACF,IACA,IACH,EACD,GAAM,CACF,IACA,GACH,EACD,GAAM,CACF,IACA,KACA,IACA,IACH,EACD,GAAM,CACF,IACA,IACA,KACA,IACH,EACD,GAAM,CACF,GACH,EACD,GAAM,CACF,KACA,KACA,IACA,GACH,EACD,GAAM,CACF,IACA,IACA,KACA,IACH,EACD,GAAM,CACF,IACA,KACA,KACA,GACH,EACD,GAAM,CACF,IACA,KACA,IACA,IACH,EACD,GAAM,CACF,IACA,IACH,EACD,GAAM,CACF,IACA,KACA,KACA,GACH,EACD,GAAM,CACF,IACA,IACA,KACA,IACH,EACD,GAAM,CACF,IACA,GACH,EACD,GAAM,CACF,IACA,GACH,EACD,GAAM,CACF,IACA,GACH,EACD,GAAM,CACF,IACA,KACA,IACA,IACH,EACD,GAAM,CACF,IACA,IACA,KACA,IACH,EACD,GAAM,CACF,KACA,KACA,IACA,GACH,EACD,GAAM,CACF,IACA,IACH,EACD,GAAM,CACF,IACA,IACA,KACA,IACH,EACD,GAAM,CACF,IACA,IACH,EACD,GAAM,CACF,GACH,EACD,GAAM,CACF,IACA,IACA,KACA,IACH,EACD,GAAM,CACF,IACA,IACA,KACA,IACH,EACD,GAAM,CACF,IACA,IACA,KACA,IACH,EACD,GAAM,CACF,IACA,IACH,EACD,GAAM,CACF,IACA,GACH,EACD,GAAM,CACF,IACA,IACA,IACH,EACD,GAAM,CACF,IACA,IACA,KACA,IACH,EACD,GAAM,CACF,IACA,IACA,KACA,IACH,EACD,GAAM,CACF,IACA,KACA,IACA,IACH,EACD,GAAM,CACF,IACA,KACA,KACA,GACH,EACD,GAAM,CACF,IACA,IACA,KACA,IACH,EACD,GAAM,CACF,IACA,KACA,IACA,IACH,EACD,GAAM,CACF,IACA,IACA,IACH,EACD,GAAM,CACF,IACA,GACH,EACD,GAAM,CACF,IACA,KACA,KACA,GACH,EACD,GAAM,CACF,IACA,KACA,GACH,EACD,GAAM,CACF,IACA,GACH,EACD,GAAM,CACF,IACA,IACH,EACD,GAAM,CACF,IACA,IACA,KACA,IACH,EACD,GAAM,CACF,IACA,IACA,KACA,IACH,EACD,GAAM,CACF,IACA,KACA,KACA,GACH,EACD,GAAM,CACF,IACA,IACH,EACD,GAAM,CACF,IACA,GACH,EACD,GAAM,CACF,IACA,IACA,KACA,IACH,EACD,GAAM,CACF,IACA,KACA,KACA,GACH,EACD,GAAM,CACF,IACA,IACH,EACD,GAAM,CACF,IACA,IACH,EACD,GAAM,CACF,IACA,KACA,GACH,EACD,GAAM,CACF,GACH,EACD,GAAM,CACF,IACA,GACH,EACD,GAAM,CACF,IACA,KACA,KACA,GACH,EACD,GAAM,CACF,IACA,KACA,IACA,IACH,EACD,GAAM,CACF,IACA,IACA,IACH,EACD,GAAM,CACF,IACA,KACA,KACA,GACH,EACD,GAAM,CACF,GACH,EACD,GAAM,CACF,IACA,KACA,IACA,IACH,EACD,GAAM,CACF,IACA,IACA,KACA,IACH,EACD,GAAM,CACF,IACA,IACH,EACD,GAAM,CACF,GACH,EACD,GAAM,CACF,GACH,EACD,GAAM,CACF,IACA,KACA,IACA,IACH,EACD,GAAM,CACF,IACA,IACA,IACH,EACD,GAAM,CACF,IACA,IACA,IACH,EACD,GAAM,CACF,IACA,GACH,EACD,GAAM,CACF,IACA,IACH,EACD,GAAM,CACF,IACA,KACA,IACA,IACH,EACD,GAAM,CACF,IACA,IACH,EACD,GAAM,CACF,IACA,IACA,KACA,IACH,EACD,GAAM,CACF,IACA,IACA,KACA,IACH,EACD,GAAM,CACF,IACA,KACA,KACA,GACH,EACD,GAAM,CACF,IACA,KACA,IACA,IACH,EACD,GAAM,CACF,IACA,IACA,KACA,IACH,EACD,GAAM,CACF,IACA,KACA,IACA,IACH,EACD,GAAM,CACF,IACA,IACA,IACH,EACD,GAAM,CACF,IACA,IACA,IACH,EACD,GAAM,CACF,IACA,IACH,EACD,GAAM,CACF,IACA,GACH,EACD,GAAM,CACF,IACA,GACH,EACD,GAAM,CACF,IACA,KACA,KACA,GACH,EACD,GAAM,CACF,IACA,GACH,EACD,GAAM,CACF,IACA,KACA,KACA,GACH,EACD,GAAM,CACF,IACA,GACH,EACD,GAAM,CACF,IACA,IACH,EACD,GAAM,CACF,IACA,KACA,IACA,IACH,EACD,GAAM,CACF,KACA,KACA,IACA,GACH,EACD,GAAM,CACF,KACA,KACA,IACA,GACH,EACD,GAAM,CACF,IACA,KACA,GACH,EACD,GAAM,CACF,KACA,KACA,IACA,GACH,EACD,GAAM,CACF,IACA,KACA,IACA,IACH,EACD,GAAM,CACF,IACA,KACA,IACA,IACH,EACD,GAAM,CACF,IACA,IACA,KACA,IACH,EACD,GAAM,CACF,IACA,KACA,GACH,EACD,GAAM,CACF,IACA,IACA,IACH,EACD,GAAM,CACF,IACA,KACA,IACA,IACH,EACD,GAAM,CACF,IACA,IACA,KACA,IACH,EACD,GAAM,CACF,IACA,KACA,IACA,IACH,EACD,GAAM,CACF,IACA,KACA,IACA,IACH,EACD,GAAM,CACF,IACA,GACH,EACD,GAAM,CACF,IACA,GACH,EACD,GAAM,CACF,IACA,IACH,EACD,GAAM,CACF,IACA,GACH,EACD,GAAM,CACF,IACA,KACA,GACH,EACD,GAAM,CACF,IACA,KACA,KACA,GACH,EACD,GAAM,CACF,IACA,IACH,EACD,GAAM,CACF,IACA,IACA,KACA,IACH,EACD,GAAM,CACF,IACA,KACA,IACA,IACH,EACD,GAAM,CACF,IACA,GACH,EACD,QAAS,CACL,IACA,IACA,KACA,IACH,EACD,SAAU,CACN,IACA,KACA,KACA,GACH,EACD,QAAS,CACL,IACA,IACA,IACH,EACD,SAAU,CACN,IACA,KACA,IACA,IACH,EACD,QAAS,CACL,IACA,IACA,KACA,IACH,EACD,QAAS,CACL,IACA,IACA,KACA,IACH,EACD,QAAS,CACL,IACA,IACA,KACA,IACH,EACD,QAAS,CACL,IACA,IACA,KACA,IACH,EACD,QAAS,CACL,IACA,IACA,KACA,IACH,EACD,QAAS,CACL,IACA,IACA,KACA,IACH,EACD,QAAS,CACL,IACA,IACA,IACH,EACD,QAAS,CACL,IACA,IACA,IACH,EACD,QAAS,CACL,KACA,KACA,IACA,GACH,EACD,QAAS,CACL,KACA,IACA,GACH,EACD,QAAS,CACL,IACA,IACA,IACH,EACD,QAAS,CACL,IACA,IACA,IACH,EACD,QAAS,CACL,KACA,IACA,GACH,EACD,QAAS,CACL,KACA,IACA,GACH,EACD,QAAS,CACL,KACA,KACA,IACA,GACH,EACD,QAAS,CACL,KACA,KACA,IACA,GACH,EACD,QAAS,CACL,KACA,IACA,KACA,GACH,EACD,QAAS,CACL,KACA,IACA,GACH,EACD,QAAS,CACL,IACA,KACA,KACA,GACH,CACL,EC13CO,SAASC,GAAe3C,EAAU4C,EAAQ,CAE7C,QADIC,EAAe,GACVC,EAAa,EAAGA,EAAa9C,EAAS,OAAQ8C,IAAc,CACjE,IAAIC,EAAc/C,EAAS,OAAO8C,CAAU,EAC5C,GAAIC,IAAgB,IAAK,CAErB,QADIC,EAAc,EACXF,EAAa,EAAI9C,EAAS,QAC7BA,EAAS,OAAO8C,EAAa,CAAC,IAAMC,GACpCC,IACAF,IAEJ,IAAIG,EAAU,GAAKD,EAAc,GAC7BE,EAAeF,EAAc,EAAI,EAAI,GAAKA,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K,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,SACN,EACA,QAAS,CACR,GAAI,UACJ,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,SACN,EACA,MAAO,CACN,GAAI,UACJ,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,SACN,EACA,IAAK,CACJ,GAAI,UACJ,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,SACN,EACA,OAAQ,CACP,GAAI,UACJ,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,SACN,EACA,MAAO,CACN,GAAI,UACJ,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,SACN,EACA,OAAQ,CACP,GAAI,UACJ,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,SACN,EACA,KAAM,CACL,GAAI,UACJ,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,SACN,EACA,MAAO,CACN,GAAI,UACJ,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,SACN,EACA,QAAS,CACR,GAAI,UACJ,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,SACN,EACA,KAAM,CACL,GAAI,UACJ,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,SACN,EACA,KAAM,CACL,GAAI,UACJ,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,SACN,EACA,IAAK,CACJ,GAAI,UACJ,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,SACN,EACA,KAAM,CACL,GAAI,UACJ,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,SACN,EACA,OAAQ,CACP,GAAI,UACJ,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,SACN,EACA,OAAQ,CACP,GAAI,UACJ,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,SACN,EACA,OAAQ,CACP,GAAI,UACJ,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,SACN,EACA,QAAS,CACR,GAAI,UACJ,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,SACN,EACA,KAAM,CACL,GAAI,UACJ,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,SACN,EACA,KAAM,CACL,GAAI,UACJ,IAAK,UACL,IAAK,UACL,IAAK,UAC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SACA,SACA,KACA,OACA,IACA,MACA,QACA,MACA,MACA,SACA,QACA,QACA,SACA,KACA,OACA,UACA,OACA,MACA,OACA,UACA,OACA,OACA,QACA,MACA,OACA,KACA,WACA,SACA,SACA,IACA,UACA,QACA,MACA,WACA,IACA,KACA,KACA,KACA,MACA,OACA,IACA,OACA,UACA,SACA,aACA,QACA,SACA,OACA,SACA,SACA,QACA,MACA,UACA,MACA,QACA,QACA,KACA,QACA,KACA,QACA,OACA,KACA,QACA,KACA,IACA,KACA,MACA,QACA,KACJ,EACMC,GAAyB,CAC3B,WACA,UACA,OACA,SACA,QACA,YACA,SACA,OAEA,WACA,QACA,KACJ,EACMC,GAAgB,IAAI,IAAI,CAC1B,GAAGF,GACH,GAAGC,EACP,CAAC,EACKE,GAAqB,CACvB,MACA,IACA,WACA,cACA,eACA,eACA,gBACA,mBACA,SACA,WACA,OACA,OACA,UACA,SACA,OACA,IACA,QACA,WACA,QACA,QACA,OACA,iBACA,SACA,OACA,WACA,QACA,OACA,UACA,UACA,WACA,iBACA,OACA,OACA,QACA,SACA,SACA,OACA,WACA,QACA,OACA,QACA,OACA,QAEA,UACA,gBACA,sBACA,cACA,mBACA,oBACA,oBACA,iBACA,UACA,UACA,UACA,UACA,UACA,iBACA,UACA,UACA,cACA,eACA,WACA,eACA,qBACA,cACA,SACA,cACJ,EACMC,GAAwB,CAC1B,UACA,gBACA,SACA,UACA,eACA,YACA,mBACA,iBACA,gBACA,gBACA,gBACA,QACA,YACA,OACA,eACA,YACA,UACA,gBACA,SACA,MACA,aACA,UACA,KACJ,EACMC,GAAe,IAAI,IAAI,CACzB,GAAGF,GACH,GAAGC,EACP,CAAC,EACKE,GAAsB,CACxB,OACA,WACA,SACA,UACA,QACA,SACA,KACA,aACA,gBACA,KACA,KACA,QACA,UACA,WACA,QACA,OACA,KACA,SACA,QACA,SACA,OACA,OACA,UACA,SACA,MACA,QACA,MACA,SACA,YACJ,EACMC,GAAyB,CAC3B,UACA,cACA,aACA,WACA,YACA,UACA,UACA,SACA,SACA,QACA,YACA,aACA,iBACA,cACA,MACJ,EACMC,GAAgB,IAAI,IAAI,CAC1B,GAAGF,GACH,GAAGC,EACP,CAAC,EAEKE,GAAwB,CAC1B,OACA,SACA,iBACA,YACA,SACA,QACA,QACA,QACA,kBACA,MACA,SACA,UACA,KACA,QACA,iBACA,eACA,cACA,YACA,uBACA,WACA,OACA,aACA,WACA,UACA,SACA,cACA,UACA,cACA,cACA,YACA,OACA,UACA,UACA,UACA,OACA,QACA,UACA,QACA,OACA,WACA,WACA,QACA,OACA,UACA,UACA,UACA,kBACA,WACA,eACA,wBACA,SACA,cACA,MACA,OACA,WACA,UACA,WACA,UACA,QACA,MACA,YACA,UACA,WACA,0BACA,wBACA,yBACA,WACA,YACA,gBACA,UACA,MACA,eACA,QACA,cACA,OACA,MACA,OACA,aACA,cACA,aACA,iBACA,aACA,QACA,cACA,UACA,SACA,SACA,OACA,OACA,WACA,gBACA,SACA,aACA,KACA,aACA,cACA,aACA,iBACA,mBACA,cACA,QACA,YACA,YACA,YACA,QACA,UACA,OACA,QACA,OACA,WACA,cACA,aACA,OACA,OACA,UACA,WACA,OACA,MACA,SACA,WACA,eACA,cACA,MACA,YACA,YACA,QACA,SACA,MACA,YACA,WACA,QACA,OACA,SACA,WACA,QACA,WACA,UACA,aACA,SACA,SACA,OACA,UACA,OACA,UACA,OACA,cACA,cACA,SACA,SACA,UACA,SACA,WACA,iBACA,MACA,kBACA,WACA,YACA,MACA,WACA,OACA,OACA,UACA,QACA,UACA,SACA,QACA,SACA,eACA,cACA,YACA,SACA,WACA,aACA,2BACA,QACA,OACA,QACA,OACA,OACA,aACA,MACA,UACA,SACA,UACA,QACA,OACA,QACA,UACA,WACA,SACA,OACA,QACA,YACA,YACA,YACA,aACA,OACA,SACA,SACA,QACA,YACA,UACA,wBACA,QACA,SACA,kBACA,QACA,MACJ,EASMC,GAAuB,CACzB,gBACA,aACA,WACA,qBACA,SACA,gBACA,gBACA,UACA,gBACA,iBACA,QACA,OACA,KACA,QACA,OACA,gBACA,YACA,YACA,QACA,sBACA,8BACA,gBACA,kBACA,KACA,KACA,IACA,KACA,KACA,kBACA,YACA,UACA,UACA,oBACA,MACA,WACA,YACA,MACA,OACA,eACA,YACA,SACA,cACA,cACA,gBACA,cACA,YACA,mBACA,eACA,aACA,eACA,cACA,KACA,KACA,KACA,KACA,aACA,WACA,gBACA,oBACA,SACA,OACA,KACA,kBACA,KACA,MACA,IACA,KACA,KACA,KACA,KACA,UACA,YACA,aACA,WACA,OACA,eACA,iBACA,eACA,mBACA,iBACA,QACA,aACA,aACA,eACA,eACA,cACA,cACA,mBACA,YACA,MACA,OACA,QACA,SACA,OACA,MACA,OACA,aACA,SACA,WACA,UACA,QACA,SACA,cACA,SACA,WACA,cACA,OACA,aACA,sBACA,mBACA,eACA,SACA,gBACA,sBACA,iBACA,IACA,KACA,KACA,SACA,OACA,OACA,cACA,YACA,UACA,SACA,SACA,QACA,OACA,kBACA,mBACA,mBACA,eACA,cACA,eACA,cACA,aACA,eACA,mBACA,oBACA,iBACA,kBACA,oBACA,iBACA,SACA,eACA,QACA,eACA,iBACA,WACA,UACA,UACA,YACA,mBACA,cACA,kBACA,iBACA,aACA,OACA,KACA,KACA,UACA,SACA,UACA,aACA,UACA,aACA,gBACA,gBACA,QACA,eACA,OACA,eACA,mBACA,mBACA,IACA,KACA,KACA,QACA,IACA,KACA,KACA,IACA,YACJ,EAMMC,GAAwB,CAC1B,SACA,cACA,QACA,WACA,QACA,eACA,cACA,aACA,aACA,QACA,MACA,UACA,eACA,WACA,QACA,QACA,SACA,OACA,KACA,UACA,SACA,gBACA,SACA,SACA,iBACA,YACA,WACA,cACA,UACA,UACA,gBACA,WACA,WACA,OACA,WACA,WACA,aACA,UACA,SACA,SACA,cACA,gBACA,uBACA,YACA,YACA,aACA,WACA,iBACA,iBACA,YACA,UACA,QACA,OACJ,EAOMC,GAAa,CACf,KAAM,+BACN,IAAK,6BACL,KAAM,oCACV,EACMC,GAAsB,CACxB,CAACD,GAAW,IAAI,EAAGV,GACnB,CAACU,GAAW,GAAG,EAAGP,GAClB,CAACO,GAAW,IAAI,EAAGJ,EACvB,EAMMM,GAAmB,CACrB,CAACF,GAAW,IAAI,EAAG,OACnB,CAACA,GAAW,GAAG,EAAG,MAClB,CAACA,GAAW,IAAI,EAAG,MACvB,EACMG,GAAsB,CACxB,CAACH,GAAW,IAAI,EAAG,GACnB,CAACA,GAAW,GAAG,EAAG,OAClB,CAACA,GAAW,IAAI,EAAG,OACvB,EAEM1B,GAAkB,IAAI,IAAI,CAC5B,IACA,OACA,SACA,OACA,SACA,OACJ,CAAC,EAEK8B,GAAW,CACb,cAAe,GACf,oBAAqB,GACrB,mBAAoB,GACpB,cAAe,CACX,GAAGhB,GACH,GAAGG,GAAmB,IAAIjiC,GAAQ,OAAOA,CAAI,EAAE,EAC/C,GAAGoiC,GAAoB,IAAIpiC,GAAQ,QAAQA,CAAI,EAAE,CACpD,EACD,gBAAiBuhC,GAAU,CACvB,OAAO,YAAYgB,GAAsB,IAAIviC,GAAQ,CAACA,EAAM,CAAC,GAAG,CAAC,CAAC,CAAC,EACnE,OAAO,YAAYwiC,GAAqB,IAAIxiC,GAAQ,CAACA,EAAM,CAAC,OAAO,CAAC,CAAC,CAAC,EACtE,OAAO,YAAYyiC,GAAsB,IAAIziC,GAAQ,CAACA,EAAM,CAAC,QAAQ,CAAC,CAAC,CAAC,CAChF,CAAK,CACL,ECzyBA,IAAI+iC,GAAkE,SAAUC,EAAUj2B,EAAOtlB,EAAOsO,EAAM+lB,EAAG,CAC7G,GAAI/lB,IAAS,IAAK,MAAM,IAAI,UAAU,gCAAgC,EACtE,GAAIA,IAAS,KAAO,CAAC+lB,EAAG,MAAM,IAAI,UAAU,+CAA+C,EAC3F,GAAI,OAAO/O,GAAU,WAAai2B,IAAaj2B,GAAS,CAAC+O,EAAI,CAAC/O,EAAM,IAAIi2B,CAAQ,EAAG,MAAM,IAAI,UAAU,yEAAyE,EAChL,OAAQjtC,IAAS,IAAM+lB,EAAE,KAAKknB,EAAUv7C,CAAK,EAAIq0B,EAAIA,EAAE,MAAQr0B,EAAQslB,EAAM,IAAIi2B,EAAUv7C,CAAK,EAAIA,CACxG,EACIw7C,GAAkE,SAAUD,EAAUj2B,EAAOhX,EAAM+lB,EAAG,CACtG,GAAI/lB,IAAS,KAAO,CAAC+lB,EAAG,MAAM,IAAI,UAAU,+CAA+C,EAC3F,GAAI,OAAO/O,GAAU,WAAai2B,IAAaj2B,GAAS,CAAC+O,EAAI,CAAC/O,EAAM,IAAIi2B,CAAQ,EAAG,MAAM,IAAI,UAAU,0EAA0E,EACjL,OAAOjtC,IAAS,IAAM+lB,EAAI/lB,IAAS,IAAM+lB,EAAE,KAAKknB,CAAQ,EAAIlnB,EAAIA,EAAE,MAAQ/O,EAAM,IAAIi2B,CAAQ,CAChG,EACIE,GAAyBC,GAAyBC,GAMtD,MAAMC,EAAS,CAEX,YAAYC,EAAgB,GAAI,CAE5BJ,GAAwB,IAAI,KAAM,MAAM,EACxCC,GAAwB,IAAI,KAAM,MAAM,EACxCC,GAA0B,IAAI,KAAM,MAAM,EAE1C,KAAK,iBAAmB,IACbvC,GAAUoC,GAAuB,KAAMC,GAAyB,GAAG,CAAC,EAE/E,KAAK,SAAYx1B,GAAU,CAGvB,MAAM61B,EAAgBN,GAAuB,KAAME,GAAyB,GAAG,EACzEK,EAAkBP,GAAuB,KAAMG,GAA2B,GAAG,EACnF,OAAAvB,GAAiBn0B,EAAO,CAAC3C,EAAMC,IAAW,CACtC,MAAMy4B,EAAY14B,EAAK,cAAgB23B,GAAW,KAC5CgB,EAAkB14B,EAAO,cAAmB03B,GAAW,KACvD1xC,EAAW2xC,GAAoBc,CAAS,EACxCl/B,EAAOq+B,GAAiBa,CAAS,EACjCztC,EAAS6sC,GAAoBY,CAAS,EACtCzZ,EAAMjf,EAAK,QAAQ,YAAW,EAC9B44B,EAAc,GAAG3tC,CAAM,GAAGg0B,CAAG,GAE7B4Z,EAAc,GAAG5tC,CAAM,IAC7B,GAAI,CAAChF,EAAS,IAAIg5B,CAAG,GAAK,CAACuZ,EAAc,IAAII,CAAW,GAAMF,IAAcC,GAAmB1Z,IAAQzlB,EACnGyG,EAAO,YAAYD,CAAI,MAEtB,CACD,MAAM4wB,EAAa5wB,EAAK,oBAClB84B,EAAmBlI,EAAW,OACpC,GAAIkI,EAAkB,CAClB,QAASr5C,EAAI,EAAGA,EAAIq5C,EAAkBr5C,IAAK,CACvC,MAAMs5C,GAAYnI,EAAWnxC,CAAC,EACxBu5C,EAAgBP,EAAgBM,EAAS,GAC3C,CAACC,GAAkB,CAACA,EAAc,IAAIH,CAAW,GAAK,CAACG,EAAc,IAAIJ,CAAW,IACpF54B,EAAK,gBAAgB+4B,EAAS,CAErC,CACD,GAAI/C,GAAeh2B,CAAI,EACnB,GAAIq2B,GAAmBr2B,CAAI,EAAG,CAC1B,MAAMghB,EAAOhhB,EAAK,aAAa,MAAM,EACjCghB,GAAQuV,GAAuBvV,CAAI,GAAKsV,GAAkBt2B,EAAK,QAAQ,GACvEA,EAAK,gBAAgB,MAAM,CAElC,MACQk2B,GAAgBl2B,CAAI,EACrBs2B,GAAkBt2B,EAAK,MAAM,GAC7BA,EAAK,gBAAgB,QAAQ,EAG5Bo2B,GAAoBp2B,CAAI,EACzBs2B,GAAkBt2B,EAAK,UAAU,GACjCA,EAAK,gBAAgB,YAAY,EAGhCm2B,GAAgBn2B,CAAI,IACrBs2B,GAAkBt2B,EAAK,GAAG,GAC1BA,EAAK,gBAAgB,YAAY,EAErCA,EAAK,aAAa,UAAW,eAAe,EAGvD,CACJ,CACjB,CAAa,EACM2C,CACnB,EACQ,KAAK,YAAc,CAACllB,EAASklB,IAAU,CACnC,MAAM,IAAI,MAAM,sCAAsC,CAClE,EACQ,KAAM,CAAE,cAAAs2B,EAAe,oBAAAC,EAAqB,mBAAAC,EAAoB,cAAAC,EAAe,aAAAC,EAAc,eAAAC,CAAgB,EAAGf,EAChH,GAAIU,IAAkB,GAClB,MAAM,IAAI,MAAM,8CAA8C,EAClE,GAAIC,EACA,MAAM,IAAI,MAAM,mDAAmD,EACvE,GAAIC,EACA,MAAM,IAAI,MAAM,kDAAkD,EACtE,GAAIC,EACA,MAAM,IAAI,MAAM,mEAAmE,EACvF,GAAIC,EACA,MAAM,IAAI,MAAM,kEAAkE,EACtF,GAAIC,EACA,MAAM,IAAI,MAAM,sEAAsE,EAC1FtB,GAAuB,KAAMG,GAAyBrC,GAAUiC,EAAQ,EAAG,GAAG,EAC9E,KAAM,CAAE,cAAAS,EAAe,gBAAAC,CAAiB,EAAGF,EACvCC,IACAN,GAAuB,KAAMC,GAAyB,GAAG,EAAE,cAAgBI,EAAc,eACzFE,IACAP,GAAuB,KAAMC,GAAyB,GAAG,EAAE,gBAAkBI,EAAc,iBAC/FP,GAAuB,KAAMI,GAAyB,IAAI,IAAIF,GAAuB,KAAMC,GAAyB,GAAG,EAAE,aAAa,EAAG,GAAG,EAC5IH,GAAuB,KAAMK,GAA2B,OAAO,YAAY,OAAO,QAAQH,GAAuB,KAAMC,GAAyB,GAAG,EAAE,iBAAmB,EAAE,EAAE,IAAI,CAAC,CAAC16C,EAASmzC,CAAU,IAAM,CAACnzC,EAAS,IAAI,IAAImzC,CAAU,CAAC,CAAC,CAAC,EAAG,GAAG,CACnP,CACL,CACAuH,GAA0B,IAAI,QAAWC,GAA0B,IAAI,QAAWC,GAA4B,IAAI,QAElHC,GAAS,wBAA0B,IACxBxC,GAAUiC,EAAQ,EClH7B,MAAMwB,GAAkB,CACvBr/B,EACAV,EAAO,SAAS,OACH,CACT,IACI,OAAC,CAACU,GAAQ,IAAI,IAAIA,CAAI,EAAE,SAAW,IAAI,IAAIV,CAAI,EAAE,YAC7C,CACJ,QACR,CACD,EAEO,SAASggC,GAASh8C,EAAwB,CAC1C,MAAAi8C,EAAW,IAAInB,GACft4B,EAAO,IAAI,YAAY,gBAAgBxiB,EAAQ,WAAW,EAChE,OAAAk8C,GAAW15B,EAAK,KAAM,IAAMA,GAAS,CAChCA,aAAgB,aAAe,WAAYA,GAC1Cu5B,GAAgBv5B,EAAK,aAAa,MAAM,EAAG,SAAS,IAAI,IAC3DA,EAAK,aAAa,SAAU,QAAQ,EACpCA,EAAK,aAAa,MAAO,qBAAqB,EAEhD,CACA,EAEMy5B,EAAS,SAASz5B,CAAI,EAAE,KAAK,SACrC,CAEA,SAAS05B,GACR15B,EACA25B,EACA9e,EACO,CAEN7a,IAC8BA,EAAK,WAAa25B,GAC9C,OAAOA,GAAS,aAElB9e,EAAS7a,CAAI,EAER,MAAA/X,GAAW+X,GAAA,YAAAA,EAAM,aAAc,GACrC,QAASvgB,EAAI,EAAGA,EAAIwI,EAAS,OAAQxI,IAEpCi6C,GAAWzxC,EAASxI,CAAC,EAAGk6C,EAAM9e,CAAQ,CAExC,CC5CO,MAAM+e,GAAmB,CAC/B,MACA,WACA,IACA,OACA,UACA,UACA,SACA,OACA,UACA,QACA,QACA,IACA,OACA,WACA,MACA,MACA,MACA,aACA,OACA,KACA,SACA,SACA,UACA,SACA,OACA,OACA,MACA,WACA,OACA,WACA,KACA,MACA,UACA,MACA,SACA,MACA,MACA,KACA,KACA,KACA,QACA,WACA,aACA,SACA,OACA,SACA,OACA,QACA,WACA,KACA,KACA,KACA,KACA,KACA,KACA,OACA,SACA,SACA,KACA,OACA,IACA,SACA,MACA,QACA,MACA,MACA,QACA,SACA,KACA,OACA,OACA,MACA,OACA,OACA,OACA,QACA,MACA,WACA,WACA,SACA,KACA,WACA,SACA,SACA,IACA,QACA,UACA,MACA,WACA,IACA,KACA,KACA,OACA,IACA,OACA,SACA,SACA,UACA,SACA,QACA,SACA,OACA,SACA,SACA,QACA,MACA,UACA,MACA,MACA,QACA,QACA,KACA,WACA,WACA,QACA,KACA,QACA,OACA,QACA,KACA,QACA,KACA,IACA,KACA,MACA,QACA,KACD,EAGaC,GAAU,CAEtB,IACA,OACA,MACA,SAGA,OACA,SACA,UACA,OACA,WACA,UACA,OACA,QAGA,OACA,QACA,WAGA,iBACA,iBACA,OACA,UACA,WACA,OACA,SAGA,UACA,gBACA,sBACA,cACA,mBACA,oBACA,oBACA,iBACA,UACA,eACA,WACA,qBACA,eACA,cACA,UACA,UACA,UACA,UACA,iBACA,eACA,cACA,UACA,SAGA,UACA,mBACA,gBACA,QACA,MAGA,OACA,SACA,gBACA,OACA,QACA,WACA,QACD,EAEaC,GAAyB,CACrC,GAAGF,GACH,GAAGC,GAAQ,OAAQ5a,GAAQ,CAAC2a,GAAiB,SAAS3a,CAAG,CAAC,CAC3D,+NClC2DpoB,EAAe,YAA1EC,EAEMvZ,EAAAw8C,EAAA/iC,CAAA,MADEH,EAAI,GAAAkjC,CAAA,8BAAJljC,EAAI,8CAD+CA,EAAe,mDApIhEmjC,GA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","names":["BROWSER","browser","space_logo","isMergeableObject","value","isNonNullObject","isSpecial","stringValue","isReactElement","canUseSymbol","REACT_ELEMENT_TYPE","emptyTarget","val","cloneUnlessOtherwiseSpecified","options","deepmerge","defaultArrayMerge","target","source","element","getMergeFunction","key","customMerge","getEnumerableOwnPropertySymbols","symbol","getKeys","propertyIsOnObject","object","property","propertyIsUnsafe","mergeObject","destination","sourceIsArray","targetIsArray","sourceAndTargetTypesMatch","array","prev","next","deepmerge_1","cjs","extendStatics","d","b","p","__extends","__","__assign","t","s","n","__rest","i","__spreadArray","to","from","pack","l","ar","ErrorKind","TYPE","SKELETON_TYPE","isLiteralElement","el","isArgumentElement","isNumberElement","isDateElement","isTimeElement","isSelectElement","isPluralElement","isPoundElement","isTagElement","isNumberSkeleton","isDateTimeSkeleton","SPACE_SEPARATOR_REGEX","DATE_TIME_REGEX","parseDateTimeSkeleton","skeleton","result","match","len","WHITE_SPACE_REGEX","parseNumberSkeletonFromString","stringTokens","x","tokens","_i","stringTokens_1","stringToken","stemAndOptions","stem","_a","options_1","option","icuUnitToEcma","unit","FRACTION_PRECISION_REGEX","SIGNIFICANT_PRECISION_REGEX","INTEGER_WIDTH_REGEX","CONCISE_INTEGER_WIDTH_REGEX","parseSignificantPrecision","str","_","g1","g2","parseSign","parseConciseScientificAndEngineeringStem","signDisplay","parseNotationOptions","opt","signOpts","parseNumberSkeleton","tokens_1","token","all","g3","g4","g5","conciseScientificAndEngineeringOpts","timeData","getBestPattern","locale","skeletonCopy","patternPos","patternChar","extraLength","hourLen","dayPeriodLen","dayPeriodChar","hourChar","getDefaultHourSymbolFromLocale","hourCycle","languageTag","regionTag","hourCycles","SPACE_SEPARATOR_START_REGEX","SPACE_SEPARATOR_END_REGEX","createLocation","start","end","hasNativeStartsWith","hasNativeFromCodePoint","hasNativeFromEntries","hasNativeCodePointAt","hasTrimStart","hasTrimEnd","hasNativeIsSafeInteger","isSafeInteger","REGEX_SUPPORTS_U_AND_Y","re","RE","startsWith","search","position","fromCodePoint","codePoints","elements","length","code","fromEntries","entries","obj","entries_1","k","v","codePointAt","index","size","first","second","trimStart","trimEnd","flag","matchIdentifierAtIndex","IDENTIFIER_PREFIX_RE_1","c","_isWhiteSpace","_isPatternSyntax","Parser","message","nestingLevel","parentArgType","expectingCloseTag","char","_isAlpha","startPosition","tagName","childrenResult","children","endTagStartPosition","closingTagNameStartPosition","closingTagName","startOffset","_isPotentialElementNameChar","parseQuoteResult","parseUnquotedResult","parseLeftAngleResult","location","_isAlphaOrSlash","ch","openingBracePosition","startingPosition","endOffset","endPosition","typeStartPosition","argType","typeEndPosition","styleAndLocation","styleStartPosition","style","styleLocation","argCloseResult","location_1","dateTimePattern","type","typeEndPosition_1","identifierAndLocation","pluralOffset","optionsResult","location_2","nestedBraces","apostrophePosition","expectCloseTag","parsedFirstIdentifier","hasOtherClause","parsedSelectors","selector","selectorLocation","fragmentResult","expectNumberError","invalidNumberError","sign","hasDigits","decimal","offset","kind","prefix","pattern","currentOffset","targetOffset","nextCode","codepoint","pruneLocation","els","parse","opts","error","memoize","fn","cache","cacheDefault","serializer","serializerDefault","strategy","strategyDefault","isPrimitive","monadic","arg","cacheKey","computedValue","variadic","args","assemble","context","serialize","strategyVariadic","strategyMonadic","ObjectWithoutPrototypeCache","strategies","ErrorCode","FormatError","_super","msg","originalMessage","_this","InvalidValueError","variableId","InvalidValueTypeError","MissingValueError","PART_TYPE","mergeLiteral","parts","part","lastPart","isFormatXMLElementFn","formatToParts","locales","formatters","formats","values","currentPluralValue","els_1","varName","value_1","formatFn","chunks","rule","mergeConfig","c1","c2","mergeConfigs","defaultConfig","configs","createFastMemoizeCache","store","createDefaultFormatters","IntlMessageFormat","overrideFormats","parseOpts","supportedLocales","delve","fullKey","keys","partialKey","lookupCache","addToCache","path","lookup","refLocale","getPossibleLocales","getMessageFromDictionary","dictionary","$dictionary","writable","getLocaleDictionary","hasLocaleDictionary","id","localeDictionary","getClosestAvailableLocale","relatedLocales","addMessages","partials","derived","dictionary2","newDictionary","queue","createLocaleQueue","removeLoaderFromQueue","loader","getLocaleQueue","getLocalesQueues","localeItem","localeQueue","hasLocaleQueue","loadLocaleQueue","partial","activeFlushes","flush","queues","localeName","registerLocaleLoader","__getOwnPropSymbols$2","__hasOwnProp$2","__propIsEnum$2","__objRest$1","exclude","prop","defaultFormats","defaultMissingKeyHandler","getCurrentLocale","defaultOptions","getOptions","init","rest","initialLocale","$locale","$isLoading","__defProp$1","__defProps","__getOwnPropDescs","__getOwnPropSymbols$1","__hasOwnProp$1","__propIsEnum$1","__defNormalProp$1","__spreadValues$1","a","__spreadProps","current","internalLocale","getSubLocales","arr","fallbackLocale","newLocale","set","loadingDelay","loadingTimer","getLocaleFromNavigator","monadicMemoize","__defProp","__getOwnPropSymbols","__hasOwnProp","__propIsEnum","__defNormalProp","__spreadValues","__objRest","getIntlFormatterOptions","name","createNumberFormatter","_b","format","createDateFormatter","_c","_d","createTimeFormatter","_e","_f","getNumberFormatter","_g","_h","getDateFormatter","_j","getTimeFormatter","_k","_l","getMessageFormatter","formatMessage","messageObj","defaultValue","e","formatTime","formatDate","formatNumber","getJSON","$format","ctx","insert_hydration","div","anchor","append_hydration","nav","attr","a_href_value","toggle_class","set_data","t0","t0_value","dirty","button","create_if_block_2","t2_value","t7_value","span0","a0","span1","a1","span3","a2","t2","t7","create_if_block_1","create_if_block","main","div1","div0","wrapper","$$props","version","initial_height","fill_width","is_embed","is_lite","space","display","info","loaded","pages","current_page","root","set_page","getContext","route","$$value","supports_adopted_stylesheets","mount_css","url","base","_url","link","res","rej","prefix_css","string","style_element","stylesheet","importString","rules","css_string","gradio_css_infix","is_dark_rule","new_selector","mediaCssString","j","innerRule","has","find","iter","tar","dequal","foo","bar","ctor","tmp","create_loading_status_store","fn_inputs","fn_outputs","pending_outputs","pending_inputs","inputs_to_update","fn_status","update","fn_index","status","eta","progress","time_limit","outputs","inputs","last_status","outputs_to_update","new_status","pending_count","new_count","queue_position","queue_size","register","pending_updates","is_browser","raf","create_components","initial_layout","_component_map","target_map","_target_map","constructor_map","instance_map","loading_status","layout_store","_components","app","keys_per_render_id","_rootNode","value_change_cb","value_change","cb","current_layout","current_root","set_event_specific_args","dependencies","dep","instance","create_layout","_app","components","layout","matching_instance","process_frontend_fn","create_target_meta","get_inputs_outputs","preload_visible_components","acc","walk_layout","rerender_layout","render_id","replacement_components","new_components","current_element","add_to_current_children","component","child","_id","replacement_component","node","parent","constructor_key","component_constructor","get_component","determine_interactivity","process_server_fn","child_tab_items","update_scheduled","update_scheduled_store","load_newly_visible_components","newly_visible_ids","components_to_load","loadable_component","example_components","example_component","has_visibility_changes","updates","update_batch","had_visibility_changes","previous_visible_ids","determine_visible_components","new_value","old_value","is_visible","new_visible_ids","update_value","get_data","comp","get","findComponentById","modify_stream","state","get_stream_state","set_time_limit","AsyncFunction","backend_fn","input_length","output_length","wrap","targets","fn_id","trigger","input","output","has_no_default_value","interactive_prop","server_fns","class_id","example_component_map","matching_component","load_component","is_tab_item_visible","component_visible","parent_tabs_context","is_selected_tab","get_selected_tab_id","selected","child_component","process_children_visibility","visible_components","parent_visible","selected_tab_id","visible_component_ids","ordered_colors","color_values","tw_colors","colors","color","primary","secondary","ShareError","uploadToHuggingFace","data","blob","contentType","filename","response","file","uploadResponse","copy","handle_copy","event","copy_button","copy_feedback","_copy_sucess_button","copy_text","copy_sucess_button","copy_to_clipboard","copied","textArea","format_time","seconds","hours","minutes","seconds_remainder","padded_minutes","padded_seconds","Gradio","theme","autoscroll","max_file_size","i18n","client","virtual_component_loader","__privateAdd","__publicField","_el","_load_component","__privateSet","event_name","__privateGet","variant","css_units","dimension_value","formatter","string_value","translate","direct_translation","lower_value","common_key","all_common_keys","key_name","translation","reactive_formatter","loading","lang_map","langs","is_translation_metadata","translate_if_needed","i18n_marker","marker_index","before_marker","after_marker_index","json_start","json_end","bracket_count","metadata_json","after_json","metadata","translated","jsonError","process_langs","mod","en","processed_langs","available_locales","language_choices","i18n_initialized","previous_translations","setupi18n","custom_translations","load_translations","browser_locale","initial_locale","normalized_locale","changeLocale","new_locale","get_initial_locale","fallback_locale","translations","lang","semiver","bool","HOST_URL","SSE_URL","SSE_DATA_URL","UPLOAD_URL","LOGIN_URL","CONFIG_URL","API_INFO_URL","RUNTIME_URL","SLEEPTIME_URL","HEARTBEAT_URL","COMPONENT_SERVER_URL","RESET_URL","CANCEL_URL","APP_ID_URL","SPACE_FETCHER_URL","QUEUE_FULL_MSG","BROKEN_CONNECTION_MSG","CONFIG_ERROR_MSG","SPACE_STATUS_ERROR_MSG","API_INFO_ERROR_MSG","SPACE_METADATA_ERROR_MSG","INVALID_URL_MSG","UNAUTHORIZED_MSG","INVALID_CREDENTIALS_MSG","MISSING_CREDENTIALS_MSG","NODEJS_FS_ERROR_MSG","ROOT_URL_ERROR_MSG","FILE_PROCESSING_ERROR_MSG","resolve_root","base_url","root_path","prioritize_base","get_jwt","cookies","map_names_to_ids","fns","apis","api_name","resolve_config","endpoint","headers","config_url","join_urls","handleConfigResponse","authorized","error_data","auth_message","config","resolve_cookies","http_protocol","host","process_endpoint","cookie_header","get_cookie_header","auth","_fetch","hf_token","formData","determine_protocol","protocol","pathname","parse_and_set_cookies","cookie","cookie_name","cookie_value","RE_SPACE_NAME","RE_SPACE_DOMAIN","app_reference","_app_reference","_host","ws_protocol","urls","transform_api_info","api_info","api_map","transformed_info","category","parameters","returns","dependencyIndex","dependencyTypes","idx","new_param","transform_type","signature_type","get_description","get_type","r","handle_message","map_data_to_params","endpoint_info","resolved_data","provided_keys","param","view_api","upload_files","root_url","files","upload_id","chunkSize","uploadResponses","chunk","upload_url","error_text","upload","file_data","oversized_files","f","FileData","prepare_files","is_stream","orig_name","mime_type","alt_text","b64","Command","command","meta","update_object","newValue","stack","walk_and_store_blobs","blob_refs","new_path","array_refs","skip_queue","fn_queue","post_message","origin","_rej","channel","handle_payload","resolved_payload","dependency","with_null_state","updated_payload","payload_index","deps","input_id","handle_blob","self","process_local_file_commands","blobRefs","file_url","recursively_process_commands","process_single_command","cmd_item","fileBuffer","fullPath","fs","__vitePreload","fileData","post_data","body","additional_headers","predict","data_returned","status_complete","trimmed_endpoint","resolve","reject","check_space_status","status_callback","_status","stage","space_name","discussions_enabled","check_and_wake_space","space_id","retries","max_retries","check_interval","RE_DISABLED_DISCUSSION","get_space_hardware","hardware","set_space_timeout","timeout","hardware_types","duplicate","_private","user","original_hardware","requested_hardware","Client","duplicated_space","get_space_reference","regex","TextLineStream","chars","controller","_currentLine","lfIndex","crIndex","endIndex","currentLine","stream","decoder","split","fallback","events","signal","utils.stream","line","reader","field","utils.split","req","utils.fallback","open_stream","event_callbacks","unclosed_events","pending_stream_messages","stream_status","jwt","that","params","_data","close_stream","event_id","abort_controller","apply_diff_stream","pending_diff_streams","new_data","apply_diff","diff","action","apply_edit","last_path","readable_stream","submit","event_data","trigger_id","all_events","fire_event","events_to_publish","push_event","close","done","resolvers","push","push_error","thenable_reject","fetch","session_hash","api_prefix","get_endpoint_info","websocket","event_id_final","event_id_cb","_endpoint","payload","complete","url_params","cancel","reset_request","cancel_request","resolve_heartbeat","handle_render_config","render_config","any_state","any_unload","_payload","status_code","evt","hostname","callback","original_msg","broken","iterator","stripSlashes","url_path","page","ws","_config","heartbeat_url","app_id_url","app_id","configUrl","component_id","fn_name","raw_cookies","pretty_si","num","units","set_style","g0","svg","path0","path1","path2","path3","path4","path5","path6","path7","margin","top","spring","bottom","dismounted","animate","run","onMount","line0","line1","svelte_element_class_value","svelte_element","svelte_element_data","get_spread_update","svelte_element_levels","svelte_element_dir_value","create_dynamic_element","height","min_height","max_height","width","elem_id","elem_classes","border_mode","padding","test_id","explicit_call","container","visible","allow_overflow","overflow_behavior","scale","min_width","flex","resizable","rtl","fullscreen","old_fullscreen","tag","placeholder_height","placeholder_width","preexpansionBoundingRect","handleKeydown","get_dimension","resize","prevY","onMouseMove","dy","$$invalidate","onMouseUp","_getDefaults","_defaults","changeDefaults","newDefaults","escapeTest","escapeReplace","escapeTestNoEncode","escapeReplaceNoEncode","escapeReplacements","getEscapeReplacement","escape$1","html","encode","unescapeTest","unescape","caret","edit","valSource","cleanUrl","href","noopTest","splitCells","tableRow","count","row","escaped","curr","cells","rtrim","invert","suffLen","currChar","findClosingBracket","level","outputLink","cap","raw","lexer","title","text","indentCodeCompensation","matchIndentToCode","indentToCode","matchIndentInNode","indentInNode","_Tokenizer","src","trimmed","bull","isordered","list","itemRegex","itemContents","endsWithBlankLine","endEarly","nextLine","indent","blankLine","nextBulletRegex","hrRegex","fencesBeginRegex","headingBeginRegex","rawLine","istask","ischecked","spacers","hasMultipleLineBreaks","aligns","rows","item","align","header","cell","trimmedUrl","rtrimSlash","lastParenIndex","linkLen","links","linkString","maskedSrc","prevChar","lLength","rDelim","rLength","delimTotal","midDelimTotal","endReg","lastCharLength","hasNonSpaceChars","hasSpaceCharsOnBothEnds","prevCapZero","newline","blockCode","fences","hr","heading","bullet","lheading","_paragraph","blockText","_blockLabel","def","_tag","_comment","paragraph","blockquote","blockNormal","gfmTable","blockGfm","blockPedantic","escape","inlineCode","br","inlineText","_punctuation","punctuation","blockSkip","emStrongLDelim","emStrongRDelimAst","emStrongRDelimUnd","anyPunctuation","autolink","_inlineComment","_inlineLabel","reflink","nolink","reflinkSearch","inlineNormal","inlinePedantic","inlineGfm","inlineBreaks","block","inline","_Lexer","leading","tabs","lastToken","cutSrc","lastParagraphClipped","extTokenizer","startIndex","tempSrc","tempStart","getStartIndex","errMsg","keepPrevChar","_Renderer","infostring","quote","ordered","startatt","task","checked","content","flags","cleanHref","out","_TextRenderer","_Parser","genericToken","ret","headingToken","codeToken","tableToken","blockquoteToken","listToken","loose","itemBody","checkbox","htmlToken","paragraphToken","textToken","renderer","escapeToken","tagToken","linkToken","imageToken","strongToken","emToken","codespanToken","delToken","_Hooks","markdown","Marked","_parseMarkdown","_onError","__privateMethod","parseMarkdown_fn","childTokens","extensions","ext","prevRenderer","extLevel","rendererProp","rendererFunc","tokenizer","tokenizerProp","tokenizerFunc","prevTokenizer","hooks","hooksProp","hooksFunc","prevHook","walkTokens","packWalktokens","parser","origOpt","throwError","onError_fn","silent","async","markedInstance","marked","markedHighlight","getLang","updateToken","infoString","classValue","classAttr","own","BananaSlug","maintainCase","slug","originalSlug","slugger","GithubSlugger","headings","gfmHeadingId","globalSlugs","resetHeadings","_self","Prism","uniqueId","plainTextGrammar","Token","o","deepClone","visited","clone","m","language","err","scripts","className","defaultActivation","no","classList","redef","inside","before","insert","grammar","newToken","old","DFS","objId","propertyType","env","insertHighlightedCode","highlightedCode","worker","tokenList","LinkedList","addAfter","matchGrammar","toArray","callbacks","alias","matchedStr","stringify","aliases","attributes","matchPattern","pos","lookbehind","lookbehindLength","startNode","startPos","rematch","patterns","patternObj","greedy","currentNode","removeCount","matchStr","after","reach","removeFrom","removeRange","wrapped","nestedRematch","head","tail","newNode","immediateClose","script","highlightAutomaticallyCallback","readyState","module","global","includedCdataInside","attrName","markup","LOADING_MESSAGE","FAILURE_MESSAGE","FAILURE_EMPTY_MESSAGE","EXTENSIONS","STATUS_ATTR","STATUS_LOADING","STATUS_LOADED","STATUS_FAILED","SELECTOR","loadFile","success","xhr","parseRange","range","comma","pre","extension","autoloader","lines","logged","funcPattern","insideEqu","envVars","commandAfterHeredoc","insideString","toBeCopied","LINK_ICON_CODE","COPY_ICON_CODE","CHECK_ICON_CODE","COPY_BUTTON_CODE","escape_test","escape_replace","escape_test_no_encode","escape_replace_no_encode","escape_replacements","get_escape_replacement","createLatexTokenizer","delimiters","delimiterPatterns","delimiter","createMermaidTokenizer","create_marked","header_links","line_breaks","latex_delimiters","Prism?.languages","Prism.highlight","Prism.languages","mermaidTokenizer","latexTokenizer","cloneDeep","isElement","isElementFunky","FUNKY_TAG_NAMES","isElementAction","isElementIframe","isElementFormAction","isElementHyperlink","isScriptOrDataUrl","isScriptOrDataUrlLoose","mergeMaps","maps","merged","map","traverseElementsBasic","traverseElementsIterator","traverseElements","HTML_ELEMENTS_ALLOW","HTML_ELEMENTS_DISALLOW","HTML_ELEMENTS","SVG_ELEMENTS_ALLOW","SVG_ELEMENTS_DISALLOW","SVG_ELEMENTS","MATH_ELEMENTS_ALLOW","MATH_ELEMENTS_DISALLOW","MATH_ELEMENTS","HTML_ATTRIBUTES_ALLOW","SVG_ATTRIBUTES_ALLOW","MATH_ATTRIBUTES_ALLOW","NAMESPACES","NAMESPACES_ELEMENTS","NAMESPACES_ROOTS","NAMESPACES_PREFIXES","DEFAULTS","__classPrivateFieldSet","receiver","__classPrivateFieldGet","_Amuchina_configuration","_Amuchina_allowElements","_Amuchina_allowAttributes","Amuchina","configuration","allowElements","allowAttributes","namespace","namespaceParent","tagPrefixed","allPrefixed","attributesLength","attribute","allowedValues","allowComments","allowCustomElements","allowUnknownMarkup","blockElements","dropElements","dropAttributes","is_external_url","sanitize","amuchina","walk_nodes","test","standardHtmlTags","svgTags","standardHtmlAndSvgTags","span","escapeRegExp","chatbot","sanitize_html","render_markdown","allow_tags","theme_mode","katex_loaded","has_math_syntax","escapeTags","tagsToEscape","tagRegex","endChar","tagPattern","process_message","parsedValue","latexBlocks","leftDelimiter","rightDelimiter","p1","render_html","render_math_in_element","mermaidDivs","tick","mermaid","afterUpdate","show_label","Icon","label","pending","padded","highlight","disabled","hasPopup","transparent","background","_color","g","rect","fill","stroke_width","t1_value","Clear","iconbutton_changes","t1","if_block0","create_if_block_16","create_if_block_11","create_if_block_14","create_if_block_15","create_if_block_10","style_transform","create_if_block_13","t_value","create_if_block_12","loader_changes","style_width","if_block","create_if_block_3","div3","div2","create_if_block_8","create_if_block_7","create_if_block_6","if_block3","create_if_block_5","create_if_block_4","p_1","div_class_value","items","called","scroll_into_view","enable","min","box","dispatch","createEventDispatcher","scroll_to_output","timer","show_progress","loading_text","absolute","translucent","border","_timer","timer_start","timer_diff","old_eta","eta_from_start","eta_level","progress_level","last_progress_level","progress_bar","show_eta_bar","start_timer","formatted_eta","stop_timer","onDestroy","formatted_timer","setPrototypeOf","isFrozen","getPrototypeOf","getOwnPropertyDescriptor","freeze","seal","create","apply","construct","fun","thisValue","Func","arrayForEach","unapply","arrayPop","arrayPush","stringToLowerCase","stringToString","stringMatch","stringReplace","stringIndexOf","stringTrim","regExpTest","typeErrorCreate","unconstruct","func","thisArg","_len","_key","_len2","_key2","addToSet","transformCaseFunc","_transformCaseFunc","lcElement","newObject","lookupGetter","desc","fallbackValue","html$1","svg$1","svgFilters","svgDisallowed","mathMl$1","mathMlDisallowed","mathMl","xml","MUSTACHE_EXPR","ERB_EXPR","TMPLIT_EXPR","DATA_ATTR","ARIA_ATTR","IS_ALLOWED_URI","IS_SCRIPT_OR_DATA","ATTR_WHITESPACE","DOCTYPE_NAME","EXPRESSIONS","getGlobal","_createTrustedTypesPolicy","trustedTypes","purifyHostElement","suffix","ATTR_NAME","policyName","scriptUrl","createDOMPurify","window","DOMPurify","originalDocument","currentScript","document","DocumentFragment","HTMLTemplateElement","Node","Element","NodeFilter","NamedNodeMap","HTMLFormElement","DOMParser","ElementPrototype","cloneNode","getNextSibling","getChildNodes","getParentNode","template","trustedTypesPolicy","emptyHTML","implementation","createNodeIterator","createDocumentFragment","getElementsByTagName","importNode","IS_ALLOWED_URI$1","ALLOWED_TAGS","DEFAULT_ALLOWED_TAGS","ALLOWED_ATTR","DEFAULT_ALLOWED_ATTR","CUSTOM_ELEMENT_HANDLING","FORBID_TAGS","FORBID_ATTR","ALLOW_ARIA_ATTR","ALLOW_DATA_ATTR","ALLOW_UNKNOWN_PROTOCOLS","ALLOW_SELF_CLOSE_IN_ATTR","SAFE_FOR_TEMPLATES","WHOLE_DOCUMENT","SET_CONFIG","FORCE_BODY","RETURN_DOM","RETURN_DOM_FRAGMENT","RETURN_TRUSTED_TYPE","SANITIZE_DOM","SANITIZE_NAMED_PROPS","SANITIZE_NAMED_PROPS_PREFIX","KEEP_CONTENT","IN_PLACE","USE_PROFILES","FORBID_CONTENTS","DEFAULT_FORBID_CONTENTS","DATA_URI_TAGS","DEFAULT_DATA_URI_TAGS","URI_SAFE_ATTRIBUTES","DEFAULT_URI_SAFE_ATTRIBUTES","MATHML_NAMESPACE","SVG_NAMESPACE","HTML_NAMESPACE","NAMESPACE","IS_EMPTY_INPUT","ALLOWED_NAMESPACES","DEFAULT_ALLOWED_NAMESPACES","PARSER_MEDIA_TYPE","SUPPORTED_PARSER_MEDIA_TYPES","DEFAULT_PARSER_MEDIA_TYPE","CONFIG","formElement","isRegexOrFunction","testValue","_parseConfig","cfg","MATHML_TEXT_INTEGRATION_POINTS","HTML_INTEGRATION_POINTS","COMMON_SVG_AND_HTML_ELEMENTS","ALL_SVG_TAGS","ALL_MATHML_TAGS","_checkValidNamespace","parentTagName","_forceRemove","_removeAttribute","_initDocument","doc","leadingWhitespace","matches","dirtyPayload","_createIterator","_isClobbered","elm","_isNode","_executeHook","entryPoint","hook","_sanitizeElements","_basicCustomElementTest","parentNode","childNodes","childCount","_isValidAttribute","lcTag","lcName","_sanitizeAttributes","hookEvent","namespaceURI","_sanitizeShadowDOM","fragment","shadowNode","shadowIterator","importedNode","returnNode","nodeIterator","serializedHTML","hookFunction","purify","div5","div4","div5_intro","create_in_transition","fade","div5_outro","create_out_transition","duration","close_message","timer_animation_duration","stop_animation","create_animation","flip","scroll_to_top","_messages","messages","_target","props","report","propargs","ev","binding_callbacks","bind","_component","supported_props","translate_prop","$$restProps","rendercomponent_props","get_spread_object","rendercomponent_changes","each_value","ensure_array_like","get_key","render_changes","filtered_children","setContext","$$self","valid_node","$reactive_formatter","rootNode","logo","api_logo","settings_logo","record_stop","isRecording","mediaRecorder","recordedChunks","recordingStartTime","removeSegment","add_message_callback","onRecordingStateChange","zoomEffects","initialize","rootPath","add_new_message","recordingStateCallback","startRecording","originalTitle","handleDataAvailable","handleStop","stopRecording","markRemoveSegmentStart","currentTime","markRemoveSegmentEnd","addZoomEffect","is_input","FPS","currentFrame","newEffectDuration","newEffectEndFrame","existingEffect","existingEffectEndFrame","zoom","minLeft","minTop","maxRight","maxBottom","foundElements","elementId","viewportWidth","viewportHeight","boxWidth","boxHeight","widthPercentage","heightPercentage","isSafari","topLeft","bottomRight","newCenter","handleRecordingComplete","track","recordedBlob","processedBlob","defaultFilename","saveWithDownloadAttribute","suggestedName","html_tag","raw_value","t6_value","t11_value","img0","img0_src_value","img0_alt_value","img1","img1_src_value","img1_alt_value","img2","img2_src_value","img2_alt_value","footer","button0","button1","t6","t11","img","img_src_value","img_alt_value","create_if_block_9","if_block4","if_block6","if_block8","MESSAGE_QUOTE_RE","LOST_CONNECTION_MESSAGE","CHANGED_CONNECTION_MESSAGE","RECONNECTION_MESSAGE","SESSION_NOT_FOUND_MESSAGE","SHOW_DUPLICATE_MESSAGE_ON_ETA","SHOW_MOBILE_QUEUE_WARNING_ON_ETA","isCustomEvent","show_api","show_footer","control_page_title","app_mode","js","fill_height","ready","username","css","vibe_mode","broken_connection","_layout","scheduled_updates","old_dependencies","vibe_editor_width","layout_creating","search_params","api_docs_visible","settings_visible","api_recorder_visible","allow_zoom","allow_video_trim","ApiDocs","ApiRecorder","Settings","VibeEditor","loadApiDocs","api_docs_module","api_recorder_module","loadApiRecorder","loadSettings","settings_module","loadVibeEditor","vibe_editor_module","set_api_docs_visible","set_settings_visible","api_calls","render_complete","handle_update","input_type","$is_screen_recording","screen_recorder.zoom","meta_updates","update_key","submit_map","new_message","_error_id","DUPLICATE_MESSAGE","$_","MOBILE_QUEUE_WARNING","WAITING_FOR_INPUTS_MESSAGE","is_mobile_device","showed_duplicate_message","showed_mobile_warning","inputs_waiting","wait_then_trigger_api_call","dep_index","_unsub","unsub","$scheduled_updates","updating","trigger_api_call","get_component_value_or_event_data","_dep","current_status","trigger_prediction","submission","js_result","make_prediction","reconnect","connection_status","streaming","screen_recorder.markRemoveSegmentStart","set_status","$loading_status","handle_data","handle_render","handle_status_update","handle_log","render_layout","_dependencies","deps_to_remove","old_dep","log","open_stream_events","deps_triggered_by_state","_message","_title","screen_recorder.markRemoveSegmentEnd","trigger_share","description","discussion_url","handle_error_close","handle_mount","_link","handle_load_triggers","update_status","$targets","dep_id","statuses","additional_updates","pending_status","is_screen_recording","screen_recorder.initialize","handleVibeEditorResize","screen_recording","screen_recorder.stopRecording","screen_recorder.startRecording","$_layout","button_intro","textarea","textarea_autocapitalize_value","textarea_autocorrect_value","textarea_spellcheck_value","textarea_autocomplete_value","textarea_tabindex_value","textarea_enterkeyhint_value","textarea_lang_value","input_autocapitalize_value","input_autocorrect_value","input_spellcheck_value","input_tabindex_value","input_enterkeyhint_value","input_lang_value","input_autocomplete_value","label_1","update_scrollbar_visibility","content_height","visible_height","line_height","value_is_output","placeholder","max_lines","show_copy_button","submit_btn","stop_btn","autofocus","text_align","max_length","html_attributes","can_scroll","previous_scroll_top","user_has_scrolled_up","_max_lines","show_textbox_border","beforeUpdate","scroll","handle_change","handle_select","handle_keypress","handle_scroll","current_scroll_top","max_scroll_top","handle_stop","handle_submit","computed_styles","padding_top","padding_bottom","max","scroll_height","text_area_resize","_value","WORKER_PROXY_CONTEXT_KEY","getWorkerProxyContext","FAKE_LITE_HOST","is_self_host","getHeaderValue","unifiedKey","should_proxy_wasm_src","maybeWorkerProxy","resolve_wasm_src","resolved_src","latest_src","resolving_src","button_class_value","a_class_value","image_changes","icon","gradio","textbox_changes","h2","password","incorrect_credentials","load","server","port","local_dev_mode","api_url","deepLink","error_message","Login","page_config","layouts","Blocks","inject_fonts","source_sans_pro","ibm_mono","Box","ArrowCollapse","arrow","Collapse","Count","Heart","heart","Like","Avatar","Namespace","spaceName","Separation","separation","Username","Content","handleCollapse","check_avatar","get_space","inject","initialSpace","_a2","org","mini_header_element","switch_value","switch_instance_changes","loader_status","document_1","link0","link1","embed_changes","create_intersection_store","intersecting","observer","entry","add_custom_html_head","head_string","parsed_head_html","head_element","newElement","propertyAttr","nameAttr","matched","handle_theme_mode","new_theme_mode","url_color_mode","apply_theme","sync_system_theme","update_scheme","_theme","dark_class_element","bg_element","active_theme_mode","handle_status","pending_deep_link_error","supports_zerogpu_headers","new_message_fn","spaceheader","mount_space_header"],"ignoreList":[0,1,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,22,30,44,45,46,53,54,55,56,57,58,59,60,61,63,64,65,82,105],"sources":["../../../../../../../../node_modules/.pnpm/esm-env@1.0.0/node_modules/esm-env/prod-browser.js","../../../../../../../../node_modules/.pnpm/@sveltejs+kit@2.5.20_@sveltejs+vite-plugin-svelte@3.1.0_svelte@4.2.15_vite@5.2.11_@types+node_5qlfuvulcykb7n4xkfzb6ec34e/node_modules/@sveltejs/kit/src/runtime/app/environment/index.js","../../../../../../../core/src/images/spaces.svg","../../../../../../../../node_modules/.pnpm/deepmerge@4.3.1/node_modules/deepmerge/dist/cjs.js","../../../../../../../../node_modules/.pnpm/tslib@2.6.2/node_modules/tslib/tslib.es6.mjs","../../../../../../../../node_modules/.pnpm/@formatjs+icu-messageformat-parser@2.7.6/node_modules/@formatjs/icu-messageformat-parser/lib/error.js","../../../../../../../../node_modules/.pnpm/@formatjs+icu-messageformat-parser@2.7.6/node_modules/@formatjs/icu-messageformat-parser/lib/types.js","../../../../../../../../node_modules/.pnpm/@formatjs+icu-messageformat-parser@2.7.6/node_modules/@formatjs/icu-messageformat-parser/lib/regex.generated.js","../../../../../../../../node_modules/.pnpm/@formatjs+icu-skeleton-parser@1.8.0/node_modules/@formatjs/icu-skeleton-parser/lib/date-time.js","../../../../../../../../node_modules/.pnpm/@formatjs+icu-skeleton-parser@1.8.0/node_modules/@formatjs/icu-skeleton-parser/lib/regex.generated.js","../../../../../../../../node_modules/.pnpm/@formatjs+icu-skeleton-parser@1.8.0/node_modules/@formatjs/icu-skeleton-parser/lib/number.js","../../../../../../../../node_modules/.pnpm/@formatjs+icu-messageformat-parser@2.7.6/node_modules/@formatjs/icu-messageformat-parser/lib/time-data.generated.js","../../../../../../../../node_modules/.pnpm/@formatjs+icu-messageformat-parser@2.7.6/node_modules/@formatjs/icu-messageformat-parser/lib/date-time-pattern-generator.js","../../../../../../../../node_modules/.pnpm/@formatjs+icu-messageformat-parser@2.7.6/node_modules/@formatjs/icu-messageformat-parser/lib/parser.js","../../../../../../../../node_modules/.pnpm/@formatjs+icu-messageformat-parser@2.7.6/node_modules/@formatjs/icu-messageformat-parser/lib/index.js","../../../../../../../../node_modules/.pnpm/@formatjs+fast-memoize@2.2.0/node_modules/@formatjs/fast-memoize/lib/index.js","../../../../../../../../node_modules/.pnpm/intl-messageformat@10.5.11/node_modules/intl-messageformat/lib/src/error.js","../../../../../../../../node_modules/.pnpm/intl-messageformat@10.5.11/node_modules/intl-messageformat/lib/src/formatters.js","../../../../../../../../node_modules/.pnpm/intl-messageformat@10.5.11/node_modules/intl-messageformat/lib/src/core.js","../../../../../../../../node_modules/.pnpm/svelte-i18n@4.0.0_svelte@4.2.15/node_modules/svelte-i18n/dist/runtime.js","../../../../../../../core/src/Embed.svelte","../../../../../../../core/src/css.ts","../../../../../../../../node_modules/.pnpm/dequal@2.0.3/node_modules/dequal/dist/index.mjs","../../../../../../../core/src/stores.ts","../../../../../../../core/src/init.ts","../../../../../../../theme/src/colors.ts","../../../../../../../utils/src/utils.ts","../../../../../../../core/src/gradio_helper.ts","../../../../../../../core/src/lang/loading.ts","../../../../../../../core/src/i18n.ts","../../../../../../../../node_modules/.pnpm/semiver@1.1.0/node_modules/semiver/dist/semiver.mjs","../../../../../../../../client/js/src/constants.ts","../../../../../../../../client/js/src/helpers/init_helpers.ts","../../../../../../../../client/js/src/helpers/api_info.ts","../../../../../../../../client/js/src/utils/view_api.ts","../../../../../../../../client/js/src/utils/upload_files.ts","../../../../../../../../client/js/src/upload.ts","../../../../../../../../client/js/src/types.ts","../../../../../../../../client/js/src/helpers/data.ts","../../../../../../../../client/js/src/utils/handle_blob.ts","../../../../../../../../client/js/src/utils/post_data.ts","../../../../../../../../client/js/src/utils/predict.ts","../../../../../../../../client/js/src/helpers/spaces.ts","../../../../../../../../client/js/src/utils/duplicate.ts","../../../../../../../../node_modules/.pnpm/fetch-event-stream@0.1.5/node_modules/fetch-event-stream/esm/deps/jsr.io/@std/streams/0.221.0/text_line_stream.js","../../../../../../../../node_modules/.pnpm/fetch-event-stream@0.1.5/node_modules/fetch-event-stream/esm/utils.js","../../../../../../../../node_modules/.pnpm/fetch-event-stream@0.1.5/node_modules/fetch-event-stream/esm/mod.js","../../../../../../../../client/js/src/utils/stream.ts","../../../../../../../../client/js/src/utils/submit.ts","../../../../../../../../client/js/src/client.ts","../../../../../../../statustracker/static/utils.ts","../../../../../../../statustracker/static/Loader.svelte","../../../../../../../atoms/src/Block.svelte","../../../../../../../../node_modules/.pnpm/marked@12.0.0/node_modules/marked/lib/marked.esm.js","../../../../../../../../node_modules/.pnpm/marked-highlight@2.2.0_marked@12.0.0/node_modules/marked-highlight/src/index.js","../../../../../../../../node_modules/.pnpm/github-slugger@2.0.0/node_modules/github-slugger/regex.js","../../../../../../../../node_modules/.pnpm/github-slugger@2.0.0/node_modules/github-slugger/index.js","../../../../../../../../node_modules/.pnpm/marked-gfm-heading-id@3.2.0_marked@12.0.0/node_modules/marked-gfm-heading-id/src/index.js","../../../../../../../../node_modules/.pnpm/prismjs@1.29.0/node_modules/prismjs/prism.js","../../../../../../../../node_modules/.pnpm/prismjs@1.29.0/node_modules/prismjs/components/prism-python.js","../../../../../../../../node_modules/.pnpm/prismjs@1.29.0/node_modules/prismjs/components/prism-latex.js","../../../../../../../../node_modules/.pnpm/prismjs@1.29.0/node_modules/prismjs/components/prism-bash.js","../../../../../../../markdown-code/utils.ts","../../../../../../../../node_modules/.pnpm/amuchina@1.0.12/node_modules/amuchina/dist/utils.js","../../../../../../../../node_modules/.pnpm/amuchina@1.0.12/node_modules/amuchina/dist/constants.js","../../../../../../../../node_modules/.pnpm/amuchina@1.0.12/node_modules/amuchina/dist/index.js","../../../../../../../sanitize/browser.ts","../../../../../../../markdown-code/html-tags.ts","../../../../../../../markdown-code/MarkdownCode.svelte","../../../../../../../atoms/src/Info.svelte","../../../../../../../atoms/src/BlockTitle.svelte","../../../../../../../atoms/src/IconButton.svelte","../../../../../../../icons/src/Check.svelte","../../../../../../../icons/src/Clear.svelte","../../../../../../../icons/src/Copy.svelte","../../../../../../../icons/src/Error.svelte","../../../../../../../icons/src/Info.svelte","../../../../../../../icons/src/Success.svelte","../../../../../../../icons/src/Send.svelte","../../../../../../../icons/src/Square.svelte","../../../../../../../icons/src/Warning.svelte","../../../../../../../statustracker/static/index.svelte","../../../../../../../../node_modules/.pnpm/dompurify@3.0.3/node_modules/dompurify/dist/purify.es.js","../../../../../../../statustracker/static/ToastContent.svelte","../../../../../../../statustracker/static/Toast.svelte","../../../../../../../core/src/RenderComponent.svelte","../../../../../../../core/src/Render.svelte","../../../../../../../core/src/MountComponents.svelte","../../../../../../../core/src/images/logo.svg","../../../../../../../core/src/api_docs/img/api-logo.svg","../../../../../../../core/src/api_docs/img/settings-logo.svg","../../../../../../../core/src/api_docs/img/record-stop.svg","../../../../../../../core/src/screen_recorder.ts","../../../../../../../core/src/Blocks.svelte","../../../../../../../form/Index.svelte","../../../../../../../textbox/shared/Textbox.svelte","../../../../../../../wasm/svelte/context.ts","../../../../../../../wasm/network/host.ts","../../../../../../../wasm/src/http.ts","../../../../../../../wasm/svelte/file-url.ts","../../../../../../../image/shared/Image.svelte","../../../../../../../button/shared/Button.svelte","../../../../../../../column/Index.svelte","../../../../../../../core/src/Login.svelte","../../../../../../src/routes/[...catchall]/+page.ts","../../../../../../../../node_modules/.pnpm/@huggingface+space-header@1.0.4/node_modules/@huggingface/space-header/dist/browser/index.mjs","../../../../../../src/routes/[...catchall]/+page.svelte"],"sourcesContent":["export const BROWSER = true;\nexport const DEV = false;\n","import { BROWSER, DEV } from 'esm-env';\nexport { building, version } from '__sveltekit/environment';\n\nexport const browser = BROWSER;\n\nexport const dev = DEV;\n","export default \"data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='10'%20height='10'%20fill='none'%3e%3cpath%20fill='%23FF3270'%20d='M1.93%206.03v2.04h2.04V6.03H1.93Z'/%3e%3cpath%20fill='%23861FFF'%20d='M6.03%206.03v2.04h2.04V6.03H6.03Z'/%3e%3cpath%20fill='%23097EFF'%20d='M1.93%201.93v2.04h2.04V1.93H1.93Z'/%3e%3cpath%20fill='%23000'%20fill-rule='evenodd'%20d='M.5%201.4c0-.5.4-.9.9-.9h3.1a.9.9%200%200%201%20.87.67A2.44%202.44%200%200%201%209.5%202.95c0%20.65-.25%201.24-.67%201.68.39.1.67.46.67.88v3.08c0%20.5-.4.91-.9.91H1.4a.9.9%200%200%201-.9-.9V1.4Zm1.43.53v2.04h2.04V1.93H1.93Zm0%206.14V6.03h2.04v2.04H1.93Zm4.1%200V6.03h2.04v2.04H6.03Zm0-5.12a1.02%201.02%200%201%201%202.04%200%201.02%201.02%200%200%201-2.04%200Z'%20clip-rule='evenodd'/%3e%3cpath%20fill='%23FFD702'%20d='M7.05%201.93a1.02%201.02%200%201%200%200%202.04%201.02%201.02%200%200%200%200-2.04Z'/%3e%3c/svg%3e\"","'use strict';\n\nvar isMergeableObject = function isMergeableObject(value) {\n\treturn isNonNullObject(value)\n\t\t&& !isSpecial(value)\n};\n\nfunction isNonNullObject(value) {\n\treturn !!value && typeof value === 'object'\n}\n\nfunction isSpecial(value) {\n\tvar stringValue = Object.prototype.toString.call(value);\n\n\treturn stringValue === '[object RegExp]'\n\t\t|| stringValue === '[object Date]'\n\t\t|| isReactElement(value)\n}\n\n// see https://github.com/facebook/react/blob/b5ac963fb791d1298e7f396236383bc955f916c1/src/isomorphic/classic/element/ReactElement.js#L21-L25\nvar canUseSymbol = typeof Symbol === 'function' && Symbol.for;\nvar REACT_ELEMENT_TYPE = canUseSymbol ? Symbol.for('react.element') : 0xeac7;\n\nfunction isReactElement(value) {\n\treturn value.$$typeof === REACT_ELEMENT_TYPE\n}\n\nfunction emptyTarget(val) {\n\treturn Array.isArray(val) ? [] : {}\n}\n\nfunction cloneUnlessOtherwiseSpecified(value, options) {\n\treturn (options.clone !== false && options.isMergeableObject(value))\n\t\t? deepmerge(emptyTarget(value), value, options)\n\t\t: value\n}\n\nfunction defaultArrayMerge(target, source, options) {\n\treturn target.concat(source).map(function(element) {\n\t\treturn cloneUnlessOtherwiseSpecified(element, options)\n\t})\n}\n\nfunction getMergeFunction(key, options) {\n\tif (!options.customMerge) {\n\t\treturn deepmerge\n\t}\n\tvar customMerge = options.customMerge(key);\n\treturn typeof customMerge === 'function' ? customMerge : deepmerge\n}\n\nfunction getEnumerableOwnPropertySymbols(target) {\n\treturn Object.getOwnPropertySymbols\n\t\t? Object.getOwnPropertySymbols(target).filter(function(symbol) {\n\t\t\treturn Object.propertyIsEnumerable.call(target, symbol)\n\t\t})\n\t\t: []\n}\n\nfunction getKeys(target) {\n\treturn Object.keys(target).concat(getEnumerableOwnPropertySymbols(target))\n}\n\nfunction propertyIsOnObject(object, property) {\n\ttry {\n\t\treturn property in object\n\t} catch(_) {\n\t\treturn false\n\t}\n}\n\n// Protects from prototype poisoning and unexpected merging up the prototype chain.\nfunction propertyIsUnsafe(target, key) {\n\treturn propertyIsOnObject(target, key) // Properties are safe to merge if they don't exist in the target yet,\n\t\t&& !(Object.hasOwnProperty.call(target, key) // unsafe if they exist up the prototype chain,\n\t\t\t&& Object.propertyIsEnumerable.call(target, key)) // and also unsafe if they're nonenumerable.\n}\n\nfunction mergeObject(target, source, options) {\n\tvar destination = {};\n\tif (options.isMergeableObject(target)) {\n\t\tgetKeys(target).forEach(function(key) {\n\t\t\tdestination[key] = cloneUnlessOtherwiseSpecified(target[key], options);\n\t\t});\n\t}\n\tgetKeys(source).forEach(function(key) {\n\t\tif (propertyIsUnsafe(target, key)) {\n\t\t\treturn\n\t\t}\n\n\t\tif (propertyIsOnObject(target, key) && options.isMergeableObject(source[key])) {\n\t\t\tdestination[key] = getMergeFunction(key, options)(target[key], source[key], options);\n\t\t} else {\n\t\t\tdestination[key] = cloneUnlessOtherwiseSpecified(source[key], options);\n\t\t}\n\t});\n\treturn destination\n}\n\nfunction deepmerge(target, source, options) {\n\toptions = options || {};\n\toptions.arrayMerge = options.arrayMerge || defaultArrayMerge;\n\toptions.isMergeableObject = options.isMergeableObject || isMergeableObject;\n\t// cloneUnlessOtherwiseSpecified is added to `options` so that custom arrayMerge()\n\t// implementations can use it. The caller may not replace it.\n\toptions.cloneUnlessOtherwiseSpecified = cloneUnlessOtherwiseSpecified;\n\n\tvar sourceIsArray = Array.isArray(source);\n\tvar targetIsArray = Array.isArray(target);\n\tvar sourceAndTargetTypesMatch = sourceIsArray === targetIsArray;\n\n\tif (!sourceAndTargetTypesMatch) {\n\t\treturn cloneUnlessOtherwiseSpecified(source, options)\n\t} else if (sourceIsArray) {\n\t\treturn options.arrayMerge(target, source, options)\n\t} else {\n\t\treturn mergeObject(target, source, options)\n\t}\n}\n\ndeepmerge.all = function deepmergeAll(array, options) {\n\tif (!Array.isArray(array)) {\n\t\tthrow new Error('first argument should be an array')\n\t}\n\n\treturn array.reduce(function(prev, next) {\n\t\treturn deepmerge(prev, next, options)\n\t}, {})\n};\n\nvar deepmerge_1 = deepmerge;\n\nmodule.exports = deepmerge_1;\n","/******************************************************************************\nCopyright (c) Microsoft Corporation.\n\nPermission to use, copy, modify, and/or distribute this software for any\npurpose with or without fee is hereby granted.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\nPERFORMANCE OF THIS SOFTWARE.\n***************************************************************************** */\n/* global Reflect, Promise, SuppressedError, Symbol */\n\nvar extendStatics = function(d, b) {\n  extendStatics = Object.setPrototypeOf ||\n      ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n      function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n  return extendStatics(d, b);\n};\n\nexport function __extends(d, b) {\n  if (typeof b !== \"function\" && b !== null)\n      throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n  extendStatics(d, b);\n  function __() { this.constructor = d; }\n  d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n}\n\nexport var __assign = function() {\n  __assign = Object.assign || function __assign(t) {\n      for (var s, i = 1, n = arguments.length; i < n; i++) {\n          s = arguments[i];\n          for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n      return t;\n  }\n  return __assign.apply(this, arguments);\n}\n\nexport function __rest(s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n      t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n      for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n          if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n              t[p[i]] = s[p[i]];\n      }\n  return t;\n}\n\nexport function __decorate(decorators, target, key, desc) {\n  var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n  else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n}\n\nexport function __param(paramIndex, decorator) {\n  return function (target, key) { decorator(target, key, paramIndex); }\n}\n\nexport function __esDecorate(ctor, descriptorIn, decorators, contextIn, initializers, extraInitializers) {\n  function accept(f) { if (f !== void 0 && typeof f !== \"function\") throw new TypeError(\"Function expected\"); return f; }\n  var kind = contextIn.kind, key = kind === \"getter\" ? \"get\" : kind === \"setter\" ? \"set\" : \"value\";\n  var target = !descriptorIn && ctor ? contextIn[\"static\"] ? ctor : ctor.prototype : null;\n  var descriptor = descriptorIn || (target ? Object.getOwnPropertyDescriptor(target, contextIn.name) : {});\n  var _, done = false;\n  for (var i = decorators.length - 1; i >= 0; i--) {\n      var context = {};\n      for (var p in contextIn) context[p] = p === \"access\" ? {} : contextIn[p];\n      for (var p in contextIn.access) context.access[p] = contextIn.access[p];\n      context.addInitializer = function (f) { if (done) throw new TypeError(\"Cannot add initializers after decoration has completed\"); extraInitializers.push(accept(f || null)); };\n      var result = (0, decorators[i])(kind === \"accessor\" ? { get: descriptor.get, set: descriptor.set } : descriptor[key], context);\n      if (kind === \"accessor\") {\n          if (result === void 0) continue;\n          if (result === null || typeof result !== \"object\") throw new TypeError(\"Object expected\");\n          if (_ = accept(result.get)) descriptor.get = _;\n          if (_ = accept(result.set)) descriptor.set = _;\n          if (_ = accept(result.init)) initializers.unshift(_);\n      }\n      else if (_ = accept(result)) {\n          if (kind === \"field\") initializers.unshift(_);\n          else descriptor[key] = _;\n      }\n  }\n  if (target) Object.defineProperty(target, contextIn.name, descriptor);\n  done = true;\n};\n\nexport function __runInitializers(thisArg, initializers, value) {\n  var useValue = arguments.length > 2;\n  for (var i = 0; i < initializers.length; i++) {\n      value = useValue ? initializers[i].call(thisArg, value) : initializers[i].call(thisArg);\n  }\n  return useValue ? value : void 0;\n};\n\nexport function __propKey(x) {\n  return typeof x === \"symbol\" ? x : \"\".concat(x);\n};\n\nexport function __setFunctionName(f, name, prefix) {\n  if (typeof name === \"symbol\") name = name.description ? \"[\".concat(name.description, \"]\") : \"\";\n  return Object.defineProperty(f, \"name\", { configurable: true, value: prefix ? \"\".concat(prefix, \" \", name) : name });\n};\n\nexport function __metadata(metadataKey, metadataValue) {\n  if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\n}\n\nexport function __awaiter(thisArg, _arguments, P, generator) {\n  function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n  return new (P || (P = Promise))(function (resolve, reject) {\n      function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n      function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n      function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n      step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n}\n\nexport function __generator(thisArg, body) {\n  var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n  return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n  function verb(n) { return function (v) { return step([n, v]); }; }\n  function step(op) {\n      if (f) throw new TypeError(\"Generator is already executing.\");\n      while (g && (g = 0, op[0] && (_ = 0)), _) try {\n          if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n          if (y = 0, t) op = [op[0] & 2, t.value];\n          switch (op[0]) {\n              case 0: case 1: t = op; break;\n              case 4: _.label++; return { value: op[1], done: false };\n              case 5: _.label++; y = op[1]; op = [0]; continue;\n              case 7: op = _.ops.pop(); _.trys.pop(); continue;\n              default:\n                  if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                  if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                  if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                  if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                  if (t[2]) _.ops.pop();\n                  _.trys.pop(); continue;\n          }\n          op = body.call(thisArg, _);\n      } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n      if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n  }\n}\n\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n  }\n  Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nexport function __exportStar(m, o) {\n  for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\n}\n\nexport function __values(o) {\n  var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n  if (m) return m.call(o);\n  if (o && typeof o.length === \"number\") return {\n      next: function () {\n          if (o && i >= o.length) o = void 0;\n          return { value: o && o[i++], done: !o };\n      }\n  };\n  throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n}\n\nexport function __read(o, n) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n  if (!m) return o;\n  var i = m.call(o), r, ar = [], e;\n  try {\n      while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n  }\n  catch (error) { e = { error: error }; }\n  finally {\n      try {\n          if (r && !r.done && (m = i[\"return\"])) m.call(i);\n      }\n      finally { if (e) throw e.error; }\n  }\n  return ar;\n}\n\n/** @deprecated */\nexport function __spread() {\n  for (var ar = [], i = 0; i < arguments.length; i++)\n      ar = ar.concat(__read(arguments[i]));\n  return ar;\n}\n\n/** @deprecated */\nexport function __spreadArrays() {\n  for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n  for (var r = Array(s), k = 0, i = 0; i < il; i++)\n      for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n          r[k] = a[j];\n  return r;\n}\n\nexport function __spreadArray(to, from, pack) {\n  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n      if (ar || !(i in from)) {\n          if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n          ar[i] = from[i];\n      }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from));\n}\n\nexport function __await(v) {\n  return this instanceof __await ? (this.v = v, this) : new __await(v);\n}\n\nexport function __asyncGenerator(thisArg, _arguments, generator) {\n  if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n  var g = generator.apply(thisArg, _arguments || []), i, q = [];\n  return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\n  function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\n  function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\n  function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\n  function fulfill(value) { resume(\"next\", value); }\n  function reject(value) { resume(\"throw\", value); }\n  function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\n}\n\nexport function __asyncDelegator(o) {\n  var i, p;\n  return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\n  function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: false } : f ? f(v) : v; } : f; }\n}\n\nexport function __asyncValues(o) {\n  if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n  var m = o[Symbol.asyncIterator], i;\n  return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\n  function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\n  function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\n}\n\nexport function __makeTemplateObject(cooked, raw) {\n  if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\n  return cooked;\n};\n\nvar __setModuleDefault = Object.create ? (function(o, v) {\n  Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n  o[\"default\"] = v;\n};\n\nexport function __importStar(mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  __setModuleDefault(result, mod);\n  return result;\n}\n\nexport function __importDefault(mod) {\n  return (mod && mod.__esModule) ? mod : { default: mod };\n}\n\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n  return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n}\n\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\n  if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n  return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n}\n\nexport function __classPrivateFieldIn(state, receiver) {\n  if (receiver === null || (typeof receiver !== \"object\" && typeof receiver !== \"function\")) throw new TypeError(\"Cannot use 'in' operator on non-object\");\n  return typeof state === \"function\" ? receiver === state : state.has(receiver);\n}\n\nexport function __addDisposableResource(env, value, async) {\n  if (value !== null && value !== void 0) {\n    if (typeof value !== \"object\" && typeof value !== \"function\") throw new TypeError(\"Object expected.\");\n    var dispose;\n    if (async) {\n        if (!Symbol.asyncDispose) throw new TypeError(\"Symbol.asyncDispose is not defined.\");\n        dispose = value[Symbol.asyncDispose];\n    }\n    if (dispose === void 0) {\n        if (!Symbol.dispose) throw new TypeError(\"Symbol.dispose is not defined.\");\n        dispose = value[Symbol.dispose];\n    }\n    if (typeof dispose !== \"function\") throw new TypeError(\"Object not disposable.\");\n    env.stack.push({ value: value, dispose: dispose, async: async });\n  }\n  else if (async) {\n    env.stack.push({ async: true });\n  }\n  return value;\n}\n\nvar _SuppressedError = typeof SuppressedError === \"function\" ? SuppressedError : function (error, suppressed, message) {\n  var e = new Error(message);\n  return e.name = \"SuppressedError\", e.error = error, e.suppressed = suppressed, e;\n};\n\nexport function __disposeResources(env) {\n  function fail(e) {\n    env.error = env.hasError ? new _SuppressedError(e, env.error, \"An error was suppressed during disposal.\") : e;\n    env.hasError = true;\n  }\n  function next() {\n    while (env.stack.length) {\n      var rec = env.stack.pop();\n      try {\n        var result = rec.dispose && rec.dispose.call(rec.value);\n        if (rec.async) return Promise.resolve(result).then(next, function(e) { fail(e); return next(); });\n      }\n      catch (e) {\n          fail(e);\n      }\n    }\n    if (env.hasError) throw env.error;\n  }\n  return next();\n}\n\nexport default {\n  __extends,\n  __assign,\n  __rest,\n  __decorate,\n  __param,\n  __metadata,\n  __awaiter,\n  __generator,\n  __createBinding,\n  __exportStar,\n  __values,\n  __read,\n  __spread,\n  __spreadArrays,\n  __spreadArray,\n  __await,\n  __asyncGenerator,\n  __asyncDelegator,\n  __asyncValues,\n  __makeTemplateObject,\n  __importStar,\n  __importDefault,\n  __classPrivateFieldGet,\n  __classPrivateFieldSet,\n  __classPrivateFieldIn,\n  __addDisposableResource,\n  __disposeResources,\n};\n","export var ErrorKind;\n(function (ErrorKind) {\n    /** Argument is unclosed (e.g. `{0`) */\n    ErrorKind[ErrorKind[\"EXPECT_ARGUMENT_CLOSING_BRACE\"] = 1] = \"EXPECT_ARGUMENT_CLOSING_BRACE\";\n    /** Argument is empty (e.g. `{}`). */\n    ErrorKind[ErrorKind[\"EMPTY_ARGUMENT\"] = 2] = \"EMPTY_ARGUMENT\";\n    /** Argument is malformed (e.g. `{foo!}``) */\n    ErrorKind[ErrorKind[\"MALFORMED_ARGUMENT\"] = 3] = \"MALFORMED_ARGUMENT\";\n    /** Expect an argument type (e.g. `{foo,}`) */\n    ErrorKind[ErrorKind[\"EXPECT_ARGUMENT_TYPE\"] = 4] = \"EXPECT_ARGUMENT_TYPE\";\n    /** Unsupported argument type (e.g. `{foo,foo}`) */\n    ErrorKind[ErrorKind[\"INVALID_ARGUMENT_TYPE\"] = 5] = \"INVALID_ARGUMENT_TYPE\";\n    /** Expect an argument style (e.g. `{foo, number, }`) */\n    ErrorKind[ErrorKind[\"EXPECT_ARGUMENT_STYLE\"] = 6] = \"EXPECT_ARGUMENT_STYLE\";\n    /** The number skeleton is invalid. */\n    ErrorKind[ErrorKind[\"INVALID_NUMBER_SKELETON\"] = 7] = \"INVALID_NUMBER_SKELETON\";\n    /** The date time skeleton is invalid. */\n    ErrorKind[ErrorKind[\"INVALID_DATE_TIME_SKELETON\"] = 8] = \"INVALID_DATE_TIME_SKELETON\";\n    /** Exepct a number skeleton following the `::` (e.g. `{foo, number, ::}`) */\n    ErrorKind[ErrorKind[\"EXPECT_NUMBER_SKELETON\"] = 9] = \"EXPECT_NUMBER_SKELETON\";\n    /** Exepct a date time skeleton following the `::` (e.g. `{foo, date, ::}`) */\n    ErrorKind[ErrorKind[\"EXPECT_DATE_TIME_SKELETON\"] = 10] = \"EXPECT_DATE_TIME_SKELETON\";\n    /** Unmatched apostrophes in the argument style (e.g. `{foo, number, 'test`) */\n    ErrorKind[ErrorKind[\"UNCLOSED_QUOTE_IN_ARGUMENT_STYLE\"] = 11] = \"UNCLOSED_QUOTE_IN_ARGUMENT_STYLE\";\n    /** Missing select argument options (e.g. `{foo, select}`) */\n    ErrorKind[ErrorKind[\"EXPECT_SELECT_ARGUMENT_OPTIONS\"] = 12] = \"EXPECT_SELECT_ARGUMENT_OPTIONS\";\n    /** Expecting an offset value in `plural` or `selectordinal` argument (e.g `{foo, plural, offset}`) */\n    ErrorKind[ErrorKind[\"EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE\"] = 13] = \"EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE\";\n    /** Offset value in `plural` or `selectordinal` is invalid (e.g. `{foo, plural, offset: x}`) */\n    ErrorKind[ErrorKind[\"INVALID_PLURAL_ARGUMENT_OFFSET_VALUE\"] = 14] = \"INVALID_PLURAL_ARGUMENT_OFFSET_VALUE\";\n    /** Expecting a selector in `select` argument (e.g `{foo, select}`) */\n    ErrorKind[ErrorKind[\"EXPECT_SELECT_ARGUMENT_SELECTOR\"] = 15] = \"EXPECT_SELECT_ARGUMENT_SELECTOR\";\n    /** Expecting a selector in `plural` or `selectordinal` argument (e.g `{foo, plural}`) */\n    ErrorKind[ErrorKind[\"EXPECT_PLURAL_ARGUMENT_SELECTOR\"] = 16] = \"EXPECT_PLURAL_ARGUMENT_SELECTOR\";\n    /** Expecting a message fragment after the `select` selector (e.g. `{foo, select, apple}`) */\n    ErrorKind[ErrorKind[\"EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT\"] = 17] = \"EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT\";\n    /**\n     * Expecting a message fragment after the `plural` or `selectordinal` selector\n     * (e.g. `{foo, plural, one}`)\n     */\n    ErrorKind[ErrorKind[\"EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT\"] = 18] = \"EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT\";\n    /** Selector in `plural` or `selectordinal` is malformed (e.g. `{foo, plural, =x {#}}`) */\n    ErrorKind[ErrorKind[\"INVALID_PLURAL_ARGUMENT_SELECTOR\"] = 19] = \"INVALID_PLURAL_ARGUMENT_SELECTOR\";\n    /**\n     * Duplicate selectors in `plural` or `selectordinal` argument.\n     * (e.g. {foo, plural, one {#} one {#}})\n     */\n    ErrorKind[ErrorKind[\"DUPLICATE_PLURAL_ARGUMENT_SELECTOR\"] = 20] = \"DUPLICATE_PLURAL_ARGUMENT_SELECTOR\";\n    /** Duplicate selectors in `select` argument.\n     * (e.g. {foo, select, apple {apple} apple {apple}})\n     */\n    ErrorKind[ErrorKind[\"DUPLICATE_SELECT_ARGUMENT_SELECTOR\"] = 21] = \"DUPLICATE_SELECT_ARGUMENT_SELECTOR\";\n    /** Plural or select argument option must have `other` clause. */\n    ErrorKind[ErrorKind[\"MISSING_OTHER_CLAUSE\"] = 22] = \"MISSING_OTHER_CLAUSE\";\n    /** The tag is malformed. (e.g. `<bold!>foo</bold!>) */\n    ErrorKind[ErrorKind[\"INVALID_TAG\"] = 23] = \"INVALID_TAG\";\n    /** The tag name is invalid. (e.g. `<123>foo</123>`) */\n    ErrorKind[ErrorKind[\"INVALID_TAG_NAME\"] = 25] = \"INVALID_TAG_NAME\";\n    /** The closing tag does not match the opening tag. (e.g. `<bold>foo</italic>`) */\n    ErrorKind[ErrorKind[\"UNMATCHED_CLOSING_TAG\"] = 26] = \"UNMATCHED_CLOSING_TAG\";\n    /** The opening tag has unmatched closing tag. (e.g. `<bold>foo`) */\n    ErrorKind[ErrorKind[\"UNCLOSED_TAG\"] = 27] = \"UNCLOSED_TAG\";\n})(ErrorKind || (ErrorKind = {}));\n","export var TYPE;\n(function (TYPE) {\n    /**\n     * Raw text\n     */\n    TYPE[TYPE[\"literal\"] = 0] = \"literal\";\n    /**\n     * Variable w/o any format, e.g `var` in `this is a {var}`\n     */\n    TYPE[TYPE[\"argument\"] = 1] = \"argument\";\n    /**\n     * Variable w/ number format\n     */\n    TYPE[TYPE[\"number\"] = 2] = \"number\";\n    /**\n     * Variable w/ date format\n     */\n    TYPE[TYPE[\"date\"] = 3] = \"date\";\n    /**\n     * Variable w/ time format\n     */\n    TYPE[TYPE[\"time\"] = 4] = \"time\";\n    /**\n     * Variable w/ select format\n     */\n    TYPE[TYPE[\"select\"] = 5] = \"select\";\n    /**\n     * Variable w/ plural format\n     */\n    TYPE[TYPE[\"plural\"] = 6] = \"plural\";\n    /**\n     * Only possible within plural argument.\n     * This is the `#` symbol that will be substituted with the count.\n     */\n    TYPE[TYPE[\"pound\"] = 7] = \"pound\";\n    /**\n     * XML-like tag\n     */\n    TYPE[TYPE[\"tag\"] = 8] = \"tag\";\n})(TYPE || (TYPE = {}));\nexport var SKELETON_TYPE;\n(function (SKELETON_TYPE) {\n    SKELETON_TYPE[SKELETON_TYPE[\"number\"] = 0] = \"number\";\n    SKELETON_TYPE[SKELETON_TYPE[\"dateTime\"] = 1] = \"dateTime\";\n})(SKELETON_TYPE || (SKELETON_TYPE = {}));\n/**\n * Type Guards\n */\nexport function isLiteralElement(el) {\n    return el.type === TYPE.literal;\n}\nexport function isArgumentElement(el) {\n    return el.type === TYPE.argument;\n}\nexport function isNumberElement(el) {\n    return el.type === TYPE.number;\n}\nexport function isDateElement(el) {\n    return el.type === TYPE.date;\n}\nexport function isTimeElement(el) {\n    return el.type === TYPE.time;\n}\nexport function isSelectElement(el) {\n    return el.type === TYPE.select;\n}\nexport function isPluralElement(el) {\n    return el.type === TYPE.plural;\n}\nexport function isPoundElement(el) {\n    return el.type === TYPE.pound;\n}\nexport function isTagElement(el) {\n    return el.type === TYPE.tag;\n}\nexport function isNumberSkeleton(el) {\n    return !!(el && typeof el === 'object' && el.type === SKELETON_TYPE.number);\n}\nexport function isDateTimeSkeleton(el) {\n    return !!(el && typeof el === 'object' && el.type === SKELETON_TYPE.dateTime);\n}\nexport function createLiteralElement(value) {\n    return {\n        type: TYPE.literal,\n        value: value,\n    };\n}\nexport function createNumberElement(value, style) {\n    return {\n        type: TYPE.number,\n        value: value,\n        style: style,\n    };\n}\n","// @generated from regex-gen.ts\nexport var SPACE_SEPARATOR_REGEX = /[ \\xA0\\u1680\\u2000-\\u200A\\u202F\\u205F\\u3000]/;\nexport var WHITE_SPACE_REGEX = /[\\t-\\r \\x85\\u200E\\u200F\\u2028\\u2029]/;\n","/**\n * https://unicode.org/reports/tr35/tr35-dates.html#Date_Field_Symbol_Table\n * Credit: https://github.com/caridy/intl-datetimeformat-pattern/blob/master/index.js\n * with some tweaks\n */\nvar DATE_TIME_REGEX = /(?:[Eec]{1,6}|G{1,5}|[Qq]{1,5}|(?:[yYur]+|U{1,5})|[ML]{1,5}|d{1,2}|D{1,3}|F{1}|[abB]{1,5}|[hkHK]{1,2}|w{1,2}|W{1}|m{1,2}|s{1,2}|[zZOvVxX]{1,4})(?=([^']*'[^']*')*[^']*$)/g;\n/**\n * Parse Date time skeleton into Intl.DateTimeFormatOptions\n * Ref: https://unicode.org/reports/tr35/tr35-dates.html#Date_Field_Symbol_Table\n * @public\n * @param skeleton skeleton string\n */\nexport function parseDateTimeSkeleton(skeleton) {\n    var result = {};\n    skeleton.replace(DATE_TIME_REGEX, function (match) {\n        var len = match.length;\n        switch (match[0]) {\n            // Era\n            case 'G':\n                result.era = len === 4 ? 'long' : len === 5 ? 'narrow' : 'short';\n                break;\n            // Year\n            case 'y':\n                result.year = len === 2 ? '2-digit' : 'numeric';\n                break;\n            case 'Y':\n            case 'u':\n            case 'U':\n            case 'r':\n                throw new RangeError('`Y/u/U/r` (year) patterns are not supported, use `y` instead');\n            // Quarter\n            case 'q':\n            case 'Q':\n                throw new RangeError('`q/Q` (quarter) patterns are not supported');\n            // Month\n            case 'M':\n            case 'L':\n                result.month = ['numeric', '2-digit', 'short', 'long', 'narrow'][len - 1];\n                break;\n            // Week\n            case 'w':\n            case 'W':\n                throw new RangeError('`w/W` (week) patterns are not supported');\n            case 'd':\n                result.day = ['numeric', '2-digit'][len - 1];\n                break;\n            case 'D':\n            case 'F':\n            case 'g':\n                throw new RangeError('`D/F/g` (day) patterns are not supported, use `d` instead');\n            // Weekday\n            case 'E':\n                result.weekday = len === 4 ? 'long' : len === 5 ? 'narrow' : 'short';\n                break;\n            case 'e':\n                if (len < 4) {\n                    throw new RangeError('`e..eee` (weekday) patterns are not supported');\n                }\n                result.weekday = ['short', 'long', 'narrow', 'short'][len - 4];\n                break;\n            case 'c':\n                if (len < 4) {\n                    throw new RangeError('`c..ccc` (weekday) patterns are not supported');\n                }\n                result.weekday = ['short', 'long', 'narrow', 'short'][len - 4];\n                break;\n            // Period\n            case 'a': // AM, PM\n                result.hour12 = true;\n                break;\n            case 'b': // am, pm, noon, midnight\n            case 'B': // flexible day periods\n                throw new RangeError('`b/B` (period) patterns are not supported, use `a` instead');\n            // Hour\n            case 'h':\n                result.hourCycle = 'h12';\n                result.hour = ['numeric', '2-digit'][len - 1];\n                break;\n            case 'H':\n                result.hourCycle = 'h23';\n                result.hour = ['numeric', '2-digit'][len - 1];\n                break;\n            case 'K':\n                result.hourCycle = 'h11';\n                result.hour = ['numeric', '2-digit'][len - 1];\n                break;\n            case 'k':\n                result.hourCycle = 'h24';\n                result.hour = ['numeric', '2-digit'][len - 1];\n                break;\n            case 'j':\n            case 'J':\n            case 'C':\n                throw new RangeError('`j/J/C` (hour) patterns are not supported, use `h/H/K/k` instead');\n            // Minute\n            case 'm':\n                result.minute = ['numeric', '2-digit'][len - 1];\n                break;\n            // Second\n            case 's':\n                result.second = ['numeric', '2-digit'][len - 1];\n                break;\n            case 'S':\n            case 'A':\n                throw new RangeError('`S/A` (second) patterns are not supported, use `s` instead');\n            // Zone\n            case 'z': // 1..3, 4: specific non-location format\n                result.timeZoneName = len < 4 ? 'short' : 'long';\n                break;\n            case 'Z': // 1..3, 4, 5: The ISO8601 varios formats\n            case 'O': // 1, 4: milliseconds in day short, long\n            case 'v': // 1, 4: generic non-location format\n            case 'V': // 1, 2, 3, 4: time zone ID or city\n            case 'X': // 1, 2, 3, 4: The ISO8601 varios formats\n            case 'x': // 1, 2, 3, 4: The ISO8601 varios formats\n                throw new RangeError('`Z/O/v/V/X/x` (timeZone) patterns are not supported, use `z` instead');\n        }\n        return '';\n    });\n    return result;\n}\n","// @generated from regex-gen.ts\nexport var WHITE_SPACE_REGEX = /[\\t-\\r \\x85\\u200E\\u200F\\u2028\\u2029]/i;\n","import { __assign } from \"tslib\";\nimport { WHITE_SPACE_REGEX } from './regex.generated';\nexport function parseNumberSkeletonFromString(skeleton) {\n    if (skeleton.length === 0) {\n        throw new Error('Number skeleton cannot be empty');\n    }\n    // Parse the skeleton\n    var stringTokens = skeleton\n        .split(WHITE_SPACE_REGEX)\n        .filter(function (x) { return x.length > 0; });\n    var tokens = [];\n    for (var _i = 0, stringTokens_1 = stringTokens; _i < stringTokens_1.length; _i++) {\n        var stringToken = stringTokens_1[_i];\n        var stemAndOptions = stringToken.split('/');\n        if (stemAndOptions.length === 0) {\n            throw new Error('Invalid number skeleton');\n        }\n        var stem = stemAndOptions[0], options = stemAndOptions.slice(1);\n        for (var _a = 0, options_1 = options; _a < options_1.length; _a++) {\n            var option = options_1[_a];\n            if (option.length === 0) {\n                throw new Error('Invalid number skeleton');\n            }\n        }\n        tokens.push({ stem: stem, options: options });\n    }\n    return tokens;\n}\nfunction icuUnitToEcma(unit) {\n    return unit.replace(/^(.*?)-/, '');\n}\nvar FRACTION_PRECISION_REGEX = /^\\.(?:(0+)(\\*)?|(#+)|(0+)(#+))$/g;\nvar SIGNIFICANT_PRECISION_REGEX = /^(@+)?(\\+|#+)?[rs]?$/g;\nvar INTEGER_WIDTH_REGEX = /(\\*)(0+)|(#+)(0+)|(0+)/g;\nvar CONCISE_INTEGER_WIDTH_REGEX = /^(0+)$/;\nfunction parseSignificantPrecision(str) {\n    var result = {};\n    if (str[str.length - 1] === 'r') {\n        result.roundingPriority = 'morePrecision';\n    }\n    else if (str[str.length - 1] === 's') {\n        result.roundingPriority = 'lessPrecision';\n    }\n    str.replace(SIGNIFICANT_PRECISION_REGEX, function (_, g1, g2) {\n        // @@@ case\n        if (typeof g2 !== 'string') {\n            result.minimumSignificantDigits = g1.length;\n            result.maximumSignificantDigits = g1.length;\n        }\n        // @@@+ case\n        else if (g2 === '+') {\n            result.minimumSignificantDigits = g1.length;\n        }\n        // .### case\n        else if (g1[0] === '#') {\n            result.maximumSignificantDigits = g1.length;\n        }\n        // .@@## or .@@@ case\n        else {\n            result.minimumSignificantDigits = g1.length;\n            result.maximumSignificantDigits =\n                g1.length + (typeof g2 === 'string' ? g2.length : 0);\n        }\n        return '';\n    });\n    return result;\n}\nfunction parseSign(str) {\n    switch (str) {\n        case 'sign-auto':\n            return {\n                signDisplay: 'auto',\n            };\n        case 'sign-accounting':\n        case '()':\n            return {\n                currencySign: 'accounting',\n            };\n        case 'sign-always':\n        case '+!':\n            return {\n                signDisplay: 'always',\n            };\n        case 'sign-accounting-always':\n        case '()!':\n            return {\n                signDisplay: 'always',\n                currencySign: 'accounting',\n            };\n        case 'sign-except-zero':\n        case '+?':\n            return {\n                signDisplay: 'exceptZero',\n            };\n        case 'sign-accounting-except-zero':\n        case '()?':\n            return {\n                signDisplay: 'exceptZero',\n                currencySign: 'accounting',\n            };\n        case 'sign-never':\n        case '+_':\n            return {\n                signDisplay: 'never',\n            };\n    }\n}\nfunction parseConciseScientificAndEngineeringStem(stem) {\n    // Engineering\n    var result;\n    if (stem[0] === 'E' && stem[1] === 'E') {\n        result = {\n            notation: 'engineering',\n        };\n        stem = stem.slice(2);\n    }\n    else if (stem[0] === 'E') {\n        result = {\n            notation: 'scientific',\n        };\n        stem = stem.slice(1);\n    }\n    if (result) {\n        var signDisplay = stem.slice(0, 2);\n        if (signDisplay === '+!') {\n            result.signDisplay = 'always';\n            stem = stem.slice(2);\n        }\n        else if (signDisplay === '+?') {\n            result.signDisplay = 'exceptZero';\n            stem = stem.slice(2);\n        }\n        if (!CONCISE_INTEGER_WIDTH_REGEX.test(stem)) {\n            throw new Error('Malformed concise eng/scientific notation');\n        }\n        result.minimumIntegerDigits = stem.length;\n    }\n    return result;\n}\nfunction parseNotationOptions(opt) {\n    var result = {};\n    var signOpts = parseSign(opt);\n    if (signOpts) {\n        return signOpts;\n    }\n    return result;\n}\n/**\n * https://github.com/unicode-org/icu/blob/master/docs/userguide/format_parse/numbers/skeletons.md#skeleton-stems-and-options\n */\nexport function parseNumberSkeleton(tokens) {\n    var result = {};\n    for (var _i = 0, tokens_1 = tokens; _i < tokens_1.length; _i++) {\n        var token = tokens_1[_i];\n        switch (token.stem) {\n            case 'percent':\n            case '%':\n                result.style = 'percent';\n                continue;\n            case '%x100':\n                result.style = 'percent';\n                result.scale = 100;\n                continue;\n            case 'currency':\n                result.style = 'currency';\n                result.currency = token.options[0];\n                continue;\n            case 'group-off':\n            case ',_':\n                result.useGrouping = false;\n                continue;\n            case 'precision-integer':\n            case '.':\n                result.maximumFractionDigits = 0;\n                continue;\n            case 'measure-unit':\n            case 'unit':\n                result.style = 'unit';\n                result.unit = icuUnitToEcma(token.options[0]);\n                continue;\n            case 'compact-short':\n            case 'K':\n                result.notation = 'compact';\n                result.compactDisplay = 'short';\n                continue;\n            case 'compact-long':\n            case 'KK':\n                result.notation = 'compact';\n                result.compactDisplay = 'long';\n                continue;\n            case 'scientific':\n                result = __assign(__assign(__assign({}, result), { notation: 'scientific' }), token.options.reduce(function (all, opt) { return (__assign(__assign({}, all), parseNotationOptions(opt))); }, {}));\n                continue;\n            case 'engineering':\n                result = __assign(__assign(__assign({}, result), { notation: 'engineering' }), token.options.reduce(function (all, opt) { return (__assign(__assign({}, all), parseNotationOptions(opt))); }, {}));\n                continue;\n            case 'notation-simple':\n                result.notation = 'standard';\n                continue;\n            // https://github.com/unicode-org/icu/blob/master/icu4c/source/i18n/unicode/unumberformatter.h\n            case 'unit-width-narrow':\n                result.currencyDisplay = 'narrowSymbol';\n                result.unitDisplay = 'narrow';\n                continue;\n            case 'unit-width-short':\n                result.currencyDisplay = 'code';\n                result.unitDisplay = 'short';\n                continue;\n            case 'unit-width-full-name':\n                result.currencyDisplay = 'name';\n                result.unitDisplay = 'long';\n                continue;\n            case 'unit-width-iso-code':\n                result.currencyDisplay = 'symbol';\n                continue;\n            case 'scale':\n                result.scale = parseFloat(token.options[0]);\n                continue;\n            case 'rounding-mode-floor':\n                result.roundingMode = 'floor';\n                continue;\n            case 'rounding-mode-ceiling':\n                result.roundingMode = 'ceil';\n                continue;\n            case 'rounding-mode-down':\n                result.roundingMode = 'trunc';\n                continue;\n            case 'rounding-mode-up':\n                result.roundingMode = 'expand';\n                continue;\n            case 'rounding-mode-half-even':\n                result.roundingMode = 'halfEven';\n                continue;\n            case 'rounding-mode-half-down':\n                result.roundingMode = 'halfTrunc';\n                continue;\n            case 'rounding-mode-half-up':\n                result.roundingMode = 'halfExpand';\n                continue;\n            // https://unicode-org.github.io/icu/userguide/format_parse/numbers/skeletons.html#integer-width\n            case 'integer-width':\n                if (token.options.length > 1) {\n                    throw new RangeError('integer-width stems only accept a single optional option');\n                }\n                token.options[0].replace(INTEGER_WIDTH_REGEX, function (_, g1, g2, g3, g4, g5) {\n                    if (g1) {\n                        result.minimumIntegerDigits = g2.length;\n                    }\n                    else if (g3 && g4) {\n                        throw new Error('We currently do not support maximum integer digits');\n                    }\n                    else if (g5) {\n                        throw new Error('We currently do not support exact integer digits');\n                    }\n                    return '';\n                });\n                continue;\n        }\n        // https://unicode-org.github.io/icu/userguide/format_parse/numbers/skeletons.html#integer-width\n        if (CONCISE_INTEGER_WIDTH_REGEX.test(token.stem)) {\n            result.minimumIntegerDigits = token.stem.length;\n            continue;\n        }\n        if (FRACTION_PRECISION_REGEX.test(token.stem)) {\n            // Precision\n            // https://unicode-org.github.io/icu/userguide/format_parse/numbers/skeletons.html#fraction-precision\n            // precision-integer case\n            if (token.options.length > 1) {\n                throw new RangeError('Fraction-precision stems only accept a single optional option');\n            }\n            token.stem.replace(FRACTION_PRECISION_REGEX, function (_, g1, g2, g3, g4, g5) {\n                // .000* case (before ICU67 it was .000+)\n                if (g2 === '*') {\n                    result.minimumFractionDigits = g1.length;\n                }\n                // .### case\n                else if (g3 && g3[0] === '#') {\n                    result.maximumFractionDigits = g3.length;\n                }\n                // .00## case\n                else if (g4 && g5) {\n                    result.minimumFractionDigits = g4.length;\n                    result.maximumFractionDigits = g4.length + g5.length;\n                }\n                else {\n                    result.minimumFractionDigits = g1.length;\n                    result.maximumFractionDigits = g1.length;\n                }\n                return '';\n            });\n            var opt = token.options[0];\n            // https://unicode-org.github.io/icu/userguide/format_parse/numbers/skeletons.html#trailing-zero-display\n            if (opt === 'w') {\n                result = __assign(__assign({}, result), { trailingZeroDisplay: 'stripIfInteger' });\n            }\n            else if (opt) {\n                result = __assign(__assign({}, result), parseSignificantPrecision(opt));\n            }\n            continue;\n        }\n        // https://unicode-org.github.io/icu/userguide/format_parse/numbers/skeletons.html#significant-digits-precision\n        if (SIGNIFICANT_PRECISION_REGEX.test(token.stem)) {\n            result = __assign(__assign({}, result), parseSignificantPrecision(token.stem));\n            continue;\n        }\n        var signOpts = parseSign(token.stem);\n        if (signOpts) {\n            result = __assign(__assign({}, result), signOpts);\n        }\n        var conciseScientificAndEngineeringOpts = parseConciseScientificAndEngineeringStem(token.stem);\n        if (conciseScientificAndEngineeringOpts) {\n            result = __assign(__assign({}, result), conciseScientificAndEngineeringOpts);\n        }\n    }\n    return result;\n}\n","// @generated from time-data-gen.ts\n// prettier-ignore  \nexport var timeData = {\n    \"001\": [\n        \"H\",\n        \"h\"\n    ],\n    \"AC\": [\n        \"H\",\n        \"h\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"AD\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"AE\": [\n        \"h\",\n        \"hB\",\n        \"hb\",\n        \"H\"\n    ],\n    \"AF\": [\n        \"H\",\n        \"hb\",\n        \"hB\",\n        \"h\"\n    ],\n    \"AG\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"AI\": [\n        \"H\",\n        \"h\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"AL\": [\n        \"h\",\n        \"H\",\n        \"hB\"\n    ],\n    \"AM\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"AO\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"AR\": [\n        \"H\",\n        \"h\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"AS\": [\n        \"h\",\n        \"H\"\n    ],\n    \"AT\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"AU\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"AW\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"AX\": [\n        \"H\"\n    ],\n    \"AZ\": [\n        \"H\",\n        \"hB\",\n        \"h\"\n    ],\n    \"BA\": [\n        \"H\",\n        \"hB\",\n        \"h\"\n    ],\n    \"BB\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"BD\": [\n        \"h\",\n        \"hB\",\n        \"H\"\n    ],\n    \"BE\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"BF\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"BG\": [\n        \"H\",\n        \"hB\",\n        \"h\"\n    ],\n    \"BH\": [\n        \"h\",\n        \"hB\",\n        \"hb\",\n        \"H\"\n    ],\n    \"BI\": [\n        \"H\",\n        \"h\"\n    ],\n    \"BJ\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"BL\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"BM\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"BN\": [\n        \"hb\",\n        \"hB\",\n        \"h\",\n        \"H\"\n    ],\n    \"BO\": [\n        \"H\",\n        \"hB\",\n        \"h\",\n        \"hb\"\n    ],\n    \"BQ\": [\n        \"H\"\n    ],\n    \"BR\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"BS\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"BT\": [\n        \"h\",\n        \"H\"\n    ],\n    \"BW\": [\n        \"H\",\n        \"h\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"BY\": [\n        \"H\",\n        \"h\"\n    ],\n    \"BZ\": [\n        \"H\",\n        \"h\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"CA\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"CC\": [\n        \"H\",\n        \"h\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"CD\": [\n        \"hB\",\n        \"H\"\n    ],\n    \"CF\": [\n        \"H\",\n        \"h\",\n        \"hB\"\n    ],\n    \"CG\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"CH\": [\n        \"H\",\n        \"hB\",\n        \"h\"\n    ],\n    \"CI\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"CK\": [\n        \"H\",\n        \"h\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"CL\": [\n        \"H\",\n        \"h\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"CM\": [\n        \"H\",\n        \"h\",\n        \"hB\"\n    ],\n    \"CN\": [\n        \"H\",\n        \"hB\",\n        \"hb\",\n        \"h\"\n    ],\n    \"CO\": [\n        \"h\",\n        \"H\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"CP\": [\n        \"H\"\n    ],\n    \"CR\": [\n        \"H\",\n        \"h\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"CU\": [\n        \"H\",\n        \"h\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"CV\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"CW\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"CX\": [\n        \"H\",\n        \"h\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"CY\": [\n        \"h\",\n        \"H\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"CZ\": [\n        \"H\"\n    ],\n    \"DE\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"DG\": [\n        \"H\",\n        \"h\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"DJ\": [\n        \"h\",\n        \"H\"\n    ],\n    \"DK\": [\n        \"H\"\n    ],\n    \"DM\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"DO\": [\n        \"h\",\n        \"H\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"DZ\": [\n        \"h\",\n        \"hB\",\n        \"hb\",\n        \"H\"\n    ],\n    \"EA\": [\n        \"H\",\n        \"h\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"EC\": [\n        \"H\",\n        \"hB\",\n        \"h\",\n        \"hb\"\n    ],\n    \"EE\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"EG\": [\n        \"h\",\n        \"hB\",\n        \"hb\",\n        \"H\"\n    ],\n    \"EH\": [\n        \"h\",\n        \"hB\",\n        \"hb\",\n        \"H\"\n    ],\n    \"ER\": [\n        \"h\",\n        \"H\"\n    ],\n    \"ES\": [\n        \"H\",\n        \"hB\",\n        \"h\",\n        \"hb\"\n    ],\n    \"ET\": [\n        \"hB\",\n        \"hb\",\n        \"h\",\n        \"H\"\n    ],\n    \"FI\": [\n        \"H\"\n    ],\n    \"FJ\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"FK\": [\n        \"H\",\n        \"h\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"FM\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"FO\": [\n        \"H\",\n        \"h\"\n    ],\n    \"FR\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"GA\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"GB\": [\n        \"H\",\n        \"h\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"GD\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"GE\": [\n        \"H\",\n        \"hB\",\n        \"h\"\n    ],\n    \"GF\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"GG\": [\n        \"H\",\n        \"h\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"GH\": [\n        \"h\",\n        \"H\"\n    ],\n    \"GI\": [\n        \"H\",\n        \"h\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"GL\": [\n        \"H\",\n        \"h\"\n    ],\n    \"GM\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"GN\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"GP\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"GQ\": [\n        \"H\",\n        \"hB\",\n        \"h\",\n        \"hb\"\n    ],\n    \"GR\": [\n        \"h\",\n        \"H\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"GT\": [\n        \"H\",\n        \"h\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"GU\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"GW\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"GY\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"HK\": [\n        \"h\",\n        \"hB\",\n        \"hb\",\n        \"H\"\n    ],\n    \"HN\": [\n        \"H\",\n        \"h\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"HR\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"HU\": [\n        \"H\",\n        \"h\"\n    ],\n    \"IC\": [\n        \"H\",\n        \"h\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"ID\": [\n        \"H\"\n    ],\n    \"IE\": [\n        \"H\",\n        \"h\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"IL\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"IM\": [\n        \"H\",\n        \"h\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"IN\": [\n        \"h\",\n        \"H\"\n    ],\n    \"IO\": [\n        \"H\",\n        \"h\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"IQ\": [\n        \"h\",\n        \"hB\",\n        \"hb\",\n        \"H\"\n    ],\n    \"IR\": [\n        \"hB\",\n        \"H\"\n    ],\n    \"IS\": [\n        \"H\"\n    ],\n    \"IT\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"JE\": [\n        \"H\",\n        \"h\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"JM\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"JO\": [\n        \"h\",\n        \"hB\",\n        \"hb\",\n        \"H\"\n    ],\n    \"JP\": [\n        \"H\",\n        \"K\",\n        \"h\"\n    ],\n    \"KE\": [\n        \"hB\",\n        \"hb\",\n        \"H\",\n        \"h\"\n    ],\n    \"KG\": [\n        \"H\",\n        \"h\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"KH\": [\n        \"hB\",\n        \"h\",\n        \"H\",\n        \"hb\"\n    ],\n    \"KI\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"KM\": [\n        \"H\",\n        \"h\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"KN\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"KP\": [\n        \"h\",\n        \"H\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"KR\": [\n        \"h\",\n        \"H\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"KW\": [\n        \"h\",\n        \"hB\",\n        \"hb\",\n        \"H\"\n    ],\n    \"KY\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"KZ\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"LA\": [\n        \"H\",\n        \"hb\",\n        \"hB\",\n        \"h\"\n    ],\n    \"LB\": [\n        \"h\",\n        \"hB\",\n        \"hb\",\n        \"H\"\n    ],\n    \"LC\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"LI\": [\n        \"H\",\n        \"hB\",\n        \"h\"\n    ],\n    \"LK\": [\n        \"H\",\n        \"h\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"LR\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"LS\": [\n        \"h\",\n        \"H\"\n    ],\n    \"LT\": [\n        \"H\",\n        \"h\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"LU\": [\n        \"H\",\n        \"h\",\n        \"hB\"\n    ],\n    \"LV\": [\n        \"H\",\n        \"hB\",\n        \"hb\",\n        \"h\"\n    ],\n    \"LY\": [\n        \"h\",\n        \"hB\",\n        \"hb\",\n        \"H\"\n    ],\n    \"MA\": [\n        \"H\",\n        \"h\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"MC\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"MD\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"ME\": [\n        \"H\",\n        \"hB\",\n        \"h\"\n    ],\n    \"MF\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"MG\": [\n        \"H\",\n        \"h\"\n    ],\n    \"MH\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"MK\": [\n        \"H\",\n        \"h\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"ML\": [\n        \"H\"\n    ],\n    \"MM\": [\n        \"hB\",\n        \"hb\",\n        \"H\",\n        \"h\"\n    ],\n    \"MN\": [\n        \"H\",\n        \"h\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"MO\": [\n        \"h\",\n        \"hB\",\n        \"hb\",\n        \"H\"\n    ],\n    \"MP\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"MQ\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"MR\": [\n        \"h\",\n        \"hB\",\n        \"hb\",\n        \"H\"\n    ],\n    \"MS\": [\n        \"H\",\n        \"h\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"MT\": [\n        \"H\",\n        \"h\"\n    ],\n    \"MU\": [\n        \"H\",\n        \"h\"\n    ],\n    \"MV\": [\n        \"H\",\n        \"h\"\n    ],\n    \"MW\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"MX\": [\n        \"H\",\n        \"h\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"MY\": [\n        \"hb\",\n        \"hB\",\n        \"h\",\n        \"H\"\n    ],\n    \"MZ\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"NA\": [\n        \"h\",\n        \"H\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"NC\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"NE\": [\n        \"H\"\n    ],\n    \"NF\": [\n        \"H\",\n        \"h\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"NG\": [\n        \"H\",\n        \"h\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"NI\": [\n        \"H\",\n        \"h\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"NL\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"NO\": [\n        \"H\",\n        \"h\"\n    ],\n    \"NP\": [\n        \"H\",\n        \"h\",\n        \"hB\"\n    ],\n    \"NR\": [\n        \"H\",\n        \"h\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"NU\": [\n        \"H\",\n        \"h\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"NZ\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"OM\": [\n        \"h\",\n        \"hB\",\n        \"hb\",\n        \"H\"\n    ],\n    \"PA\": [\n        \"h\",\n        \"H\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"PE\": [\n        \"H\",\n        \"hB\",\n        \"h\",\n        \"hb\"\n    ],\n    \"PF\": [\n        \"H\",\n        \"h\",\n        \"hB\"\n    ],\n    \"PG\": [\n        \"h\",\n        \"H\"\n    ],\n    \"PH\": [\n        \"h\",\n        \"hB\",\n        \"hb\",\n        \"H\"\n    ],\n    \"PK\": [\n        \"h\",\n        \"hB\",\n        \"H\"\n    ],\n    \"PL\": [\n        \"H\",\n        \"h\"\n    ],\n    \"PM\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"PN\": [\n        \"H\",\n        \"h\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"PR\": [\n        \"h\",\n        \"H\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"PS\": [\n        \"h\",\n        \"hB\",\n        \"hb\",\n        \"H\"\n    ],\n    \"PT\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"PW\": [\n        \"h\",\n        \"H\"\n    ],\n    \"PY\": [\n        \"H\",\n        \"h\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"QA\": [\n        \"h\",\n        \"hB\",\n        \"hb\",\n        \"H\"\n    ],\n    \"RE\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"RO\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"RS\": [\n        \"H\",\n        \"hB\",\n        \"h\"\n    ],\n    \"RU\": [\n        \"H\"\n    ],\n    \"RW\": [\n        \"H\",\n        \"h\"\n    ],\n    \"SA\": [\n        \"h\",\n        \"hB\",\n        \"hb\",\n        \"H\"\n    ],\n    \"SB\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"SC\": [\n        \"H\",\n        \"h\",\n        \"hB\"\n    ],\n    \"SD\": [\n        \"h\",\n        \"hB\",\n        \"hb\",\n        \"H\"\n    ],\n    \"SE\": [\n        \"H\"\n    ],\n    \"SG\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"SH\": [\n        \"H\",\n        \"h\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"SI\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"SJ\": [\n        \"H\"\n    ],\n    \"SK\": [\n        \"H\"\n    ],\n    \"SL\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"SM\": [\n        \"H\",\n        \"h\",\n        \"hB\"\n    ],\n    \"SN\": [\n        \"H\",\n        \"h\",\n        \"hB\"\n    ],\n    \"SO\": [\n        \"h\",\n        \"H\"\n    ],\n    \"SR\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"SS\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"ST\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"SV\": [\n        \"H\",\n        \"h\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"SX\": [\n        \"H\",\n        \"h\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"SY\": [\n        \"h\",\n        \"hB\",\n        \"hb\",\n        \"H\"\n    ],\n    \"SZ\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"TA\": [\n        \"H\",\n        \"h\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"TC\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"TD\": [\n        \"h\",\n        \"H\",\n        \"hB\"\n    ],\n    \"TF\": [\n        \"H\",\n        \"h\",\n        \"hB\"\n    ],\n    \"TG\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"TH\": [\n        \"H\",\n        \"h\"\n    ],\n    \"TJ\": [\n        \"H\",\n        \"h\"\n    ],\n    \"TL\": [\n        \"H\",\n        \"hB\",\n        \"hb\",\n        \"h\"\n    ],\n    \"TM\": [\n        \"H\",\n        \"h\"\n    ],\n    \"TN\": [\n        \"h\",\n        \"hB\",\n        \"hb\",\n        \"H\"\n    ],\n    \"TO\": [\n        \"h\",\n        \"H\"\n    ],\n    \"TR\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"TT\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"TW\": [\n        \"hB\",\n        \"hb\",\n        \"h\",\n        \"H\"\n    ],\n    \"TZ\": [\n        \"hB\",\n        \"hb\",\n        \"H\",\n        \"h\"\n    ],\n    \"UA\": [\n        \"H\",\n        \"hB\",\n        \"h\"\n    ],\n    \"UG\": [\n        \"hB\",\n        \"hb\",\n        \"H\",\n        \"h\"\n    ],\n    \"UM\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"US\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"UY\": [\n        \"H\",\n        \"h\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"UZ\": [\n        \"H\",\n        \"hB\",\n        \"h\"\n    ],\n    \"VA\": [\n        \"H\",\n        \"h\",\n        \"hB\"\n    ],\n    \"VC\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"VE\": [\n        \"h\",\n        \"H\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"VG\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"VI\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"VN\": [\n        \"H\",\n        \"h\"\n    ],\n    \"VU\": [\n        \"h\",\n        \"H\"\n    ],\n    \"WF\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"WS\": [\n        \"h\",\n        \"H\"\n    ],\n    \"XK\": [\n        \"H\",\n        \"hB\",\n        \"h\"\n    ],\n    \"YE\": [\n        \"h\",\n        \"hB\",\n        \"hb\",\n        \"H\"\n    ],\n    \"YT\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"ZA\": [\n        \"H\",\n        \"h\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"ZM\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"ZW\": [\n        \"H\",\n        \"h\"\n    ],\n    \"af-ZA\": [\n        \"H\",\n        \"h\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"ar-001\": [\n        \"h\",\n        \"hB\",\n        \"hb\",\n        \"H\"\n    ],\n    \"ca-ES\": [\n        \"H\",\n        \"h\",\n        \"hB\"\n    ],\n    \"en-001\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"es-BO\": [\n        \"H\",\n        \"h\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"es-BR\": [\n        \"H\",\n        \"h\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"es-EC\": [\n        \"H\",\n        \"h\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"es-ES\": [\n        \"H\",\n        \"h\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"es-GQ\": [\n        \"H\",\n        \"h\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"es-PE\": [\n        \"H\",\n        \"h\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"fr-CA\": [\n        \"H\",\n        \"h\",\n        \"hB\"\n    ],\n    \"gl-ES\": [\n        \"H\",\n        \"h\",\n        \"hB\"\n    ],\n    \"gu-IN\": [\n        \"hB\",\n        \"hb\",\n        \"h\",\n        \"H\"\n    ],\n    \"hi-IN\": [\n        \"hB\",\n        \"h\",\n        \"H\"\n    ],\n    \"it-CH\": [\n        \"H\",\n        \"h\",\n        \"hB\"\n    ],\n    \"it-IT\": [\n        \"H\",\n        \"h\",\n        \"hB\"\n    ],\n    \"kn-IN\": [\n        \"hB\",\n        \"h\",\n        \"H\"\n    ],\n    \"ml-IN\": [\n        \"hB\",\n        \"h\",\n        \"H\"\n    ],\n    \"mr-IN\": [\n        \"hB\",\n        \"hb\",\n        \"h\",\n        \"H\"\n    ],\n    \"pa-IN\": [\n        \"hB\",\n        \"hb\",\n        \"h\",\n        \"H\"\n    ],\n    \"ta-IN\": [\n        \"hB\",\n        \"h\",\n        \"hb\",\n        \"H\"\n    ],\n    \"te-IN\": [\n        \"hB\",\n        \"h\",\n        \"H\"\n    ],\n    \"zu-ZA\": [\n        \"H\",\n        \"hB\",\n        \"hb\",\n        \"h\"\n    ]\n};\n","import { timeData } from './time-data.generated';\n/**\n * Returns the best matching date time pattern if a date time skeleton\n * pattern is provided with a locale. Follows the Unicode specification:\n * https://www.unicode.org/reports/tr35/tr35-dates.html#table-mapping-requested-time-skeletons-to-patterns\n * @param skeleton date time skeleton pattern that possibly includes j, J or C\n * @param locale\n */\nexport function getBestPattern(skeleton, locale) {\n    var skeletonCopy = '';\n    for (var patternPos = 0; patternPos < skeleton.length; patternPos++) {\n        var patternChar = skeleton.charAt(patternPos);\n        if (patternChar === 'j') {\n            var extraLength = 0;\n            while (patternPos + 1 < skeleton.length &&\n                skeleton.charAt(patternPos + 1) === patternChar) {\n                extraLength++;\n                patternPos++;\n            }\n            var hourLen = 1 + (extraLength & 1);\n            var dayPeriodLen = extraLength < 2 ? 1 : 3 + (extraLength >> 1);\n            var dayPeriodChar = 'a';\n            var hourChar = getDefaultHourSymbolFromLocale(locale);\n            if (hourChar == 'H' || hourChar == 'k') {\n                dayPeriodLen = 0;\n            }\n            while (dayPeriodLen-- > 0) {\n                skeletonCopy += dayPeriodChar;\n            }\n            while (hourLen-- > 0) {\n                skeletonCopy = hourChar + skeletonCopy;\n            }\n        }\n        else if (patternChar === 'J') {\n            skeletonCopy += 'H';\n        }\n        else {\n            skeletonCopy += patternChar;\n        }\n    }\n    return skeletonCopy;\n}\n/**\n * Maps the [hour cycle type](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl/Locale/hourCycle)\n * of the given `locale` to the corresponding time pattern.\n * @param locale\n */\nfunction getDefaultHourSymbolFromLocale(locale) {\n    var hourCycle = locale.hourCycle;\n    if (hourCycle === undefined &&\n        // @ts-ignore hourCycle(s) is not identified yet\n        locale.hourCycles &&\n        // @ts-ignore\n        locale.hourCycles.length) {\n        // @ts-ignore\n        hourCycle = locale.hourCycles[0];\n    }\n    if (hourCycle) {\n        switch (hourCycle) {\n            case 'h24':\n                return 'k';\n            case 'h23':\n                return 'H';\n            case 'h12':\n                return 'h';\n            case 'h11':\n                return 'K';\n            default:\n                throw new Error('Invalid hourCycle');\n        }\n    }\n    // TODO: Once hourCycle is fully supported remove the following with data generation\n    var languageTag = locale.language;\n    var regionTag;\n    if (languageTag !== 'root') {\n        regionTag = locale.maximize().region;\n    }\n    var hourCycles = timeData[regionTag || ''] ||\n        timeData[languageTag || ''] ||\n        timeData[\"\".concat(languageTag, \"-001\")] ||\n        timeData['001'];\n    return hourCycles[0];\n}\n","var _a;\nimport { __assign } from \"tslib\";\nimport { ErrorKind } from './error';\nimport { SKELETON_TYPE, TYPE, } from './types';\nimport { SPACE_SEPARATOR_REGEX } from './regex.generated';\nimport { parseNumberSkeleton, parseNumberSkeletonFromString, parseDateTimeSkeleton, } from '@formatjs/icu-skeleton-parser';\nimport { getBestPattern } from './date-time-pattern-generator';\nvar SPACE_SEPARATOR_START_REGEX = new RegExp(\"^\".concat(SPACE_SEPARATOR_REGEX.source, \"*\"));\nvar SPACE_SEPARATOR_END_REGEX = new RegExp(\"\".concat(SPACE_SEPARATOR_REGEX.source, \"*$\"));\nfunction createLocation(start, end) {\n    return { start: start, end: end };\n}\n// #region Ponyfills\n// Consolidate these variables up top for easier toggling during debugging\nvar hasNativeStartsWith = !!String.prototype.startsWith && '_a'.startsWith('a', 1);\nvar hasNativeFromCodePoint = !!String.fromCodePoint;\nvar hasNativeFromEntries = !!Object.fromEntries;\nvar hasNativeCodePointAt = !!String.prototype.codePointAt;\nvar hasTrimStart = !!String.prototype.trimStart;\nvar hasTrimEnd = !!String.prototype.trimEnd;\nvar hasNativeIsSafeInteger = !!Number.isSafeInteger;\nvar isSafeInteger = hasNativeIsSafeInteger\n    ? Number.isSafeInteger\n    : function (n) {\n        return (typeof n === 'number' &&\n            isFinite(n) &&\n            Math.floor(n) === n &&\n            Math.abs(n) <= 0x1fffffffffffff);\n    };\n// IE11 does not support y and u.\nvar REGEX_SUPPORTS_U_AND_Y = true;\ntry {\n    var re = RE('([^\\\\p{White_Space}\\\\p{Pattern_Syntax}]*)', 'yu');\n    /**\n     * legacy Edge or Xbox One browser\n     * Unicode flag support: supported\n     * Pattern_Syntax support: not supported\n     * See https://github.com/formatjs/formatjs/issues/2822\n     */\n    REGEX_SUPPORTS_U_AND_Y = ((_a = re.exec('a')) === null || _a === void 0 ? void 0 : _a[0]) === 'a';\n}\ncatch (_) {\n    REGEX_SUPPORTS_U_AND_Y = false;\n}\nvar startsWith = hasNativeStartsWith\n    ? // Native\n        function startsWith(s, search, position) {\n            return s.startsWith(search, position);\n        }\n    : // For IE11\n        function startsWith(s, search, position) {\n            return s.slice(position, position + search.length) === search;\n        };\nvar fromCodePoint = hasNativeFromCodePoint\n    ? String.fromCodePoint\n    : // IE11\n        function fromCodePoint() {\n            var codePoints = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                codePoints[_i] = arguments[_i];\n            }\n            var elements = '';\n            var length = codePoints.length;\n            var i = 0;\n            var code;\n            while (length > i) {\n                code = codePoints[i++];\n                if (code > 0x10ffff)\n                    throw RangeError(code + ' is not a valid code point');\n                elements +=\n                    code < 0x10000\n                        ? String.fromCharCode(code)\n                        : String.fromCharCode(((code -= 0x10000) >> 10) + 0xd800, (code % 0x400) + 0xdc00);\n            }\n            return elements;\n        };\nvar fromEntries = \n// native\nhasNativeFromEntries\n    ? Object.fromEntries\n    : // Ponyfill\n        function fromEntries(entries) {\n            var obj = {};\n            for (var _i = 0, entries_1 = entries; _i < entries_1.length; _i++) {\n                var _a = entries_1[_i], k = _a[0], v = _a[1];\n                obj[k] = v;\n            }\n            return obj;\n        };\nvar codePointAt = hasNativeCodePointAt\n    ? // Native\n        function codePointAt(s, index) {\n            return s.codePointAt(index);\n        }\n    : // IE 11\n        function codePointAt(s, index) {\n            var size = s.length;\n            if (index < 0 || index >= size) {\n                return undefined;\n            }\n            var first = s.charCodeAt(index);\n            var second;\n            return first < 0xd800 ||\n                first > 0xdbff ||\n                index + 1 === size ||\n                (second = s.charCodeAt(index + 1)) < 0xdc00 ||\n                second > 0xdfff\n                ? first\n                : ((first - 0xd800) << 10) + (second - 0xdc00) + 0x10000;\n        };\nvar trimStart = hasTrimStart\n    ? // Native\n        function trimStart(s) {\n            return s.trimStart();\n        }\n    : // Ponyfill\n        function trimStart(s) {\n            return s.replace(SPACE_SEPARATOR_START_REGEX, '');\n        };\nvar trimEnd = hasTrimEnd\n    ? // Native\n        function trimEnd(s) {\n            return s.trimEnd();\n        }\n    : // Ponyfill\n        function trimEnd(s) {\n            return s.replace(SPACE_SEPARATOR_END_REGEX, '');\n        };\n// Prevent minifier to translate new RegExp to literal form that might cause syntax error on IE11.\nfunction RE(s, flag) {\n    return new RegExp(s, flag);\n}\n// #endregion\nvar matchIdentifierAtIndex;\nif (REGEX_SUPPORTS_U_AND_Y) {\n    // Native\n    var IDENTIFIER_PREFIX_RE_1 = RE('([^\\\\p{White_Space}\\\\p{Pattern_Syntax}]*)', 'yu');\n    matchIdentifierAtIndex = function matchIdentifierAtIndex(s, index) {\n        var _a;\n        IDENTIFIER_PREFIX_RE_1.lastIndex = index;\n        var match = IDENTIFIER_PREFIX_RE_1.exec(s);\n        return (_a = match[1]) !== null && _a !== void 0 ? _a : '';\n    };\n}\nelse {\n    // IE11\n    matchIdentifierAtIndex = function matchIdentifierAtIndex(s, index) {\n        var match = [];\n        while (true) {\n            var c = codePointAt(s, index);\n            if (c === undefined || _isWhiteSpace(c) || _isPatternSyntax(c)) {\n                break;\n            }\n            match.push(c);\n            index += c >= 0x10000 ? 2 : 1;\n        }\n        return fromCodePoint.apply(void 0, match);\n    };\n}\nvar Parser = /** @class */ (function () {\n    function Parser(message, options) {\n        if (options === void 0) { options = {}; }\n        this.message = message;\n        this.position = { offset: 0, line: 1, column: 1 };\n        this.ignoreTag = !!options.ignoreTag;\n        this.locale = options.locale;\n        this.requiresOtherClause = !!options.requiresOtherClause;\n        this.shouldParseSkeletons = !!options.shouldParseSkeletons;\n    }\n    Parser.prototype.parse = function () {\n        if (this.offset() !== 0) {\n            throw Error('parser can only be used once');\n        }\n        return this.parseMessage(0, '', false);\n    };\n    Parser.prototype.parseMessage = function (nestingLevel, parentArgType, expectingCloseTag) {\n        var elements = [];\n        while (!this.isEOF()) {\n            var char = this.char();\n            if (char === 123 /* `{` */) {\n                var result = this.parseArgument(nestingLevel, expectingCloseTag);\n                if (result.err) {\n                    return result;\n                }\n                elements.push(result.val);\n            }\n            else if (char === 125 /* `}` */ && nestingLevel > 0) {\n                break;\n            }\n            else if (char === 35 /* `#` */ &&\n                (parentArgType === 'plural' || parentArgType === 'selectordinal')) {\n                var position = this.clonePosition();\n                this.bump();\n                elements.push({\n                    type: TYPE.pound,\n                    location: createLocation(position, this.clonePosition()),\n                });\n            }\n            else if (char === 60 /* `<` */ &&\n                !this.ignoreTag &&\n                this.peek() === 47 // char code for '/'\n            ) {\n                if (expectingCloseTag) {\n                    break;\n                }\n                else {\n                    return this.error(ErrorKind.UNMATCHED_CLOSING_TAG, createLocation(this.clonePosition(), this.clonePosition()));\n                }\n            }\n            else if (char === 60 /* `<` */ &&\n                !this.ignoreTag &&\n                _isAlpha(this.peek() || 0)) {\n                var result = this.parseTag(nestingLevel, parentArgType);\n                if (result.err) {\n                    return result;\n                }\n                elements.push(result.val);\n            }\n            else {\n                var result = this.parseLiteral(nestingLevel, parentArgType);\n                if (result.err) {\n                    return result;\n                }\n                elements.push(result.val);\n            }\n        }\n        return { val: elements, err: null };\n    };\n    /**\n     * A tag name must start with an ASCII lower/upper case letter. The grammar is based on the\n     * [custom element name][] except that a dash is NOT always mandatory and uppercase letters\n     * are accepted:\n     *\n     * ```\n     * tag ::= \"<\" tagName (whitespace)* \"/>\" | \"<\" tagName (whitespace)* \">\" message \"</\" tagName (whitespace)* \">\"\n     * tagName ::= [a-z] (PENChar)*\n     * PENChar ::=\n     *     \"-\" | \".\" | [0-9] | \"_\" | [a-z] | [A-Z] | #xB7 | [#xC0-#xD6] | [#xD8-#xF6] | [#xF8-#x37D] |\n     *     [#x37F-#x1FFF] | [#x200C-#x200D] | [#x203F-#x2040] | [#x2070-#x218F] | [#x2C00-#x2FEF] |\n     *     [#x3001-#xD7FF] | [#xF900-#xFDCF] | [#xFDF0-#xFFFD] | [#x10000-#xEFFFF]\n     * ```\n     *\n     * [custom element name]: https://html.spec.whatwg.org/multipage/custom-elements.html#valid-custom-element-name\n     * NOTE: We're a bit more lax here since HTML technically does not allow uppercase HTML element but we do\n     * since other tag-based engines like React allow it\n     */\n    Parser.prototype.parseTag = function (nestingLevel, parentArgType) {\n        var startPosition = this.clonePosition();\n        this.bump(); // `<`\n        var tagName = this.parseTagName();\n        this.bumpSpace();\n        if (this.bumpIf('/>')) {\n            // Self closing tag\n            return {\n                val: {\n                    type: TYPE.literal,\n                    value: \"<\".concat(tagName, \"/>\"),\n                    location: createLocation(startPosition, this.clonePosition()),\n                },\n                err: null,\n            };\n        }\n        else if (this.bumpIf('>')) {\n            var childrenResult = this.parseMessage(nestingLevel + 1, parentArgType, true);\n            if (childrenResult.err) {\n                return childrenResult;\n            }\n            var children = childrenResult.val;\n            // Expecting a close tag\n            var endTagStartPosition = this.clonePosition();\n            if (this.bumpIf('</')) {\n                if (this.isEOF() || !_isAlpha(this.char())) {\n                    return this.error(ErrorKind.INVALID_TAG, createLocation(endTagStartPosition, this.clonePosition()));\n                }\n                var closingTagNameStartPosition = this.clonePosition();\n                var closingTagName = this.parseTagName();\n                if (tagName !== closingTagName) {\n                    return this.error(ErrorKind.UNMATCHED_CLOSING_TAG, createLocation(closingTagNameStartPosition, this.clonePosition()));\n                }\n                this.bumpSpace();\n                if (!this.bumpIf('>')) {\n                    return this.error(ErrorKind.INVALID_TAG, createLocation(endTagStartPosition, this.clonePosition()));\n                }\n                return {\n                    val: {\n                        type: TYPE.tag,\n                        value: tagName,\n                        children: children,\n                        location: createLocation(startPosition, this.clonePosition()),\n                    },\n                    err: null,\n                };\n            }\n            else {\n                return this.error(ErrorKind.UNCLOSED_TAG, createLocation(startPosition, this.clonePosition()));\n            }\n        }\n        else {\n            return this.error(ErrorKind.INVALID_TAG, createLocation(startPosition, this.clonePosition()));\n        }\n    };\n    /**\n     * This method assumes that the caller has peeked ahead for the first tag character.\n     */\n    Parser.prototype.parseTagName = function () {\n        var startOffset = this.offset();\n        this.bump(); // the first tag name character\n        while (!this.isEOF() && _isPotentialElementNameChar(this.char())) {\n            this.bump();\n        }\n        return this.message.slice(startOffset, this.offset());\n    };\n    Parser.prototype.parseLiteral = function (nestingLevel, parentArgType) {\n        var start = this.clonePosition();\n        var value = '';\n        while (true) {\n            var parseQuoteResult = this.tryParseQuote(parentArgType);\n            if (parseQuoteResult) {\n                value += parseQuoteResult;\n                continue;\n            }\n            var parseUnquotedResult = this.tryParseUnquoted(nestingLevel, parentArgType);\n            if (parseUnquotedResult) {\n                value += parseUnquotedResult;\n                continue;\n            }\n            var parseLeftAngleResult = this.tryParseLeftAngleBracket();\n            if (parseLeftAngleResult) {\n                value += parseLeftAngleResult;\n                continue;\n            }\n            break;\n        }\n        var location = createLocation(start, this.clonePosition());\n        return {\n            val: { type: TYPE.literal, value: value, location: location },\n            err: null,\n        };\n    };\n    Parser.prototype.tryParseLeftAngleBracket = function () {\n        if (!this.isEOF() &&\n            this.char() === 60 /* `<` */ &&\n            (this.ignoreTag ||\n                // If at the opening tag or closing tag position, bail.\n                !_isAlphaOrSlash(this.peek() || 0))) {\n            this.bump(); // `<`\n            return '<';\n        }\n        return null;\n    };\n    /**\n     * Starting with ICU 4.8, an ASCII apostrophe only starts quoted text if it immediately precedes\n     * a character that requires quoting (that is, \"only where needed\"), and works the same in\n     * nested messages as on the top level of the pattern. The new behavior is otherwise compatible.\n     */\n    Parser.prototype.tryParseQuote = function (parentArgType) {\n        if (this.isEOF() || this.char() !== 39 /* `'` */) {\n            return null;\n        }\n        // Parse escaped char following the apostrophe, or early return if there is no escaped char.\n        // Check if is valid escaped character\n        switch (this.peek()) {\n            case 39 /* `'` */:\n                // double quote, should return as a single quote.\n                this.bump();\n                this.bump();\n                return \"'\";\n            // '{', '<', '>', '}'\n            case 123:\n            case 60:\n            case 62:\n            case 125:\n                break;\n            case 35: // '#'\n                if (parentArgType === 'plural' || parentArgType === 'selectordinal') {\n                    break;\n                }\n                return null;\n            default:\n                return null;\n        }\n        this.bump(); // apostrophe\n        var codePoints = [this.char()]; // escaped char\n        this.bump();\n        // read chars until the optional closing apostrophe is found\n        while (!this.isEOF()) {\n            var ch = this.char();\n            if (ch === 39 /* `'` */) {\n                if (this.peek() === 39 /* `'` */) {\n                    codePoints.push(39);\n                    // Bump one more time because we need to skip 2 characters.\n                    this.bump();\n                }\n                else {\n                    // Optional closing apostrophe.\n                    this.bump();\n                    break;\n                }\n            }\n            else {\n                codePoints.push(ch);\n            }\n            this.bump();\n        }\n        return fromCodePoint.apply(void 0, codePoints);\n    };\n    Parser.prototype.tryParseUnquoted = function (nestingLevel, parentArgType) {\n        if (this.isEOF()) {\n            return null;\n        }\n        var ch = this.char();\n        if (ch === 60 /* `<` */ ||\n            ch === 123 /* `{` */ ||\n            (ch === 35 /* `#` */ &&\n                (parentArgType === 'plural' || parentArgType === 'selectordinal')) ||\n            (ch === 125 /* `}` */ && nestingLevel > 0)) {\n            return null;\n        }\n        else {\n            this.bump();\n            return fromCodePoint(ch);\n        }\n    };\n    Parser.prototype.parseArgument = function (nestingLevel, expectingCloseTag) {\n        var openingBracePosition = this.clonePosition();\n        this.bump(); // `{`\n        this.bumpSpace();\n        if (this.isEOF()) {\n            return this.error(ErrorKind.EXPECT_ARGUMENT_CLOSING_BRACE, createLocation(openingBracePosition, this.clonePosition()));\n        }\n        if (this.char() === 125 /* `}` */) {\n            this.bump();\n            return this.error(ErrorKind.EMPTY_ARGUMENT, createLocation(openingBracePosition, this.clonePosition()));\n        }\n        // argument name\n        var value = this.parseIdentifierIfPossible().value;\n        if (!value) {\n            return this.error(ErrorKind.MALFORMED_ARGUMENT, createLocation(openingBracePosition, this.clonePosition()));\n        }\n        this.bumpSpace();\n        if (this.isEOF()) {\n            return this.error(ErrorKind.EXPECT_ARGUMENT_CLOSING_BRACE, createLocation(openingBracePosition, this.clonePosition()));\n        }\n        switch (this.char()) {\n            // Simple argument: `{name}`\n            case 125 /* `}` */: {\n                this.bump(); // `}`\n                return {\n                    val: {\n                        type: TYPE.argument,\n                        // value does not include the opening and closing braces.\n                        value: value,\n                        location: createLocation(openingBracePosition, this.clonePosition()),\n                    },\n                    err: null,\n                };\n            }\n            // Argument with options: `{name, format, ...}`\n            case 44 /* `,` */: {\n                this.bump(); // `,`\n                this.bumpSpace();\n                if (this.isEOF()) {\n                    return this.error(ErrorKind.EXPECT_ARGUMENT_CLOSING_BRACE, createLocation(openingBracePosition, this.clonePosition()));\n                }\n                return this.parseArgumentOptions(nestingLevel, expectingCloseTag, value, openingBracePosition);\n            }\n            default:\n                return this.error(ErrorKind.MALFORMED_ARGUMENT, createLocation(openingBracePosition, this.clonePosition()));\n        }\n    };\n    /**\n     * Advance the parser until the end of the identifier, if it is currently on\n     * an identifier character. Return an empty string otherwise.\n     */\n    Parser.prototype.parseIdentifierIfPossible = function () {\n        var startingPosition = this.clonePosition();\n        var startOffset = this.offset();\n        var value = matchIdentifierAtIndex(this.message, startOffset);\n        var endOffset = startOffset + value.length;\n        this.bumpTo(endOffset);\n        var endPosition = this.clonePosition();\n        var location = createLocation(startingPosition, endPosition);\n        return { value: value, location: location };\n    };\n    Parser.prototype.parseArgumentOptions = function (nestingLevel, expectingCloseTag, value, openingBracePosition) {\n        var _a;\n        // Parse this range:\n        // {name, type, style}\n        //        ^---^\n        var typeStartPosition = this.clonePosition();\n        var argType = this.parseIdentifierIfPossible().value;\n        var typeEndPosition = this.clonePosition();\n        switch (argType) {\n            case '':\n                // Expecting a style string number, date, time, plural, selectordinal, or select.\n                return this.error(ErrorKind.EXPECT_ARGUMENT_TYPE, createLocation(typeStartPosition, typeEndPosition));\n            case 'number':\n            case 'date':\n            case 'time': {\n                // Parse this range:\n                // {name, number, style}\n                //              ^-------^\n                this.bumpSpace();\n                var styleAndLocation = null;\n                if (this.bumpIf(',')) {\n                    this.bumpSpace();\n                    var styleStartPosition = this.clonePosition();\n                    var result = this.parseSimpleArgStyleIfPossible();\n                    if (result.err) {\n                        return result;\n                    }\n                    var style = trimEnd(result.val);\n                    if (style.length === 0) {\n                        return this.error(ErrorKind.EXPECT_ARGUMENT_STYLE, createLocation(this.clonePosition(), this.clonePosition()));\n                    }\n                    var styleLocation = createLocation(styleStartPosition, this.clonePosition());\n                    styleAndLocation = { style: style, styleLocation: styleLocation };\n                }\n                var argCloseResult = this.tryParseArgumentClose(openingBracePosition);\n                if (argCloseResult.err) {\n                    return argCloseResult;\n                }\n                var location_1 = createLocation(openingBracePosition, this.clonePosition());\n                // Extract style or skeleton\n                if (styleAndLocation && startsWith(styleAndLocation === null || styleAndLocation === void 0 ? void 0 : styleAndLocation.style, '::', 0)) {\n                    // Skeleton starts with `::`.\n                    var skeleton = trimStart(styleAndLocation.style.slice(2));\n                    if (argType === 'number') {\n                        var result = this.parseNumberSkeletonFromString(skeleton, styleAndLocation.styleLocation);\n                        if (result.err) {\n                            return result;\n                        }\n                        return {\n                            val: { type: TYPE.number, value: value, location: location_1, style: result.val },\n                            err: null,\n                        };\n                    }\n                    else {\n                        if (skeleton.length === 0) {\n                            return this.error(ErrorKind.EXPECT_DATE_TIME_SKELETON, location_1);\n                        }\n                        var dateTimePattern = skeleton;\n                        // Get \"best match\" pattern only if locale is passed, if not, let it\n                        // pass as-is where `parseDateTimeSkeleton()` will throw an error\n                        // for unsupported patterns.\n                        if (this.locale) {\n                            dateTimePattern = getBestPattern(skeleton, this.locale);\n                        }\n                        var style = {\n                            type: SKELETON_TYPE.dateTime,\n                            pattern: dateTimePattern,\n                            location: styleAndLocation.styleLocation,\n                            parsedOptions: this.shouldParseSkeletons\n                                ? parseDateTimeSkeleton(dateTimePattern)\n                                : {},\n                        };\n                        var type = argType === 'date' ? TYPE.date : TYPE.time;\n                        return {\n                            val: { type: type, value: value, location: location_1, style: style },\n                            err: null,\n                        };\n                    }\n                }\n                // Regular style or no style.\n                return {\n                    val: {\n                        type: argType === 'number'\n                            ? TYPE.number\n                            : argType === 'date'\n                                ? TYPE.date\n                                : TYPE.time,\n                        value: value,\n                        location: location_1,\n                        style: (_a = styleAndLocation === null || styleAndLocation === void 0 ? void 0 : styleAndLocation.style) !== null && _a !== void 0 ? _a : null,\n                    },\n                    err: null,\n                };\n            }\n            case 'plural':\n            case 'selectordinal':\n            case 'select': {\n                // Parse this range:\n                // {name, plural, options}\n                //              ^---------^\n                var typeEndPosition_1 = this.clonePosition();\n                this.bumpSpace();\n                if (!this.bumpIf(',')) {\n                    return this.error(ErrorKind.EXPECT_SELECT_ARGUMENT_OPTIONS, createLocation(typeEndPosition_1, __assign({}, typeEndPosition_1)));\n                }\n                this.bumpSpace();\n                // Parse offset:\n                // {name, plural, offset:1, options}\n                //                ^-----^\n                //\n                // or the first option:\n                //\n                // {name, plural, one {...} other {...}}\n                //                ^--^\n                var identifierAndLocation = this.parseIdentifierIfPossible();\n                var pluralOffset = 0;\n                if (argType !== 'select' && identifierAndLocation.value === 'offset') {\n                    if (!this.bumpIf(':')) {\n                        return this.error(ErrorKind.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE, createLocation(this.clonePosition(), this.clonePosition()));\n                    }\n                    this.bumpSpace();\n                    var result = this.tryParseDecimalInteger(ErrorKind.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE, ErrorKind.INVALID_PLURAL_ARGUMENT_OFFSET_VALUE);\n                    if (result.err) {\n                        return result;\n                    }\n                    // Parse another identifier for option parsing\n                    this.bumpSpace();\n                    identifierAndLocation = this.parseIdentifierIfPossible();\n                    pluralOffset = result.val;\n                }\n                var optionsResult = this.tryParsePluralOrSelectOptions(nestingLevel, argType, expectingCloseTag, identifierAndLocation);\n                if (optionsResult.err) {\n                    return optionsResult;\n                }\n                var argCloseResult = this.tryParseArgumentClose(openingBracePosition);\n                if (argCloseResult.err) {\n                    return argCloseResult;\n                }\n                var location_2 = createLocation(openingBracePosition, this.clonePosition());\n                if (argType === 'select') {\n                    return {\n                        val: {\n                            type: TYPE.select,\n                            value: value,\n                            options: fromEntries(optionsResult.val),\n                            location: location_2,\n                        },\n                        err: null,\n                    };\n                }\n                else {\n                    return {\n                        val: {\n                            type: TYPE.plural,\n                            value: value,\n                            options: fromEntries(optionsResult.val),\n                            offset: pluralOffset,\n                            pluralType: argType === 'plural' ? 'cardinal' : 'ordinal',\n                            location: location_2,\n                        },\n                        err: null,\n                    };\n                }\n            }\n            default:\n                return this.error(ErrorKind.INVALID_ARGUMENT_TYPE, createLocation(typeStartPosition, typeEndPosition));\n        }\n    };\n    Parser.prototype.tryParseArgumentClose = function (openingBracePosition) {\n        // Parse: {value, number, ::currency/GBP }\n        //\n        if (this.isEOF() || this.char() !== 125 /* `}` */) {\n            return this.error(ErrorKind.EXPECT_ARGUMENT_CLOSING_BRACE, createLocation(openingBracePosition, this.clonePosition()));\n        }\n        this.bump(); // `}`\n        return { val: true, err: null };\n    };\n    /**\n     * See: https://github.com/unicode-org/icu/blob/af7ed1f6d2298013dc303628438ec4abe1f16479/icu4c/source/common/messagepattern.cpp#L659\n     */\n    Parser.prototype.parseSimpleArgStyleIfPossible = function () {\n        var nestedBraces = 0;\n        var startPosition = this.clonePosition();\n        while (!this.isEOF()) {\n            var ch = this.char();\n            switch (ch) {\n                case 39 /* `'` */: {\n                    // Treat apostrophe as quoting but include it in the style part.\n                    // Find the end of the quoted literal text.\n                    this.bump();\n                    var apostrophePosition = this.clonePosition();\n                    if (!this.bumpUntil(\"'\")) {\n                        return this.error(ErrorKind.UNCLOSED_QUOTE_IN_ARGUMENT_STYLE, createLocation(apostrophePosition, this.clonePosition()));\n                    }\n                    this.bump();\n                    break;\n                }\n                case 123 /* `{` */: {\n                    nestedBraces += 1;\n                    this.bump();\n                    break;\n                }\n                case 125 /* `}` */: {\n                    if (nestedBraces > 0) {\n                        nestedBraces -= 1;\n                    }\n                    else {\n                        return {\n                            val: this.message.slice(startPosition.offset, this.offset()),\n                            err: null,\n                        };\n                    }\n                    break;\n                }\n                default:\n                    this.bump();\n                    break;\n            }\n        }\n        return {\n            val: this.message.slice(startPosition.offset, this.offset()),\n            err: null,\n        };\n    };\n    Parser.prototype.parseNumberSkeletonFromString = function (skeleton, location) {\n        var tokens = [];\n        try {\n            tokens = parseNumberSkeletonFromString(skeleton);\n        }\n        catch (e) {\n            return this.error(ErrorKind.INVALID_NUMBER_SKELETON, location);\n        }\n        return {\n            val: {\n                type: SKELETON_TYPE.number,\n                tokens: tokens,\n                location: location,\n                parsedOptions: this.shouldParseSkeletons\n                    ? parseNumberSkeleton(tokens)\n                    : {},\n            },\n            err: null,\n        };\n    };\n    /**\n     * @param nesting_level The current nesting level of messages.\n     *     This can be positive when parsing message fragment in select or plural argument options.\n     * @param parent_arg_type The parent argument's type.\n     * @param parsed_first_identifier If provided, this is the first identifier-like selector of\n     *     the argument. It is a by-product of a previous parsing attempt.\n     * @param expecting_close_tag If true, this message is directly or indirectly nested inside\n     *     between a pair of opening and closing tags. The nested message will not parse beyond\n     *     the closing tag boundary.\n     */\n    Parser.prototype.tryParsePluralOrSelectOptions = function (nestingLevel, parentArgType, expectCloseTag, parsedFirstIdentifier) {\n        var _a;\n        var hasOtherClause = false;\n        var options = [];\n        var parsedSelectors = new Set();\n        var selector = parsedFirstIdentifier.value, selectorLocation = parsedFirstIdentifier.location;\n        // Parse:\n        // one {one apple}\n        // ^--^\n        while (true) {\n            if (selector.length === 0) {\n                var startPosition = this.clonePosition();\n                if (parentArgType !== 'select' && this.bumpIf('=')) {\n                    // Try parse `={number}` selector\n                    var result = this.tryParseDecimalInteger(ErrorKind.EXPECT_PLURAL_ARGUMENT_SELECTOR, ErrorKind.INVALID_PLURAL_ARGUMENT_SELECTOR);\n                    if (result.err) {\n                        return result;\n                    }\n                    selectorLocation = createLocation(startPosition, this.clonePosition());\n                    selector = this.message.slice(startPosition.offset, this.offset());\n                }\n                else {\n                    break;\n                }\n            }\n            // Duplicate selector clauses\n            if (parsedSelectors.has(selector)) {\n                return this.error(parentArgType === 'select'\n                    ? ErrorKind.DUPLICATE_SELECT_ARGUMENT_SELECTOR\n                    : ErrorKind.DUPLICATE_PLURAL_ARGUMENT_SELECTOR, selectorLocation);\n            }\n            if (selector === 'other') {\n                hasOtherClause = true;\n            }\n            // Parse:\n            // one {one apple}\n            //     ^----------^\n            this.bumpSpace();\n            var openingBracePosition = this.clonePosition();\n            if (!this.bumpIf('{')) {\n                return this.error(parentArgType === 'select'\n                    ? ErrorKind.EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT\n                    : ErrorKind.EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT, createLocation(this.clonePosition(), this.clonePosition()));\n            }\n            var fragmentResult = this.parseMessage(nestingLevel + 1, parentArgType, expectCloseTag);\n            if (fragmentResult.err) {\n                return fragmentResult;\n            }\n            var argCloseResult = this.tryParseArgumentClose(openingBracePosition);\n            if (argCloseResult.err) {\n                return argCloseResult;\n            }\n            options.push([\n                selector,\n                {\n                    value: fragmentResult.val,\n                    location: createLocation(openingBracePosition, this.clonePosition()),\n                },\n            ]);\n            // Keep track of the existing selectors\n            parsedSelectors.add(selector);\n            // Prep next selector clause.\n            this.bumpSpace();\n            (_a = this.parseIdentifierIfPossible(), selector = _a.value, selectorLocation = _a.location);\n        }\n        if (options.length === 0) {\n            return this.error(parentArgType === 'select'\n                ? ErrorKind.EXPECT_SELECT_ARGUMENT_SELECTOR\n                : ErrorKind.EXPECT_PLURAL_ARGUMENT_SELECTOR, createLocation(this.clonePosition(), this.clonePosition()));\n        }\n        if (this.requiresOtherClause && !hasOtherClause) {\n            return this.error(ErrorKind.MISSING_OTHER_CLAUSE, createLocation(this.clonePosition(), this.clonePosition()));\n        }\n        return { val: options, err: null };\n    };\n    Parser.prototype.tryParseDecimalInteger = function (expectNumberError, invalidNumberError) {\n        var sign = 1;\n        var startingPosition = this.clonePosition();\n        if (this.bumpIf('+')) {\n        }\n        else if (this.bumpIf('-')) {\n            sign = -1;\n        }\n        var hasDigits = false;\n        var decimal = 0;\n        while (!this.isEOF()) {\n            var ch = this.char();\n            if (ch >= 48 /* `0` */ && ch <= 57 /* `9` */) {\n                hasDigits = true;\n                decimal = decimal * 10 + (ch - 48);\n                this.bump();\n            }\n            else {\n                break;\n            }\n        }\n        var location = createLocation(startingPosition, this.clonePosition());\n        if (!hasDigits) {\n            return this.error(expectNumberError, location);\n        }\n        decimal *= sign;\n        if (!isSafeInteger(decimal)) {\n            return this.error(invalidNumberError, location);\n        }\n        return { val: decimal, err: null };\n    };\n    Parser.prototype.offset = function () {\n        return this.position.offset;\n    };\n    Parser.prototype.isEOF = function () {\n        return this.offset() === this.message.length;\n    };\n    Parser.prototype.clonePosition = function () {\n        // This is much faster than `Object.assign` or spread.\n        return {\n            offset: this.position.offset,\n            line: this.position.line,\n            column: this.position.column,\n        };\n    };\n    /**\n     * Return the code point at the current position of the parser.\n     * Throws if the index is out of bound.\n     */\n    Parser.prototype.char = function () {\n        var offset = this.position.offset;\n        if (offset >= this.message.length) {\n            throw Error('out of bound');\n        }\n        var code = codePointAt(this.message, offset);\n        if (code === undefined) {\n            throw Error(\"Offset \".concat(offset, \" is at invalid UTF-16 code unit boundary\"));\n        }\n        return code;\n    };\n    Parser.prototype.error = function (kind, location) {\n        return {\n            val: null,\n            err: {\n                kind: kind,\n                message: this.message,\n                location: location,\n            },\n        };\n    };\n    /** Bump the parser to the next UTF-16 code unit. */\n    Parser.prototype.bump = function () {\n        if (this.isEOF()) {\n            return;\n        }\n        var code = this.char();\n        if (code === 10 /* '\\n' */) {\n            this.position.line += 1;\n            this.position.column = 1;\n            this.position.offset += 1;\n        }\n        else {\n            this.position.column += 1;\n            // 0 ~ 0x10000 -> unicode BMP, otherwise skip the surrogate pair.\n            this.position.offset += code < 0x10000 ? 1 : 2;\n        }\n    };\n    /**\n     * If the substring starting at the current position of the parser has\n     * the given prefix, then bump the parser to the character immediately\n     * following the prefix and return true. Otherwise, don't bump the parser\n     * and return false.\n     */\n    Parser.prototype.bumpIf = function (prefix) {\n        if (startsWith(this.message, prefix, this.offset())) {\n            for (var i = 0; i < prefix.length; i++) {\n                this.bump();\n            }\n            return true;\n        }\n        return false;\n    };\n    /**\n     * Bump the parser until the pattern character is found and return `true`.\n     * Otherwise bump to the end of the file and return `false`.\n     */\n    Parser.prototype.bumpUntil = function (pattern) {\n        var currentOffset = this.offset();\n        var index = this.message.indexOf(pattern, currentOffset);\n        if (index >= 0) {\n            this.bumpTo(index);\n            return true;\n        }\n        else {\n            this.bumpTo(this.message.length);\n            return false;\n        }\n    };\n    /**\n     * Bump the parser to the target offset.\n     * If target offset is beyond the end of the input, bump the parser to the end of the input.\n     */\n    Parser.prototype.bumpTo = function (targetOffset) {\n        if (this.offset() > targetOffset) {\n            throw Error(\"targetOffset \".concat(targetOffset, \" must be greater than or equal to the current offset \").concat(this.offset()));\n        }\n        targetOffset = Math.min(targetOffset, this.message.length);\n        while (true) {\n            var offset = this.offset();\n            if (offset === targetOffset) {\n                break;\n            }\n            if (offset > targetOffset) {\n                throw Error(\"targetOffset \".concat(targetOffset, \" is at invalid UTF-16 code unit boundary\"));\n            }\n            this.bump();\n            if (this.isEOF()) {\n                break;\n            }\n        }\n    };\n    /** advance the parser through all whitespace to the next non-whitespace code unit. */\n    Parser.prototype.bumpSpace = function () {\n        while (!this.isEOF() && _isWhiteSpace(this.char())) {\n            this.bump();\n        }\n    };\n    /**\n     * Peek at the *next* Unicode codepoint in the input without advancing the parser.\n     * If the input has been exhausted, then this returns null.\n     */\n    Parser.prototype.peek = function () {\n        if (this.isEOF()) {\n            return null;\n        }\n        var code = this.char();\n        var offset = this.offset();\n        var nextCode = this.message.charCodeAt(offset + (code >= 0x10000 ? 2 : 1));\n        return nextCode !== null && nextCode !== void 0 ? nextCode : null;\n    };\n    return Parser;\n}());\nexport { Parser };\n/**\n * This check if codepoint is alphabet (lower & uppercase)\n * @param codepoint\n * @returns\n */\nfunction _isAlpha(codepoint) {\n    return ((codepoint >= 97 && codepoint <= 122) ||\n        (codepoint >= 65 && codepoint <= 90));\n}\nfunction _isAlphaOrSlash(codepoint) {\n    return _isAlpha(codepoint) || codepoint === 47; /* '/' */\n}\n/** See `parseTag` function docs. */\nfunction _isPotentialElementNameChar(c) {\n    return (c === 45 /* '-' */ ||\n        c === 46 /* '.' */ ||\n        (c >= 48 && c <= 57) /* 0..9 */ ||\n        c === 95 /* '_' */ ||\n        (c >= 97 && c <= 122) /** a..z */ ||\n        (c >= 65 && c <= 90) /* A..Z */ ||\n        c == 0xb7 ||\n        (c >= 0xc0 && c <= 0xd6) ||\n        (c >= 0xd8 && c <= 0xf6) ||\n        (c >= 0xf8 && c <= 0x37d) ||\n        (c >= 0x37f && c <= 0x1fff) ||\n        (c >= 0x200c && c <= 0x200d) ||\n        (c >= 0x203f && c <= 0x2040) ||\n        (c >= 0x2070 && c <= 0x218f) ||\n        (c >= 0x2c00 && c <= 0x2fef) ||\n        (c >= 0x3001 && c <= 0xd7ff) ||\n        (c >= 0xf900 && c <= 0xfdcf) ||\n        (c >= 0xfdf0 && c <= 0xfffd) ||\n        (c >= 0x10000 && c <= 0xeffff));\n}\n/**\n * Code point equivalent of regex `\\p{White_Space}`.\n * From: https://www.unicode.org/Public/UCD/latest/ucd/PropList.txt\n */\nfunction _isWhiteSpace(c) {\n    return ((c >= 0x0009 && c <= 0x000d) ||\n        c === 0x0020 ||\n        c === 0x0085 ||\n        (c >= 0x200e && c <= 0x200f) ||\n        c === 0x2028 ||\n        c === 0x2029);\n}\n/**\n * Code point equivalent of regex `\\p{Pattern_Syntax}`.\n * See https://www.unicode.org/Public/UCD/latest/ucd/PropList.txt\n */\nfunction _isPatternSyntax(c) {\n    return ((c >= 0x0021 && c <= 0x0023) ||\n        c === 0x0024 ||\n        (c >= 0x0025 && c <= 0x0027) ||\n        c === 0x0028 ||\n        c === 0x0029 ||\n        c === 0x002a ||\n        c === 0x002b ||\n        c === 0x002c ||\n        c === 0x002d ||\n        (c >= 0x002e && c <= 0x002f) ||\n        (c >= 0x003a && c <= 0x003b) ||\n        (c >= 0x003c && c <= 0x003e) ||\n        (c >= 0x003f && c <= 0x0040) ||\n        c === 0x005b ||\n        c === 0x005c ||\n        c === 0x005d ||\n        c === 0x005e ||\n        c === 0x0060 ||\n        c === 0x007b ||\n        c === 0x007c ||\n        c === 0x007d ||\n        c === 0x007e ||\n        c === 0x00a1 ||\n        (c >= 0x00a2 && c <= 0x00a5) ||\n        c === 0x00a6 ||\n        c === 0x00a7 ||\n        c === 0x00a9 ||\n        c === 0x00ab ||\n        c === 0x00ac ||\n        c === 0x00ae ||\n        c === 0x00b0 ||\n        c === 0x00b1 ||\n        c === 0x00b6 ||\n        c === 0x00bb ||\n        c === 0x00bf ||\n        c === 0x00d7 ||\n        c === 0x00f7 ||\n        (c >= 0x2010 && c <= 0x2015) ||\n        (c >= 0x2016 && c <= 0x2017) ||\n        c === 0x2018 ||\n        c === 0x2019 ||\n        c === 0x201a ||\n        (c >= 0x201b && c <= 0x201c) ||\n        c === 0x201d ||\n        c === 0x201e ||\n        c === 0x201f ||\n        (c >= 0x2020 && c <= 0x2027) ||\n        (c >= 0x2030 && c <= 0x2038) ||\n        c === 0x2039 ||\n        c === 0x203a ||\n        (c >= 0x203b && c <= 0x203e) ||\n        (c >= 0x2041 && c <= 0x2043) ||\n        c === 0x2044 ||\n        c === 0x2045 ||\n        c === 0x2046 ||\n        (c >= 0x2047 && c <= 0x2051) ||\n        c === 0x2052 ||\n        c === 0x2053 ||\n        (c >= 0x2055 && c <= 0x205e) ||\n        (c >= 0x2190 && c <= 0x2194) ||\n        (c >= 0x2195 && c <= 0x2199) ||\n        (c >= 0x219a && c <= 0x219b) ||\n        (c >= 0x219c && c <= 0x219f) ||\n        c === 0x21a0 ||\n        (c >= 0x21a1 && c <= 0x21a2) ||\n        c === 0x21a3 ||\n        (c >= 0x21a4 && c <= 0x21a5) ||\n        c === 0x21a6 ||\n        (c >= 0x21a7 && c <= 0x21ad) ||\n        c === 0x21ae ||\n        (c >= 0x21af && c <= 0x21cd) ||\n        (c >= 0x21ce && c <= 0x21cf) ||\n        (c >= 0x21d0 && c <= 0x21d1) ||\n        c === 0x21d2 ||\n        c === 0x21d3 ||\n        c === 0x21d4 ||\n        (c >= 0x21d5 && c <= 0x21f3) ||\n        (c >= 0x21f4 && c <= 0x22ff) ||\n        (c >= 0x2300 && c <= 0x2307) ||\n        c === 0x2308 ||\n        c === 0x2309 ||\n        c === 0x230a ||\n        c === 0x230b ||\n        (c >= 0x230c && c <= 0x231f) ||\n        (c >= 0x2320 && c <= 0x2321) ||\n        (c >= 0x2322 && c <= 0x2328) ||\n        c === 0x2329 ||\n        c === 0x232a ||\n        (c >= 0x232b && c <= 0x237b) ||\n        c === 0x237c ||\n        (c >= 0x237d && c <= 0x239a) ||\n        (c >= 0x239b && c <= 0x23b3) ||\n        (c >= 0x23b4 && c <= 0x23db) ||\n        (c >= 0x23dc && c <= 0x23e1) ||\n        (c >= 0x23e2 && c <= 0x2426) ||\n        (c >= 0x2427 && c <= 0x243f) ||\n        (c >= 0x2440 && c <= 0x244a) ||\n        (c >= 0x244b && c <= 0x245f) ||\n        (c >= 0x2500 && c <= 0x25b6) ||\n        c === 0x25b7 ||\n        (c >= 0x25b8 && c <= 0x25c0) ||\n        c === 0x25c1 ||\n        (c >= 0x25c2 && c <= 0x25f7) ||\n        (c >= 0x25f8 && c <= 0x25ff) ||\n        (c >= 0x2600 && c <= 0x266e) ||\n        c === 0x266f ||\n        (c >= 0x2670 && c <= 0x2767) ||\n        c === 0x2768 ||\n        c === 0x2769 ||\n        c === 0x276a ||\n        c === 0x276b ||\n        c === 0x276c ||\n        c === 0x276d ||\n        c === 0x276e ||\n        c === 0x276f ||\n        c === 0x2770 ||\n        c === 0x2771 ||\n        c === 0x2772 ||\n        c === 0x2773 ||\n        c === 0x2774 ||\n        c === 0x2775 ||\n        (c >= 0x2794 && c <= 0x27bf) ||\n        (c >= 0x27c0 && c <= 0x27c4) ||\n        c === 0x27c5 ||\n        c === 0x27c6 ||\n        (c >= 0x27c7 && c <= 0x27e5) ||\n        c === 0x27e6 ||\n        c === 0x27e7 ||\n        c === 0x27e8 ||\n        c === 0x27e9 ||\n        c === 0x27ea ||\n        c === 0x27eb ||\n        c === 0x27ec ||\n        c === 0x27ed ||\n        c === 0x27ee ||\n        c === 0x27ef ||\n        (c >= 0x27f0 && c <= 0x27ff) ||\n        (c >= 0x2800 && c <= 0x28ff) ||\n        (c >= 0x2900 && c <= 0x2982) ||\n        c === 0x2983 ||\n        c === 0x2984 ||\n        c === 0x2985 ||\n        c === 0x2986 ||\n        c === 0x2987 ||\n        c === 0x2988 ||\n        c === 0x2989 ||\n        c === 0x298a ||\n        c === 0x298b ||\n        c === 0x298c ||\n        c === 0x298d ||\n        c === 0x298e ||\n        c === 0x298f ||\n        c === 0x2990 ||\n        c === 0x2991 ||\n        c === 0x2992 ||\n        c === 0x2993 ||\n        c === 0x2994 ||\n        c === 0x2995 ||\n        c === 0x2996 ||\n        c === 0x2997 ||\n        c === 0x2998 ||\n        (c >= 0x2999 && c <= 0x29d7) ||\n        c === 0x29d8 ||\n        c === 0x29d9 ||\n        c === 0x29da ||\n        c === 0x29db ||\n        (c >= 0x29dc && c <= 0x29fb) ||\n        c === 0x29fc ||\n        c === 0x29fd ||\n        (c >= 0x29fe && c <= 0x2aff) ||\n        (c >= 0x2b00 && c <= 0x2b2f) ||\n        (c >= 0x2b30 && c <= 0x2b44) ||\n        (c >= 0x2b45 && c <= 0x2b46) ||\n        (c >= 0x2b47 && c <= 0x2b4c) ||\n        (c >= 0x2b4d && c <= 0x2b73) ||\n        (c >= 0x2b74 && c <= 0x2b75) ||\n        (c >= 0x2b76 && c <= 0x2b95) ||\n        c === 0x2b96 ||\n        (c >= 0x2b97 && c <= 0x2bff) ||\n        (c >= 0x2e00 && c <= 0x2e01) ||\n        c === 0x2e02 ||\n        c === 0x2e03 ||\n        c === 0x2e04 ||\n        c === 0x2e05 ||\n        (c >= 0x2e06 && c <= 0x2e08) ||\n        c === 0x2e09 ||\n        c === 0x2e0a ||\n        c === 0x2e0b ||\n        c === 0x2e0c ||\n        c === 0x2e0d ||\n        (c >= 0x2e0e && c <= 0x2e16) ||\n        c === 0x2e17 ||\n        (c >= 0x2e18 && c <= 0x2e19) ||\n        c === 0x2e1a ||\n        c === 0x2e1b ||\n        c === 0x2e1c ||\n        c === 0x2e1d ||\n        (c >= 0x2e1e && c <= 0x2e1f) ||\n        c === 0x2e20 ||\n        c === 0x2e21 ||\n        c === 0x2e22 ||\n        c === 0x2e23 ||\n        c === 0x2e24 ||\n        c === 0x2e25 ||\n        c === 0x2e26 ||\n        c === 0x2e27 ||\n        c === 0x2e28 ||\n        c === 0x2e29 ||\n        (c >= 0x2e2a && c <= 0x2e2e) ||\n        c === 0x2e2f ||\n        (c >= 0x2e30 && c <= 0x2e39) ||\n        (c >= 0x2e3a && c <= 0x2e3b) ||\n        (c >= 0x2e3c && c <= 0x2e3f) ||\n        c === 0x2e40 ||\n        c === 0x2e41 ||\n        c === 0x2e42 ||\n        (c >= 0x2e43 && c <= 0x2e4f) ||\n        (c >= 0x2e50 && c <= 0x2e51) ||\n        c === 0x2e52 ||\n        (c >= 0x2e53 && c <= 0x2e7f) ||\n        (c >= 0x3001 && c <= 0x3003) ||\n        c === 0x3008 ||\n        c === 0x3009 ||\n        c === 0x300a ||\n        c === 0x300b ||\n        c === 0x300c ||\n        c === 0x300d ||\n        c === 0x300e ||\n        c === 0x300f ||\n        c === 0x3010 ||\n        c === 0x3011 ||\n        (c >= 0x3012 && c <= 0x3013) ||\n        c === 0x3014 ||\n        c === 0x3015 ||\n        c === 0x3016 ||\n        c === 0x3017 ||\n        c === 0x3018 ||\n        c === 0x3019 ||\n        c === 0x301a ||\n        c === 0x301b ||\n        c === 0x301c ||\n        c === 0x301d ||\n        (c >= 0x301e && c <= 0x301f) ||\n        c === 0x3020 ||\n        c === 0x3030 ||\n        c === 0xfd3e ||\n        c === 0xfd3f ||\n        (c >= 0xfe45 && c <= 0xfe46));\n}\n","import { __assign } from \"tslib\";\nimport { ErrorKind } from './error';\nimport { Parser } from './parser';\nimport { isDateElement, isDateTimeSkeleton, isNumberElement, isNumberSkeleton, isPluralElement, isSelectElement, isTagElement, isTimeElement, } from './types';\nfunction pruneLocation(els) {\n    els.forEach(function (el) {\n        delete el.location;\n        if (isSelectElement(el) || isPluralElement(el)) {\n            for (var k in el.options) {\n                delete el.options[k].location;\n                pruneLocation(el.options[k].value);\n            }\n        }\n        else if (isNumberElement(el) && isNumberSkeleton(el.style)) {\n            delete el.style.location;\n        }\n        else if ((isDateElement(el) || isTimeElement(el)) &&\n            isDateTimeSkeleton(el.style)) {\n            delete el.style.location;\n        }\n        else if (isTagElement(el)) {\n            pruneLocation(el.children);\n        }\n    });\n}\nexport function parse(message, opts) {\n    if (opts === void 0) { opts = {}; }\n    opts = __assign({ shouldParseSkeletons: true, requiresOtherClause: true }, opts);\n    var result = new Parser(message, opts).parse();\n    if (result.err) {\n        var error = SyntaxError(ErrorKind[result.err.kind]);\n        // @ts-expect-error Assign to error object\n        error.location = result.err.location;\n        // @ts-expect-error Assign to error object\n        error.originalMessage = result.err.message;\n        throw error;\n    }\n    if (!(opts === null || opts === void 0 ? void 0 : opts.captureLocation)) {\n        pruneLocation(result.val);\n    }\n    return result.val;\n}\nexport * from './types';\n// only for testing\nexport var _Parser = Parser;\n","//\n// Main\n//\nexport function memoize(fn, options) {\n    var cache = options && options.cache ? options.cache : cacheDefault;\n    var serializer = options && options.serializer ? options.serializer : serializerDefault;\n    var strategy = options && options.strategy ? options.strategy : strategyDefault;\n    return strategy(fn, {\n        cache: cache,\n        serializer: serializer,\n    });\n}\n//\n// Strategy\n//\nfunction isPrimitive(value) {\n    return (value == null || typeof value === 'number' || typeof value === 'boolean'); // || typeof value === \"string\" 'unsafe' primitive for our needs\n}\nfunction monadic(fn, cache, serializer, arg) {\n    var cacheKey = isPrimitive(arg) ? arg : serializer(arg);\n    var computedValue = cache.get(cacheKey);\n    if (typeof computedValue === 'undefined') {\n        computedValue = fn.call(this, arg);\n        cache.set(cacheKey, computedValue);\n    }\n    return computedValue;\n}\nfunction variadic(fn, cache, serializer) {\n    var args = Array.prototype.slice.call(arguments, 3);\n    var cacheKey = serializer(args);\n    var computedValue = cache.get(cacheKey);\n    if (typeof computedValue === 'undefined') {\n        computedValue = fn.apply(this, args);\n        cache.set(cacheKey, computedValue);\n    }\n    return computedValue;\n}\nfunction assemble(fn, context, strategy, cache, serialize) {\n    return strategy.bind(context, fn, cache, serialize);\n}\nfunction strategyDefault(fn, options) {\n    var strategy = fn.length === 1 ? monadic : variadic;\n    return assemble(fn, this, strategy, options.cache.create(), options.serializer);\n}\nfunction strategyVariadic(fn, options) {\n    return assemble(fn, this, variadic, options.cache.create(), options.serializer);\n}\nfunction strategyMonadic(fn, options) {\n    return assemble(fn, this, monadic, options.cache.create(), options.serializer);\n}\n//\n// Serializer\n//\nvar serializerDefault = function () {\n    return JSON.stringify(arguments);\n};\n//\n// Cache\n//\nfunction ObjectWithoutPrototypeCache() {\n    this.cache = Object.create(null);\n}\nObjectWithoutPrototypeCache.prototype.get = function (key) {\n    return this.cache[key];\n};\nObjectWithoutPrototypeCache.prototype.set = function (key, value) {\n    this.cache[key] = value;\n};\nvar cacheDefault = {\n    create: function create() {\n        // @ts-ignore\n        return new ObjectWithoutPrototypeCache();\n    },\n};\nexport var strategies = {\n    variadic: strategyVariadic,\n    monadic: strategyMonadic,\n};\n","import { __extends } from \"tslib\";\nexport var ErrorCode;\n(function (ErrorCode) {\n    // When we have a placeholder but no value to format\n    ErrorCode[\"MISSING_VALUE\"] = \"MISSING_VALUE\";\n    // When value supplied is invalid\n    ErrorCode[\"INVALID_VALUE\"] = \"INVALID_VALUE\";\n    // When we need specific Intl API but it's not available\n    ErrorCode[\"MISSING_INTL_API\"] = \"MISSING_INTL_API\";\n})(ErrorCode || (ErrorCode = {}));\nvar FormatError = /** @class */ (function (_super) {\n    __extends(FormatError, _super);\n    function FormatError(msg, code, originalMessage) {\n        var _this = _super.call(this, msg) || this;\n        _this.code = code;\n        _this.originalMessage = originalMessage;\n        return _this;\n    }\n    FormatError.prototype.toString = function () {\n        return \"[formatjs Error: \".concat(this.code, \"] \").concat(this.message);\n    };\n    return FormatError;\n}(Error));\nexport { FormatError };\nvar InvalidValueError = /** @class */ (function (_super) {\n    __extends(InvalidValueError, _super);\n    function InvalidValueError(variableId, value, options, originalMessage) {\n        return _super.call(this, \"Invalid values for \\\"\".concat(variableId, \"\\\": \\\"\").concat(value, \"\\\". Options are \\\"\").concat(Object.keys(options).join('\", \"'), \"\\\"\"), ErrorCode.INVALID_VALUE, originalMessage) || this;\n    }\n    return InvalidValueError;\n}(FormatError));\nexport { InvalidValueError };\nvar InvalidValueTypeError = /** @class */ (function (_super) {\n    __extends(InvalidValueTypeError, _super);\n    function InvalidValueTypeError(value, type, originalMessage) {\n        return _super.call(this, \"Value for \\\"\".concat(value, \"\\\" must be of type \").concat(type), ErrorCode.INVALID_VALUE, originalMessage) || this;\n    }\n    return InvalidValueTypeError;\n}(FormatError));\nexport { InvalidValueTypeError };\nvar MissingValueError = /** @class */ (function (_super) {\n    __extends(MissingValueError, _super);\n    function MissingValueError(variableId, originalMessage) {\n        return _super.call(this, \"The intl string context variable \\\"\".concat(variableId, \"\\\" was not provided to the string \\\"\").concat(originalMessage, \"\\\"\"), ErrorCode.MISSING_VALUE, originalMessage) || this;\n    }\n    return MissingValueError;\n}(FormatError));\nexport { MissingValueError };\n","import { isArgumentElement, isDateElement, isDateTimeSkeleton, isLiteralElement, isNumberElement, isNumberSkeleton, isPluralElement, isPoundElement, isSelectElement, isTimeElement, isTagElement, } from '@formatjs/icu-messageformat-parser';\nimport { MissingValueError, InvalidValueError, ErrorCode, FormatError, InvalidValueTypeError, } from './error';\nexport var PART_TYPE;\n(function (PART_TYPE) {\n    PART_TYPE[PART_TYPE[\"literal\"] = 0] = \"literal\";\n    PART_TYPE[PART_TYPE[\"object\"] = 1] = \"object\";\n})(PART_TYPE || (PART_TYPE = {}));\nfunction mergeLiteral(parts) {\n    if (parts.length < 2) {\n        return parts;\n    }\n    return parts.reduce(function (all, part) {\n        var lastPart = all[all.length - 1];\n        if (!lastPart ||\n            lastPart.type !== PART_TYPE.literal ||\n            part.type !== PART_TYPE.literal) {\n            all.push(part);\n        }\n        else {\n            lastPart.value += part.value;\n        }\n        return all;\n    }, []);\n}\nexport function isFormatXMLElementFn(el) {\n    return typeof el === 'function';\n}\n// TODO(skeleton): add skeleton support\nexport function formatToParts(els, locales, formatters, formats, values, currentPluralValue, \n// For debugging\noriginalMessage) {\n    // Hot path for straight simple msg translations\n    if (els.length === 1 && isLiteralElement(els[0])) {\n        return [\n            {\n                type: PART_TYPE.literal,\n                value: els[0].value,\n            },\n        ];\n    }\n    var result = [];\n    for (var _i = 0, els_1 = els; _i < els_1.length; _i++) {\n        var el = els_1[_i];\n        // Exit early for string parts.\n        if (isLiteralElement(el)) {\n            result.push({\n                type: PART_TYPE.literal,\n                value: el.value,\n            });\n            continue;\n        }\n        // TODO: should this part be literal type?\n        // Replace `#` in plural rules with the actual numeric value.\n        if (isPoundElement(el)) {\n            if (typeof currentPluralValue === 'number') {\n                result.push({\n                    type: PART_TYPE.literal,\n                    value: formatters.getNumberFormat(locales).format(currentPluralValue),\n                });\n            }\n            continue;\n        }\n        var varName = el.value;\n        // Enforce that all required values are provided by the caller.\n        if (!(values && varName in values)) {\n            throw new MissingValueError(varName, originalMessage);\n        }\n        var value = values[varName];\n        if (isArgumentElement(el)) {\n            if (!value || typeof value === 'string' || typeof value === 'number') {\n                value =\n                    typeof value === 'string' || typeof value === 'number'\n                        ? String(value)\n                        : '';\n            }\n            result.push({\n                type: typeof value === 'string' ? PART_TYPE.literal : PART_TYPE.object,\n                value: value,\n            });\n            continue;\n        }\n        // Recursively format plural and select parts' option  which can be a\n        // nested pattern structure. The choosing of the option to use is\n        // abstracted-by and delegated-to the part helper object.\n        if (isDateElement(el)) {\n            var style = typeof el.style === 'string'\n                ? formats.date[el.style]\n                : isDateTimeSkeleton(el.style)\n                    ? el.style.parsedOptions\n                    : undefined;\n            result.push({\n                type: PART_TYPE.literal,\n                value: formatters\n                    .getDateTimeFormat(locales, style)\n                    .format(value),\n            });\n            continue;\n        }\n        if (isTimeElement(el)) {\n            var style = typeof el.style === 'string'\n                ? formats.time[el.style]\n                : isDateTimeSkeleton(el.style)\n                    ? el.style.parsedOptions\n                    : formats.time.medium;\n            result.push({\n                type: PART_TYPE.literal,\n                value: formatters\n                    .getDateTimeFormat(locales, style)\n                    .format(value),\n            });\n            continue;\n        }\n        if (isNumberElement(el)) {\n            var style = typeof el.style === 'string'\n                ? formats.number[el.style]\n                : isNumberSkeleton(el.style)\n                    ? el.style.parsedOptions\n                    : undefined;\n            if (style && style.scale) {\n                value =\n                    value *\n                        (style.scale || 1);\n            }\n            result.push({\n                type: PART_TYPE.literal,\n                value: formatters\n                    .getNumberFormat(locales, style)\n                    .format(value),\n            });\n            continue;\n        }\n        if (isTagElement(el)) {\n            var children = el.children, value_1 = el.value;\n            var formatFn = values[value_1];\n            if (!isFormatXMLElementFn(formatFn)) {\n                throw new InvalidValueTypeError(value_1, 'function', originalMessage);\n            }\n            var parts = formatToParts(children, locales, formatters, formats, values, currentPluralValue);\n            var chunks = formatFn(parts.map(function (p) { return p.value; }));\n            if (!Array.isArray(chunks)) {\n                chunks = [chunks];\n            }\n            result.push.apply(result, chunks.map(function (c) {\n                return {\n                    type: typeof c === 'string' ? PART_TYPE.literal : PART_TYPE.object,\n                    value: c,\n                };\n            }));\n        }\n        if (isSelectElement(el)) {\n            var opt = el.options[value] || el.options.other;\n            if (!opt) {\n                throw new InvalidValueError(el.value, value, Object.keys(el.options), originalMessage);\n            }\n            result.push.apply(result, formatToParts(opt.value, locales, formatters, formats, values));\n            continue;\n        }\n        if (isPluralElement(el)) {\n            var opt = el.options[\"=\".concat(value)];\n            if (!opt) {\n                if (!Intl.PluralRules) {\n                    throw new FormatError(\"Intl.PluralRules is not available in this environment.\\nTry polyfilling it using \\\"@formatjs/intl-pluralrules\\\"\\n\", ErrorCode.MISSING_INTL_API, originalMessage);\n                }\n                var rule = formatters\n                    .getPluralRules(locales, { type: el.pluralType })\n                    .select(value - (el.offset || 0));\n                opt = el.options[rule] || el.options.other;\n            }\n            if (!opt) {\n                throw new InvalidValueError(el.value, value, Object.keys(el.options), originalMessage);\n            }\n            result.push.apply(result, formatToParts(opt.value, locales, formatters, formats, values, value - (el.offset || 0)));\n            continue;\n        }\n    }\n    return mergeLiteral(result);\n}\n","/*\nCopyright (c) 2014, Yahoo! Inc. All rights reserved.\nCopyrights licensed under the New BSD License.\nSee the accompanying LICENSE file for terms.\n*/\nimport { __assign, __rest, __spreadArray } from \"tslib\";\nimport { parse, } from '@formatjs/icu-messageformat-parser';\nimport { memoize, strategies } from '@formatjs/fast-memoize';\nimport { formatToParts, PART_TYPE, } from './formatters';\n// -- MessageFormat --------------------------------------------------------\nfunction mergeConfig(c1, c2) {\n    if (!c2) {\n        return c1;\n    }\n    return __assign(__assign(__assign({}, (c1 || {})), (c2 || {})), Object.keys(c1).reduce(function (all, k) {\n        all[k] = __assign(__assign({}, c1[k]), (c2[k] || {}));\n        return all;\n    }, {}));\n}\nfunction mergeConfigs(defaultConfig, configs) {\n    if (!configs) {\n        return defaultConfig;\n    }\n    return Object.keys(defaultConfig).reduce(function (all, k) {\n        all[k] = mergeConfig(defaultConfig[k], configs[k]);\n        return all;\n    }, __assign({}, defaultConfig));\n}\nfunction createFastMemoizeCache(store) {\n    return {\n        create: function () {\n            return {\n                get: function (key) {\n                    return store[key];\n                },\n                set: function (key, value) {\n                    store[key] = value;\n                },\n            };\n        },\n    };\n}\nfunction createDefaultFormatters(cache) {\n    if (cache === void 0) { cache = {\n        number: {},\n        dateTime: {},\n        pluralRules: {},\n    }; }\n    return {\n        getNumberFormat: memoize(function () {\n            var _a;\n            var args = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                args[_i] = arguments[_i];\n            }\n            return new ((_a = Intl.NumberFormat).bind.apply(_a, __spreadArray([void 0], args, false)))();\n        }, {\n            cache: createFastMemoizeCache(cache.number),\n            strategy: strategies.variadic,\n        }),\n        getDateTimeFormat: memoize(function () {\n            var _a;\n            var args = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                args[_i] = arguments[_i];\n            }\n            return new ((_a = Intl.DateTimeFormat).bind.apply(_a, __spreadArray([void 0], args, false)))();\n        }, {\n            cache: createFastMemoizeCache(cache.dateTime),\n            strategy: strategies.variadic,\n        }),\n        getPluralRules: memoize(function () {\n            var _a;\n            var args = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                args[_i] = arguments[_i];\n            }\n            return new ((_a = Intl.PluralRules).bind.apply(_a, __spreadArray([void 0], args, false)))();\n        }, {\n            cache: createFastMemoizeCache(cache.pluralRules),\n            strategy: strategies.variadic,\n        }),\n    };\n}\nvar IntlMessageFormat = /** @class */ (function () {\n    function IntlMessageFormat(message, locales, overrideFormats, opts) {\n        var _this = this;\n        if (locales === void 0) { locales = IntlMessageFormat.defaultLocale; }\n        this.formatterCache = {\n            number: {},\n            dateTime: {},\n            pluralRules: {},\n        };\n        this.format = function (values) {\n            var parts = _this.formatToParts(values);\n            // Hot path for straight simple msg translations\n            if (parts.length === 1) {\n                return parts[0].value;\n            }\n            var result = parts.reduce(function (all, part) {\n                if (!all.length ||\n                    part.type !== PART_TYPE.literal ||\n                    typeof all[all.length - 1] !== 'string') {\n                    all.push(part.value);\n                }\n                else {\n                    all[all.length - 1] += part.value;\n                }\n                return all;\n            }, []);\n            if (result.length <= 1) {\n                return result[0] || '';\n            }\n            return result;\n        };\n        this.formatToParts = function (values) {\n            return formatToParts(_this.ast, _this.locales, _this.formatters, _this.formats, values, undefined, _this.message);\n        };\n        this.resolvedOptions = function () {\n            var _a;\n            return ({\n                locale: ((_a = _this.resolvedLocale) === null || _a === void 0 ? void 0 : _a.toString()) ||\n                    Intl.NumberFormat.supportedLocalesOf(_this.locales)[0],\n            });\n        };\n        this.getAst = function () { return _this.ast; };\n        // Defined first because it's used to build the format pattern.\n        this.locales = locales;\n        this.resolvedLocale = IntlMessageFormat.resolveLocale(locales);\n        if (typeof message === 'string') {\n            this.message = message;\n            if (!IntlMessageFormat.__parse) {\n                throw new TypeError('IntlMessageFormat.__parse must be set to process `message` of type `string`');\n            }\n            var _a = opts || {}, formatters = _a.formatters, parseOpts = __rest(_a, [\"formatters\"]);\n            // Parse string messages into an AST.\n            this.ast = IntlMessageFormat.__parse(message, __assign(__assign({}, parseOpts), { locale: this.resolvedLocale }));\n        }\n        else {\n            this.ast = message;\n        }\n        if (!Array.isArray(this.ast)) {\n            throw new TypeError('A message must be provided as a String or AST.');\n        }\n        // Creates a new object with the specified `formats` merged with the default\n        // formats.\n        this.formats = mergeConfigs(IntlMessageFormat.formats, overrideFormats);\n        this.formatters =\n            (opts && opts.formatters) || createDefaultFormatters(this.formatterCache);\n    }\n    Object.defineProperty(IntlMessageFormat, \"defaultLocale\", {\n        get: function () {\n            if (!IntlMessageFormat.memoizedDefaultLocale) {\n                IntlMessageFormat.memoizedDefaultLocale =\n                    new Intl.NumberFormat().resolvedOptions().locale;\n            }\n            return IntlMessageFormat.memoizedDefaultLocale;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    IntlMessageFormat.memoizedDefaultLocale = null;\n    IntlMessageFormat.resolveLocale = function (locales) {\n        if (typeof Intl.Locale === 'undefined') {\n            return;\n        }\n        var supportedLocales = Intl.NumberFormat.supportedLocalesOf(locales);\n        if (supportedLocales.length > 0) {\n            return new Intl.Locale(supportedLocales[0]);\n        }\n        return new Intl.Locale(typeof locales === 'string' ? locales : locales[0]);\n    };\n    IntlMessageFormat.__parse = parse;\n    // Default format options used as the prototype of the `formats` provided to the\n    // constructor. These are used when constructing the internal Intl.NumberFormat\n    // and Intl.DateTimeFormat instances.\n    IntlMessageFormat.formats = {\n        number: {\n            integer: {\n                maximumFractionDigits: 0,\n            },\n            currency: {\n                style: 'currency',\n            },\n            percent: {\n                style: 'percent',\n            },\n        },\n        date: {\n            short: {\n                month: 'numeric',\n                day: 'numeric',\n                year: '2-digit',\n            },\n            medium: {\n                month: 'short',\n                day: 'numeric',\n                year: 'numeric',\n            },\n            long: {\n                month: 'long',\n                day: 'numeric',\n                year: 'numeric',\n            },\n            full: {\n                weekday: 'long',\n                month: 'long',\n                day: 'numeric',\n                year: 'numeric',\n            },\n        },\n        time: {\n            short: {\n                hour: 'numeric',\n                minute: 'numeric',\n            },\n            medium: {\n                hour: 'numeric',\n                minute: 'numeric',\n                second: 'numeric',\n            },\n            long: {\n                hour: 'numeric',\n                minute: 'numeric',\n                second: 'numeric',\n                timeZoneName: 'short',\n            },\n            full: {\n                hour: 'numeric',\n                minute: 'numeric',\n                second: 'numeric',\n                timeZoneName: 'short',\n            },\n        },\n    };\n    return IntlMessageFormat;\n}());\nexport { IntlMessageFormat };\n","import { writable, derived } from 'svelte/store';\nimport deepmerge from 'deepmerge';\nimport { IntlMessageFormat } from 'intl-messageformat';\n\nfunction delve(obj, fullKey) {\n  if (fullKey == null)\n    return void 0;\n  if (fullKey in obj) {\n    return obj[fullKey];\n  }\n  const keys = fullKey.split(\".\");\n  let result = obj;\n  for (let p = 0; p < keys.length; p++) {\n    if (typeof result === \"object\") {\n      if (p > 0) {\n        const partialKey = keys.slice(p, keys.length).join(\".\");\n        if (partialKey in result) {\n          result = result[partialKey];\n          break;\n        }\n      }\n      result = result[keys[p]];\n    } else {\n      result = void 0;\n    }\n  }\n  return result;\n}\n\nconst lookupCache = {};\nconst addToCache = (path, locale, message) => {\n  if (!message)\n    return message;\n  if (!(locale in lookupCache))\n    lookupCache[locale] = {};\n  if (!(path in lookupCache[locale]))\n    lookupCache[locale][path] = message;\n  return message;\n};\nconst lookup = (path, refLocale) => {\n  if (refLocale == null)\n    return void 0;\n  if (refLocale in lookupCache && path in lookupCache[refLocale]) {\n    return lookupCache[refLocale][path];\n  }\n  const locales = getPossibleLocales(refLocale);\n  for (let i = 0; i < locales.length; i++) {\n    const locale = locales[i];\n    const message = getMessageFromDictionary(locale, path);\n    if (message) {\n      return addToCache(path, refLocale, message);\n    }\n  }\n  return void 0;\n};\n\nlet dictionary;\nconst $dictionary = writable({});\nfunction getLocaleDictionary(locale) {\n  return dictionary[locale] || null;\n}\nfunction hasLocaleDictionary(locale) {\n  return locale in dictionary;\n}\nfunction getMessageFromDictionary(locale, id) {\n  if (!hasLocaleDictionary(locale)) {\n    return null;\n  }\n  const localeDictionary = getLocaleDictionary(locale);\n  const match = delve(localeDictionary, id);\n  return match;\n}\nfunction getClosestAvailableLocale(refLocale) {\n  if (refLocale == null)\n    return void 0;\n  const relatedLocales = getPossibleLocales(refLocale);\n  for (let i = 0; i < relatedLocales.length; i++) {\n    const locale = relatedLocales[i];\n    if (hasLocaleDictionary(locale)) {\n      return locale;\n    }\n  }\n  return void 0;\n}\nfunction addMessages(locale, ...partials) {\n  delete lookupCache[locale];\n  $dictionary.update((d) => {\n    d[locale] = deepmerge.all([d[locale] || {}, ...partials]);\n    return d;\n  });\n}\nconst $locales = derived(\n  [$dictionary],\n  ([dictionary2]) => Object.keys(dictionary2)\n);\n$dictionary.subscribe((newDictionary) => dictionary = newDictionary);\n\nconst queue = {};\nfunction createLocaleQueue(locale) {\n  queue[locale] = /* @__PURE__ */ new Set();\n}\nfunction removeLoaderFromQueue(locale, loader) {\n  queue[locale].delete(loader);\n  if (queue[locale].size === 0) {\n    delete queue[locale];\n  }\n}\nfunction getLocaleQueue(locale) {\n  return queue[locale];\n}\nfunction getLocalesQueues(locale) {\n  return getPossibleLocales(locale).map((localeItem) => {\n    const localeQueue = getLocaleQueue(localeItem);\n    return [localeItem, localeQueue ? [...localeQueue] : []];\n  }).filter(([, localeQueue]) => localeQueue.length > 0);\n}\nfunction hasLocaleQueue(locale) {\n  if (locale == null)\n    return false;\n  return getPossibleLocales(locale).some(\n    (localeQueue) => {\n      var _a;\n      return (_a = getLocaleQueue(localeQueue)) == null ? void 0 : _a.size;\n    }\n  );\n}\nfunction loadLocaleQueue(locale, localeQueue) {\n  const allLoadersPromise = Promise.all(\n    localeQueue.map((loader) => {\n      removeLoaderFromQueue(locale, loader);\n      return loader().then((partial) => partial.default || partial);\n    })\n  );\n  return allLoadersPromise.then((partials) => addMessages(locale, ...partials));\n}\nconst activeFlushes = {};\nfunction flush(locale) {\n  if (!hasLocaleQueue(locale)) {\n    if (locale in activeFlushes) {\n      return activeFlushes[locale];\n    }\n    return Promise.resolve();\n  }\n  const queues = getLocalesQueues(locale);\n  activeFlushes[locale] = Promise.all(\n    queues.map(\n      ([localeName, localeQueue]) => loadLocaleQueue(localeName, localeQueue)\n    )\n  ).then(() => {\n    if (hasLocaleQueue(locale)) {\n      return flush(locale);\n    }\n    delete activeFlushes[locale];\n  });\n  return activeFlushes[locale];\n}\nfunction registerLocaleLoader(locale, loader) {\n  if (!getLocaleQueue(locale))\n    createLocaleQueue(locale);\n  const localeQueue = getLocaleQueue(locale);\n  if (getLocaleQueue(locale).has(loader))\n    return;\n  if (!hasLocaleDictionary(locale)) {\n    $dictionary.update((d) => {\n      d[locale] = {};\n      return d;\n    });\n  }\n  localeQueue.add(loader);\n}\n\nvar __getOwnPropSymbols$2 = Object.getOwnPropertySymbols;\nvar __hasOwnProp$2 = Object.prototype.hasOwnProperty;\nvar __propIsEnum$2 = Object.prototype.propertyIsEnumerable;\nvar __objRest$1 = (source, exclude) => {\n  var target = {};\n  for (var prop in source)\n    if (__hasOwnProp$2.call(source, prop) && exclude.indexOf(prop) < 0)\n      target[prop] = source[prop];\n  if (source != null && __getOwnPropSymbols$2)\n    for (var prop of __getOwnPropSymbols$2(source)) {\n      if (exclude.indexOf(prop) < 0 && __propIsEnum$2.call(source, prop))\n        target[prop] = source[prop];\n    }\n  return target;\n};\nconst defaultFormats = {\n  number: {\n    scientific: { notation: \"scientific\" },\n    engineering: { notation: \"engineering\" },\n    compactLong: { notation: \"compact\", compactDisplay: \"long\" },\n    compactShort: { notation: \"compact\", compactDisplay: \"short\" }\n  },\n  date: {\n    short: { month: \"numeric\", day: \"numeric\", year: \"2-digit\" },\n    medium: { month: \"short\", day: \"numeric\", year: \"numeric\" },\n    long: { month: \"long\", day: \"numeric\", year: \"numeric\" },\n    full: { weekday: \"long\", month: \"long\", day: \"numeric\", year: \"numeric\" }\n  },\n  time: {\n    short: { hour: \"numeric\", minute: \"numeric\" },\n    medium: { hour: \"numeric\", minute: \"numeric\", second: \"numeric\" },\n    long: {\n      hour: \"numeric\",\n      minute: \"numeric\",\n      second: \"numeric\",\n      timeZoneName: \"short\"\n    },\n    full: {\n      hour: \"numeric\",\n      minute: \"numeric\",\n      second: \"numeric\",\n      timeZoneName: \"short\"\n    }\n  }\n};\nfunction defaultMissingKeyHandler({ locale, id }) {\n  console.warn(\n    `[svelte-i18n] The message \"${id}\" was not found in \"${getPossibleLocales(\n      locale\n    ).join('\", \"')}\".${hasLocaleQueue(getCurrentLocale()) ? `\n\nNote: there are at least one loader still registered to this locale that wasn't executed.` : \"\"}`\n  );\n}\nconst defaultOptions = {\n  fallbackLocale: null,\n  loadingDelay: 200,\n  formats: defaultFormats,\n  warnOnMissingMessages: true,\n  handleMissingMessage: void 0,\n  ignoreTag: true\n};\nconst options = defaultOptions;\nfunction getOptions() {\n  return options;\n}\nfunction init(opts) {\n  const _a = opts, { formats } = _a, rest = __objRest$1(_a, [\"formats\"]);\n  let initialLocale = opts.fallbackLocale;\n  if (opts.initialLocale) {\n    try {\n      if (IntlMessageFormat.resolveLocale(opts.initialLocale)) {\n        initialLocale = opts.initialLocale;\n      }\n    } catch (e) {\n      console.warn(\n        `[svelte-i18n] The initial locale \"${opts.initialLocale}\" is not a valid locale.`\n      );\n    }\n  }\n  if (rest.warnOnMissingMessages) {\n    delete rest.warnOnMissingMessages;\n    if (rest.handleMissingMessage == null) {\n      rest.handleMissingMessage = defaultMissingKeyHandler;\n    } else {\n      console.warn(\n        '[svelte-i18n] The \"warnOnMissingMessages\" option is deprecated. Please use the \"handleMissingMessage\" option instead.'\n      );\n    }\n  }\n  Object.assign(options, rest, { initialLocale });\n  if (formats) {\n    if (\"number\" in formats) {\n      Object.assign(options.formats.number, formats.number);\n    }\n    if (\"date\" in formats) {\n      Object.assign(options.formats.date, formats.date);\n    }\n    if (\"time\" in formats) {\n      Object.assign(options.formats.time, formats.time);\n    }\n  }\n  return $locale.set(initialLocale);\n}\n\nconst $isLoading = writable(false);\n\nvar __defProp$1 = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols$1 = Object.getOwnPropertySymbols;\nvar __hasOwnProp$1 = Object.prototype.hasOwnProperty;\nvar __propIsEnum$1 = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp$1 = (obj, key, value) => key in obj ? __defProp$1(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues$1 = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp$1.call(b, prop))\n      __defNormalProp$1(a, prop, b[prop]);\n  if (__getOwnPropSymbols$1)\n    for (var prop of __getOwnPropSymbols$1(b)) {\n      if (__propIsEnum$1.call(b, prop))\n        __defNormalProp$1(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\nlet current;\nconst internalLocale = writable(null);\nfunction getSubLocales(refLocale) {\n  return refLocale.split(\"-\").map((_, i, arr) => arr.slice(0, i + 1).join(\"-\")).reverse();\n}\nfunction getPossibleLocales(refLocale, fallbackLocale = getOptions().fallbackLocale) {\n  const locales = getSubLocales(refLocale);\n  if (fallbackLocale) {\n    return [.../* @__PURE__ */ new Set([...locales, ...getSubLocales(fallbackLocale)])];\n  }\n  return locales;\n}\nfunction getCurrentLocale() {\n  return current != null ? current : void 0;\n}\ninternalLocale.subscribe((newLocale) => {\n  current = newLocale != null ? newLocale : void 0;\n  if (typeof window !== \"undefined\" && newLocale != null) {\n    document.documentElement.setAttribute(\"lang\", newLocale);\n  }\n});\nconst set = (newLocale) => {\n  if (newLocale && getClosestAvailableLocale(newLocale) && hasLocaleQueue(newLocale)) {\n    const { loadingDelay } = getOptions();\n    let loadingTimer;\n    if (typeof window !== \"undefined\" && getCurrentLocale() != null && loadingDelay) {\n      loadingTimer = window.setTimeout(\n        () => $isLoading.set(true),\n        loadingDelay\n      );\n    } else {\n      $isLoading.set(true);\n    }\n    return flush(newLocale).then(() => {\n      internalLocale.set(newLocale);\n    }).finally(() => {\n      clearTimeout(loadingTimer);\n      $isLoading.set(false);\n    });\n  }\n  return internalLocale.set(newLocale);\n};\nconst $locale = __spreadProps(__spreadValues$1({}, internalLocale), {\n  set\n});\n\nconst getFromQueryString = (queryString, key) => {\n  const keyVal = queryString.split(\"&\").find((i) => i.indexOf(`${key}=`) === 0);\n  if (keyVal) {\n    return keyVal.split(\"=\").pop();\n  }\n  return null;\n};\nconst getFirstMatch = (base, pattern) => {\n  const match = pattern.exec(base);\n  if (!match)\n    return null;\n  return match[1] || null;\n};\nconst getLocaleFromHostname = (hostname) => {\n  if (typeof window === \"undefined\")\n    return null;\n  return getFirstMatch(window.location.hostname, hostname);\n};\nconst getLocaleFromPathname = (pathname) => {\n  if (typeof window === \"undefined\")\n    return null;\n  return getFirstMatch(window.location.pathname, pathname);\n};\nconst getLocaleFromNavigator = () => {\n  if (typeof window === \"undefined\")\n    return null;\n  return window.navigator.language || window.navigator.languages[0];\n};\nconst getLocaleFromQueryString = (search) => {\n  if (typeof window === \"undefined\")\n    return null;\n  return getFromQueryString(window.location.search.substr(1), search);\n};\nconst getLocaleFromHash = (hash) => {\n  if (typeof window === \"undefined\")\n    return null;\n  return getFromQueryString(window.location.hash.substr(1), hash);\n};\n\nconst monadicMemoize = (fn) => {\n  const cache = /* @__PURE__ */ Object.create(null);\n  const memoizedFn = (arg) => {\n    const cacheKey = JSON.stringify(arg);\n    if (cacheKey in cache) {\n      return cache[cacheKey];\n    }\n    return cache[cacheKey] = fn(arg);\n  };\n  return memoizedFn;\n};\n\nvar __defProp = Object.defineProperty;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __objRest = (source, exclude) => {\n  var target = {};\n  for (var prop in source)\n    if (__hasOwnProp.call(source, prop) && exclude.indexOf(prop) < 0)\n      target[prop] = source[prop];\n  if (source != null && __getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(source)) {\n      if (exclude.indexOf(prop) < 0 && __propIsEnum.call(source, prop))\n        target[prop] = source[prop];\n    }\n  return target;\n};\nconst getIntlFormatterOptions = (type, name) => {\n  const { formats } = getOptions();\n  if (type in formats && name in formats[type]) {\n    return formats[type][name];\n  }\n  throw new Error(`[svelte-i18n] Unknown \"${name}\" ${type} format.`);\n};\nconst createNumberFormatter = monadicMemoize(\n  (_a) => {\n    var _b = _a, { locale, format } = _b, options = __objRest(_b, [\"locale\", \"format\"]);\n    if (locale == null) {\n      throw new Error('[svelte-i18n] A \"locale\" must be set to format numbers');\n    }\n    if (format) {\n      options = getIntlFormatterOptions(\"number\", format);\n    }\n    return new Intl.NumberFormat(locale, options);\n  }\n);\nconst createDateFormatter = monadicMemoize(\n  (_c) => {\n    var _d = _c, { locale, format } = _d, options = __objRest(_d, [\"locale\", \"format\"]);\n    if (locale == null) {\n      throw new Error('[svelte-i18n] A \"locale\" must be set to format dates');\n    }\n    if (format) {\n      options = getIntlFormatterOptions(\"date\", format);\n    } else if (Object.keys(options).length === 0) {\n      options = getIntlFormatterOptions(\"date\", \"short\");\n    }\n    return new Intl.DateTimeFormat(locale, options);\n  }\n);\nconst createTimeFormatter = monadicMemoize(\n  (_e) => {\n    var _f = _e, { locale, format } = _f, options = __objRest(_f, [\"locale\", \"format\"]);\n    if (locale == null) {\n      throw new Error(\n        '[svelte-i18n] A \"locale\" must be set to format time values'\n      );\n    }\n    if (format) {\n      options = getIntlFormatterOptions(\"time\", format);\n    } else if (Object.keys(options).length === 0) {\n      options = getIntlFormatterOptions(\"time\", \"short\");\n    }\n    return new Intl.DateTimeFormat(locale, options);\n  }\n);\nconst getNumberFormatter = (_g = {}) => {\n  var _h = _g, {\n    locale = getCurrentLocale()\n  } = _h, args = __objRest(_h, [\n    \"locale\"\n  ]);\n  return createNumberFormatter(__spreadValues({ locale }, args));\n};\nconst getDateFormatter = (_i = {}) => {\n  var _j = _i, {\n    locale = getCurrentLocale()\n  } = _j, args = __objRest(_j, [\n    \"locale\"\n  ]);\n  return createDateFormatter(__spreadValues({ locale }, args));\n};\nconst getTimeFormatter = (_k = {}) => {\n  var _l = _k, {\n    locale = getCurrentLocale()\n  } = _l, args = __objRest(_l, [\n    \"locale\"\n  ]);\n  return createTimeFormatter(__spreadValues({ locale }, args));\n};\nconst getMessageFormatter = monadicMemoize(\n  // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n  (message, locale = getCurrentLocale()) => new IntlMessageFormat(message, locale, getOptions().formats, {\n    ignoreTag: getOptions().ignoreTag\n  })\n);\n\nconst formatMessage = (id, options = {}) => {\n  var _a, _b, _c, _d;\n  let messageObj = options;\n  if (typeof id === \"object\") {\n    messageObj = id;\n    id = messageObj.id;\n  }\n  const {\n    values,\n    locale = getCurrentLocale(),\n    default: defaultValue\n  } = messageObj;\n  if (locale == null) {\n    throw new Error(\n      \"[svelte-i18n] Cannot format a message without first setting the initial locale.\"\n    );\n  }\n  let message = lookup(id, locale);\n  if (!message) {\n    message = (_d = (_c = (_b = (_a = getOptions()).handleMissingMessage) == null ? void 0 : _b.call(_a, { locale, id, defaultValue })) != null ? _c : defaultValue) != null ? _d : id;\n  } else if (typeof message !== \"string\") {\n    console.warn(\n      `[svelte-i18n] Message with id \"${id}\" must be of type \"string\", found: \"${typeof message}\". Gettin its value through the \"$format\" method is deprecated; use the \"json\" method instead.`\n    );\n    return message;\n  }\n  if (!values) {\n    return message;\n  }\n  let result = message;\n  try {\n    result = getMessageFormatter(message, locale).format(values);\n  } catch (e) {\n    if (e instanceof Error) {\n      console.warn(\n        `[svelte-i18n] Message \"${id}\" has syntax error:`,\n        e.message\n      );\n    }\n  }\n  return result;\n};\nconst formatTime = (t, options) => {\n  return getTimeFormatter(options).format(t);\n};\nconst formatDate = (d, options) => {\n  return getDateFormatter(options).format(d);\n};\nconst formatNumber = (n, options) => {\n  return getNumberFormatter(options).format(n);\n};\nconst getJSON = (id, locale = getCurrentLocale()) => {\n  return lookup(id, locale);\n};\nconst $format = derived([$locale, $dictionary], () => formatMessage);\nconst $formatTime = derived([$locale], () => formatTime);\nconst $formatDate = derived([$locale], () => formatDate);\nconst $formatNumber = derived([$locale], () => formatNumber);\nconst $getJSON = derived([$locale, $dictionary], () => getJSON);\n\nfunction unwrapFunctionStore(store) {\n  let localReference;\n  const cancel = store.subscribe((value) => localReference = value);\n  const fn = (...args) => localReference(...args);\n  fn.freeze = cancel;\n  return fn;\n}\n\nfunction defineMessages(i) {\n  return i;\n}\nfunction waitLocale(locale) {\n  return flush(locale || getCurrentLocale() || getOptions().initialLocale);\n}\n\nexport { $format as _, addMessages, $formatDate as date, defineMessages, $dictionary as dictionary, $format as format, getDateFormatter, getLocaleFromHash, getLocaleFromHostname, getLocaleFromNavigator, getLocaleFromPathname, getLocaleFromQueryString, getMessageFormatter, getNumberFormatter, getTimeFormatter, init, $isLoading as isLoading, $getJSON as json, $locale as locale, $locales as locales, $formatNumber as number, registerLocaleLoader as register, $format as t, $formatTime as time, unwrapFunctionStore, waitLocale };\n","<script lang=\"ts\">\n\timport { getContext } from \"svelte\";\n\timport space_logo from \"./images/spaces.svg\";\n\timport { _ } from \"svelte-i18n\";\n\texport let wrapper: HTMLDivElement;\n\texport let version: string;\n\texport let initial_height: string;\n\texport let fill_width: boolean;\n\texport let is_embed: boolean;\n\texport let is_lite: boolean;\n\n\texport let space: string | null;\n\texport let display: boolean;\n\texport let info: boolean;\n\texport let loaded: boolean;\n\texport let pages: [string, string][] = [];\n\texport let current_page = \"\";\n\texport let root: string;\n\n\tconst set_page: ((page: string) => void) | undefined =\n\t\tgetContext(\"set_lite_page\");\n</script>\n\n<div\n\tbind:this={wrapper}\n\tclass:fill_width\n\tclass:embed-container={display}\n\tclass:with-info={info}\n\tclass=\"gradio-container gradio-container-{version}\"\n\tstyle:min-height={loaded ? \"initial\" : initial_height}\n\tstyle:flex-grow={!display ? \"1\" : \"auto\"}\n\tdata-iframe-height\n>\n\t{#if pages.length > 1}\n\t\t<div class=\"nav-holder\">\n\t\t\t<nav class=\"fillable\" class:fill_width>\n\t\t\t\t{#each pages as [route, label], i}\n\t\t\t\t\t{#if is_lite}\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tclass:active={route === current_page}\n\t\t\t\t\t\t\ton:click={(e) => {\n\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\tset_page?.(route);\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>{label}\n\t\t\t\t\t\t</button>\n\t\t\t\t\t{:else}\n\t\t\t\t\t\t<a\n\t\t\t\t\t\t\thref={`${root}/${route}`}\n\t\t\t\t\t\t\tclass:active={route === current_page}\n\t\t\t\t\t\t\tdata-sveltekit-reload\n\t\t\t\t\t\t\t>{label}\n\t\t\t\t\t\t</a>\n\t\t\t\t\t{/if}\n\t\t\t\t{/each}\n\t\t\t</nav>\n\t\t</div>\n\t{/if}\n\t<main class=\"fillable\" class:fill_width class:app={!display && !is_embed}>\n\t\t<slot />\n\t\t<div>\n\t\t\t{#if display && space && info}\n\t\t\t\t<div class=\"info\">\n\t\t\t\t\t<span>\n\t\t\t\t\t\t<a href=\"https://huggingface.co/spaces/{space}\" class=\"title\"\n\t\t\t\t\t\t\t>{space}</a\n\t\t\t\t\t\t>\n\t\t\t\t\t</span>\n\t\t\t\t\t<span>\n\t\t\t\t\t\t{$_(\"common.built_with\")}\n\t\t\t\t\t\t<a class=\"gradio\" href=\"https://gradio.app\">Gradio</a>.\n\t\t\t\t\t</span>\n\t\t\t\t\t<span>\n\t\t\t\t\t\t{$_(\"common.hosted_on\")}\n\t\t\t\t\t\t<a class=\"hf\" href=\"https://huggingface.co/spaces\"\n\t\t\t\t\t\t\t><span class=\"space-logo\">\n\t\t\t\t\t\t\t\t<img src={space_logo} alt=\"Hugging Face Space\" />\n\t\t\t\t\t\t\t</span> Spaces</a\n\t\t\t\t\t\t>\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t{/if}\n\t\t</div>\n\t</main>\n</div>\n\n<style>\n\t.nav-holder {\n\t\tpadding: var(--size-2) 0;\n\t\tborder-bottom: solid 1px var(--border-color-primary);\n\t}\n\tnav {\n\t\tdisplay: flex;\n\t\tflex-wrap: wrap;\n\t\tgap: var(--size-2);\n\t\tjustify-content: flex-end;\n\t\tmargin: 0 auto;\n\t\tpadding: 0 var(--size-8);\n\t}\n\tnav a,\n\tbutton {\n\t\tpadding: var(--size-1) var(--size-2);\n\t\tborder-radius: var(--block-radius);\n\t\tborder-width: var(--block-border-width);\n\t\tborder-color: transparent;\n\t\tcolor: var(--body-text-color-subdued);\n\t}\n\tnav a.active,\n\tbutton.active {\n\t\tcolor: var(--body-text-color);\n\t\tborder-color: var(--block-border-color);\n\t\tbackground-color: var(--block-background-fill);\n\t}\n\t.gradio-container {\n\t\tdisplay: flex;\n\t\tposition: relative;\n\t\tflex-direction: column;\n\t\tpadding: 0;\n\t\tmin-height: 1px;\n\t\toverflow: hidden;\n\t\tcolor: var(--button-secondary-text-color);\n\t}\n\n\t.embed-container {\n\t\tmargin: var(--size-4) 0px;\n\t\tborder: 1px solid var(--button-secondary-border-color);\n\t\tborder-radius: var(--embed-radius);\n\t}\n\n\t.with-info {\n\t\tpadding-bottom: var(--size-7);\n\t}\n\n\t.embed-container > main {\n\t\tpadding: var(--size-4);\n\t}\n\n\tmain {\n\t\tdisplay: flex;\n\t\tflex-grow: 1;\n\t\tflex-direction: column;\n\t}\n\n\t.app {\n\t\tposition: relative;\n\t\tmargin: auto;\n\t\tpadding: var(--size-4) var(--size-8);\n\t\twidth: 100%;\n\t\theight: 100%;\n\t}\n\n\t@media (--screen-sm) {\n\t\t.fillable:not(.fill_width) {\n\t\t\tmax-width: 640px;\n\t\t}\n\t}\n\t@media (--screen-md) {\n\t\t.fillable:not(.fill_width) {\n\t\t\tmax-width: 768px;\n\t\t}\n\t}\n\t@media (--screen-lg) {\n\t\t.fillable:not(.fill_width) {\n\t\t\tmax-width: 1024px;\n\t\t}\n\t}\n\t@media (--screen-xl) {\n\t\t.fillable:not(.fill_width) {\n\t\t\tmax-width: 1280px;\n\t\t}\n\t}\n\t@media (--screen-xxl) {\n\t\t.fillable:not(.fill_width) {\n\t\t\tmax-width: 1536px;\n\t\t}\n\t}\n\t@media (--screen-xxxl) {\n\t\t.fillable:not(.fill_width) {\n\t\t\tmax-width: 1920px;\n\t\t}\n\t}\n\n\t.info {\n\t\tdisplay: flex;\n\t\tposition: absolute;\n\t\tbottom: 0;\n\t\tjustify-content: flex-start;\n\t\tborder-top: 1px solid var(--button-secondary-border-color);\n\t\tpadding: var(--size-1) var(--size-5);\n\t\twidth: 100%;\n\t\tcolor: var(--body-text-color-subdued);\n\t\tfont-size: var(--text-md);\n\t\twhite-space: nowrap;\n\t}\n\n\t.info > span {\n\t\tword-wrap: break-word;\n\t\t-break: keep-all;\n\t\tdisplay: block;\n\t\tword-break: keep-all;\n\t}\n\n\t.info > span:nth-child(1) {\n\t\tmargin-right: 4px;\n\t\tmin-width: 0px;\n\t\tmax-width: max-content;\n\t\toverflow: hidden;\n\t\tcolor: var(--body-text-color);\n\t\ttext-overflow: ellipsis;\n\t\twhite-space: nowrap;\n\t}\n\n\t.info > span:nth-child(2) {\n\t\tmargin-right: 3px;\n\t}\n\n\t.info > span:nth-child(2),\n\t.info > span:nth-child(3) {\n\t\twidth: max-content;\n\t}\n\n\t.info > span:nth-child(3) {\n\t\talign-self: flex-end;\n\t\tjustify-self: flex-end;\n\t\tmargin-left: auto;\n\t\ttext-align: right;\n\t}\n\n\t.info > span:nth-child(1) {\n\t\tflex-shrink: 9;\n\t}\n\n\t.hidden-title {\n\t\tposition: absolute;\n\t\tleft: var(--size-5);\n\t\topacity: 0;\n\t\tbackground: var(--button-secondary-background-fill);\n\t\tpadding-right: 4px;\n\t}\n\n\t.info a {\n\t\tcolor: var(--body-text-color);\n\t}\n\n\t.title {\n\t\tfont-size: var(--text-sm);\n\t\tfont-family: var(--font-mono);\n\t}\n\n\t.hf {\n\t\tmargin-left: 5px;\n\t}\n\n\t.space-logo img {\n\t\tdisplay: inline-block;\n\t\tmargin-bottom: 4px;\n\t\theight: 12px;\n\t}\n\n\tmain a:hover {\n\t\ttext-decoration: underline;\n\t}\n</style>\n","let supports_adopted_stylesheets = false;\n\nif (\n\ttypeof window !== \"undefined\" &&\n\t\"attachShadow\" in Element.prototype &&\n\t\"adoptedStyleSheets\" in Document.prototype\n) {\n\t// Both Shadow DOM and adoptedStyleSheets are supported\n\tconst shadow_root_test = document\n\t\t.createElement(\"div\")\n\t\t.attachShadow({ mode: \"open\" });\n\tsupports_adopted_stylesheets = \"adoptedStyleSheets\" in shadow_root_test;\n}\n\nexport function mount_css(url: string, target: HTMLElement): Promise<void> {\n\tconst base = new URL(import.meta.url).origin;\n\tvar _url = url;\n\tif (window.location.origin !== base) {\n\t\t// Serving assets over a CDN, generate absolute url\n\t\t_url = new URL(url, base).href;\n\t}\n\tconst existing_link = document.querySelector(`link[href='${_url}']`);\n\tif (existing_link) return Promise.resolve();\n\n\tconst link = document.createElement(\"link\");\n\tlink.rel = \"stylesheet\";\n\tlink.href = _url;\n\n\treturn new Promise((res, rej) => {\n\t\tlink.addEventListener(\"load\", () => res());\n\t\tlink.addEventListener(\"error\", () => {\n\t\t\tconsole.error(`Unable to preload CSS for ${_url}`);\n\t\t\tres();\n\t\t});\n\t\ttarget.appendChild(link);\n\t});\n}\n\nexport function prefix_css(\n\tstring: string,\n\tversion: string,\n\tstyle_element?: HTMLStyleElement\n): string | null {\n\tif (!supports_adopted_stylesheets) return string;\n\tif (!style_element) {\n\t\tstyle_element = document.createElement(\"style\");\n\t}\n\tstyle_element.remove();\n\n\tconst stylesheet = new CSSStyleSheet();\n\tstylesheet.replaceSync(string);\n\n\tlet importString = \"\";\n\tstring = string.replace(/@import\\s+url\\((.*?)\\);\\s*/g, (match, url) => {\n\t\timportString += `@import url(${url});\\n`;\n\t\treturn \"\"; // remove and store any @import statements from the CSS\n\t});\n\n\tconst rules = stylesheet.cssRules;\n\n\tlet css_string = \"\";\n\tlet gradio_css_infix = `.gradio-container.gradio-container-${version} .contain `;\n\n\tfor (let i = 0; i < rules.length; i++) {\n\t\tconst rule = rules[i];\n\n\t\tlet is_dark_rule = rule.cssText.includes(\".dark\");\n\t\tif (rule instanceof CSSStyleRule) {\n\t\t\tconst selector = rule.selectorText;\n\t\t\tif (selector) {\n\t\t\t\tconst new_selector = selector\n\t\t\t\t\t.replace(\".dark\", \"\")\n\t\t\t\t\t.split(\",\")\n\t\t\t\t\t.map(\n\t\t\t\t\t\t(s) =>\n\t\t\t\t\t\t\t`${is_dark_rule ? \".dark\" : \"\"} ${gradio_css_infix} ${s.trim()} `\n\t\t\t\t\t)\n\t\t\t\t\t.join(\",\");\n\n\t\t\t\tcss_string += rule.cssText;\n\t\t\t\tcss_string += rule.cssText.replace(selector, new_selector);\n\t\t\t}\n\t\t} else if (rule instanceof CSSMediaRule) {\n\t\t\tlet mediaCssString = `@media ${rule.media.mediaText} {`;\n\t\t\tfor (let j = 0; j < rule.cssRules.length; j++) {\n\t\t\t\tconst innerRule = rule.cssRules[j];\n\t\t\t\tif (innerRule instanceof CSSStyleRule) {\n\t\t\t\t\tlet is_dark_rule = innerRule.cssText.includes(\".dark \");\n\t\t\t\t\tconst selector = innerRule.selectorText;\n\t\t\t\t\tconst new_selector = selector\n\t\t\t\t\t\t.replace(\".dark\", \"\")\n\t\t\t\t\t\t.split(\",\")\n\t\t\t\t\t\t.map(\n\t\t\t\t\t\t\t(s) =>\n\t\t\t\t\t\t\t\t`${\n\t\t\t\t\t\t\t\t\tis_dark_rule ? \".dark\" : \"\"\n\t\t\t\t\t\t\t\t} ${gradio_css_infix} ${s.trim()} `\n\t\t\t\t\t\t)\n\t\t\t\t\t\t.join(\",\");\n\t\t\t\t\tmediaCssString += innerRule.cssText.replace(selector, new_selector);\n\t\t\t\t}\n\t\t\t}\n\t\t\tmediaCssString += \"}\";\n\t\t\tcss_string += mediaCssString;\n\t\t} else if (rule instanceof CSSKeyframesRule) {\n\t\t\tcss_string += `@keyframes ${rule.name} {`;\n\t\t\tfor (let j = 0; j < rule.cssRules.length; j++) {\n\t\t\t\tconst innerRule = rule.cssRules[j];\n\t\t\t\tif (innerRule instanceof CSSKeyframeRule) {\n\t\t\t\t\tcss_string += `${innerRule.keyText} { ${innerRule.style.cssText} }`;\n\t\t\t\t}\n\t\t\t}\n\t\t\tcss_string += \"}\";\n\t\t} else if (rule instanceof CSSFontFaceRule) {\n\t\t\tcss_string += `@font-face { ${rule.style.cssText} }`;\n\t\t}\n\t}\n\treturn importString + css_string;\n}\n","var has = Object.prototype.hasOwnProperty;\n\nfunction find(iter, tar, key) {\n\tfor (key of iter.keys()) {\n\t\tif (dequal(key, tar)) return key;\n\t}\n}\n\nexport function dequal(foo, bar) {\n\tvar ctor, len, tmp;\n\tif (foo === bar) return true;\n\n\tif (foo && bar && (ctor=foo.constructor) === bar.constructor) {\n\t\tif (ctor === Date) return foo.getTime() === bar.getTime();\n\t\tif (ctor === RegExp) return foo.toString() === bar.toString();\n\n\t\tif (ctor === Array) {\n\t\t\tif ((len=foo.length) === bar.length) {\n\t\t\t\twhile (len-- && dequal(foo[len], bar[len]));\n\t\t\t}\n\t\t\treturn len === -1;\n\t\t}\n\n\t\tif (ctor === Set) {\n\t\t\tif (foo.size !== bar.size) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tfor (len of foo) {\n\t\t\t\ttmp = len;\n\t\t\t\tif (tmp && typeof tmp === 'object') {\n\t\t\t\t\ttmp = find(bar, tmp);\n\t\t\t\t\tif (!tmp) return false;\n\t\t\t\t}\n\t\t\t\tif (!bar.has(tmp)) return false;\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\n\t\tif (ctor === Map) {\n\t\t\tif (foo.size !== bar.size) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tfor (len of foo) {\n\t\t\t\ttmp = len[0];\n\t\t\t\tif (tmp && typeof tmp === 'object') {\n\t\t\t\t\ttmp = find(bar, tmp);\n\t\t\t\t\tif (!tmp) return false;\n\t\t\t\t}\n\t\t\t\tif (!dequal(len[1], bar.get(tmp))) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\n\t\tif (ctor === ArrayBuffer) {\n\t\t\tfoo = new Uint8Array(foo);\n\t\t\tbar = new Uint8Array(bar);\n\t\t} else if (ctor === DataView) {\n\t\t\tif ((len=foo.byteLength) === bar.byteLength) {\n\t\t\t\twhile (len-- && foo.getInt8(len) === bar.getInt8(len));\n\t\t\t}\n\t\t\treturn len === -1;\n\t\t}\n\n\t\tif (ArrayBuffer.isView(foo)) {\n\t\t\tif ((len=foo.byteLength) === bar.byteLength) {\n\t\t\t\twhile (len-- && foo[len] === bar[len]);\n\t\t\t}\n\t\t\treturn len === -1;\n\t\t}\n\n\t\tif (!ctor || typeof foo === 'object') {\n\t\t\tlen = 0;\n\t\t\tfor (ctor in foo) {\n\t\t\t\tif (has.call(foo, ctor) && ++len && !has.call(bar, ctor)) return false;\n\t\t\t\tif (!(ctor in bar) || !dequal(foo[ctor], bar[ctor])) return false;\n\t\t\t}\n\t\t\treturn Object.keys(bar).length === len;\n\t\t}\n\t}\n\n\treturn foo !== foo && bar !== bar;\n}\n","import { type Writable, writable, get } from \"svelte/store\";\n\nexport interface LoadingStatus {\n\teta: number | null;\n\tstatus: \"pending\" | \"error\" | \"complete\" | \"generating\" | \"streaming\";\n\tqueue: boolean;\n\tqueue_position: number | null;\n\tqueue_size?: number;\n\tfn_index: number;\n\tmessage?: string | null;\n\tscroll_to_output?: boolean;\n\tshow_progress?: \"full\" | \"minimal\" | \"hidden\";\n\ttime_limit?: number | null | undefined;\n\tprogress?: {\n\t\tprogress: number | null;\n\t\tindex: number | null;\n\t\tlength: number | null;\n\t\tunit: string | null;\n\t\tdesc: string | null;\n\t}[];\n}\n\nexport type LoadingStatusCollection = Record<number, LoadingStatus>;\n\ninterface LoadingStatusStore {\n\tupdate: (status: LoadingStatus) => void;\n\tsubscribe: Writable<LoadingStatusCollection>[\"subscribe\"];\n\tregister: (index: number, inputs: number[], outputs: number[]) => void;\n\tget_status_for_fn: (i: number) => LoadingStatus[\"status\"];\n\tget_inputs_to_update: () => Map<number, string>;\n}\n\nexport function create_loading_status_store(): LoadingStatusStore {\n\tconst store = writable<LoadingStatusCollection>({});\n\n\tconst fn_inputs: Record<number, number[]> = {};\n\tconst fn_outputs: Record<number, number[]> = {};\n\tconst pending_outputs = new Map<number, number>();\n\tconst pending_inputs = new Map<number, number>();\n\n\tconst inputs_to_update = new Map<number, string>();\n\tconst fn_status: Record<number, LoadingStatus[\"status\"]> = {};\n\n\tfunction update({\n\t\tfn_index,\n\t\tstatus,\n\t\tqueue = true,\n\t\tsize,\n\t\tposition = null,\n\t\teta = null,\n\t\tmessage = null,\n\t\tprogress,\n\t\ttime_limit = null\n\t}: {\n\t\tfn_index: LoadingStatus[\"fn_index\"];\n\t\tstatus: LoadingStatus[\"status\"];\n\t\tqueue?: LoadingStatus[\"queue\"];\n\t\tsize?: LoadingStatus[\"queue_size\"];\n\t\tposition?: LoadingStatus[\"queue_position\"];\n\t\teta?: LoadingStatus[\"eta\"];\n\t\tmessage?: LoadingStatus[\"message\"];\n\t\tprogress?: LoadingStatus[\"progress\"];\n\t\ttime_limit?: LoadingStatus[\"time_limit\"];\n\t}): void {\n\t\tconst outputs = fn_outputs[fn_index];\n\t\tconst inputs = fn_inputs[fn_index];\n\t\tconst last_status = fn_status[fn_index];\n\n\t\tconst outputs_to_update = outputs.map((id) => {\n\t\t\tlet new_status: LoadingStatus[\"status\"];\n\n\t\t\tconst pending_count = pending_outputs.get(id) || 0;\n\n\t\t\t// from (pending -> error) | complete - decrement pending count\n\t\t\tif (last_status === \"pending\" && status !== \"pending\") {\n\t\t\t\tlet new_count = pending_count - 1;\n\n\t\t\t\tpending_outputs.set(id, new_count < 0 ? 0 : new_count);\n\n\t\t\t\tnew_status = new_count > 0 ? \"pending\" : status;\n\n\t\t\t\t// from pending -> pending - do nothing\n\t\t\t} else if (last_status === \"pending\" && status === \"pending\") {\n\t\t\t\tnew_status = \"pending\";\n\n\t\t\t\t// (error | complete) -> pending - - increment pending count\n\t\t\t} else if (last_status !== \"pending\" && status === \"pending\") {\n\t\t\t\tnew_status = \"pending\";\n\t\t\t\tpending_outputs.set(id, pending_count + 1);\n\t\t\t} else {\n\t\t\t\tnew_status = status;\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tid,\n\t\t\t\tqueue_position: position,\n\t\t\t\tqueue_size: size,\n\t\t\t\teta: eta,\n\t\t\t\tstatus: new_status,\n\t\t\t\tmessage: message,\n\t\t\t\tprogress: progress\n\t\t\t};\n\t\t});\n\n\t\tinputs.forEach((id) => {\n\t\t\tconst pending_count = pending_inputs.get(id) || 0;\n\n\t\t\t// from (pending -> error) | complete - decrement pending count\n\t\t\tif (last_status === \"pending\" && status !== \"pending\") {\n\t\t\t\tlet new_count = pending_count - 1;\n\t\t\t\tpending_inputs.set(id, new_count < 0 ? 0 : new_count);\n\t\t\t\tinputs_to_update.set(id, status);\n\t\t\t} else if (last_status !== \"pending\" && status === \"pending\") {\n\t\t\t\tpending_inputs.set(id, pending_count + 1);\n\t\t\t\tinputs_to_update.set(id, status);\n\t\t\t} else {\n\t\t\t\tinputs_to_update.delete(id);\n\t\t\t}\n\t\t});\n\n\t\tstore.update((outputs: LoadingStatusCollection) => {\n\t\t\toutputs_to_update.forEach(\n\t\t\t\t({\n\t\t\t\t\tid,\n\t\t\t\t\tqueue_position,\n\t\t\t\t\tqueue_size,\n\t\t\t\t\teta,\n\t\t\t\t\tstatus,\n\t\t\t\t\tmessage,\n\t\t\t\t\tprogress\n\t\t\t\t}) => {\n\t\t\t\t\toutputs[id] = {\n\t\t\t\t\t\tqueue: queue,\n\t\t\t\t\t\tqueue_size: queue_size,\n\t\t\t\t\t\tqueue_position: queue_position,\n\t\t\t\t\t\teta: eta,\n\t\t\t\t\t\tmessage: message,\n\t\t\t\t\t\tprogress,\n\t\t\t\t\t\tstatus,\n\t\t\t\t\t\tfn_index\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t);\n\n\t\t\treturn outputs;\n\t\t});\n\t\tfn_status[fn_index] = status;\n\t}\n\n\tfunction register(index: number, inputs: number[], outputs: number[]): void {\n\t\tfn_inputs[index] = inputs;\n\t\tfn_outputs[index] = outputs;\n\t}\n\n\treturn {\n\t\tupdate,\n\t\tregister,\n\t\tsubscribe: store.subscribe,\n\t\tget_status_for_fn(i: number) {\n\t\t\treturn fn_status[i];\n\t\t},\n\t\tget_inputs_to_update() {\n\t\t\treturn inputs_to_update;\n\t\t}\n\t};\n}\n\nexport type LoadingStatusType = ReturnType<typeof create_loading_status_store>;\n","import { writable, type Writable, get } from \"svelte/store\";\nimport { dequal } from \"dequal\";\n\nimport type {\n\tComponentMeta,\n\tDependency,\n\tLayoutNode,\n\tTargetMap,\n\tLoadingComponent\n} from \"./types\";\nimport { load_component } from \"virtual:component-loader\";\nimport type { client_return } from \"@gradio/client\";\nimport { create_loading_status_store } from \"./stores\";\nimport { _ } from \"svelte-i18n\";\n\nexport interface UpdateTransaction {\n\tid: number;\n\tvalue: any;\n\tprop: string;\n}\n\nlet pending_updates: UpdateTransaction[][] = [];\nconst is_browser = typeof window !== \"undefined\";\nconst raf = is_browser\n\t? requestAnimationFrame\n\t: async (fn: () => Promise<void> | void) => await fn();\n\n/**\n * Create a store with the layout and a map of targets\n * @returns A store with the layout and a map of targets\n */\nexport function create_components(\n\t{\n\t\tinitial_layout = undefined\n\t}: {\n\t\tinitial_layout: ComponentMeta | undefined;\n\t} = {\n\t\tinitial_layout: undefined\n\t}\n): {\n\tlayout: Writable<ComponentMeta>;\n\ttargets: Writable<TargetMap>;\n\tupdate_value: (updates: UpdateTransaction[]) => void;\n\tget_data: (id: number) => any | Promise<any>;\n\tmodify_stream: (id: number, state: \"open\" | \"waiting\" | \"closed\") => void;\n\tget_stream_state: (id: number) => \"open\" | \"waiting\" | \"closed\" | \"not_set\";\n\tset_time_limit: (id: number, time_limit: number | undefined) => void;\n\tloading_status: ReturnType<typeof create_loading_status_store>;\n\tscheduled_updates: Writable<boolean>;\n\tcreate_layout: (args: {\n\t\tapp: client_return;\n\t\tcomponents: ComponentMeta[];\n\t\tlayout: LayoutNode;\n\t\tdependencies: Dependency[];\n\t\troot: string;\n\t\toptions: {\n\t\t\tfill_height: boolean;\n\t\t};\n\t}) => Promise<void>;\n\trerender_layout: (args: {\n\t\trender_id: number;\n\t\tcomponents: ComponentMeta[];\n\t\tlayout: LayoutNode;\n\t\troot: string;\n\t\tdependencies: Dependency[];\n\t}) => void;\n\tvalue_change: (cb: (id: number, value: any) => void) => void;\n} {\n\tlet _component_map: Map<number, ComponentMeta>;\n\n\tlet target_map: Writable<TargetMap> = writable({});\n\tlet _target_map: TargetMap = {};\n\tlet inputs: Set<number>;\n\tlet outputs: Set<number>;\n\tlet constructor_map: Map<ComponentMeta[\"type\"], LoadingComponent>;\n\tlet instance_map: { [id: number]: ComponentMeta };\n\tlet loading_status: ReturnType<typeof create_loading_status_store> =\n\t\tcreate_loading_status_store();\n\tconst layout_store: Writable<ComponentMeta> = writable(initial_layout);\n\tlet _components: ComponentMeta[] = [];\n\tlet app: client_return;\n\tlet keys_per_render_id: Record<number, (string | number)[]> = {};\n\tlet _rootNode: ComponentMeta;\n\n\tlet value_change_cb: ((id: number, value: any) => void) | null = null;\n\n\tfunction value_change(cb: (id: number, value: any) => void): void {\n\t\tvalue_change_cb = cb;\n\t}\n\n\t// Store current layout and root for dynamic visibility recalculation\n\tlet current_layout: LayoutNode;\n\tlet current_root: string;\n\n\tfunction set_event_specific_args(dependencies: Dependency[]): void {\n\t\tdependencies.forEach((dep) => {\n\t\t\tdep.targets.forEach((target) => {\n\t\t\t\tconst instance = instance_map[target[0]];\n\t\t\t\tif (instance && dep.event_specific_args?.length > 0) {\n\t\t\t\t\tdep.event_specific_args?.forEach((arg: string) => {\n\t\t\t\t\t\tinstance.props[arg] = dep[arg as keyof Dependency];\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t}\n\n\tasync function create_layout({\n\t\tapp: _app,\n\t\tcomponents,\n\t\tlayout,\n\t\tdependencies,\n\t\troot,\n\t\toptions\n\t}: {\n\t\tapp: client_return;\n\t\tcomponents: ComponentMeta[];\n\t\tlayout: LayoutNode;\n\t\tdependencies: Dependency[];\n\t\troot: string;\n\t\toptions: {\n\t\t\tfill_height: boolean;\n\t\t};\n\t}): Promise<void> {\n\t\t// make sure the state is settled before proceeding\n\t\tflush();\n\t\tapp = _app;\n\n\t\tif (instance_map) {\n\t\t\t// re-render in reload mode\n\t\t\tcomponents.forEach((c) => {\n\t\t\t\tif (c.props.value == null && c.key) {\n\t\t\t\t\t// If the component has a key, we preserve its value by finding a matching instance with the same key\n\t\t\t\t\tconst matching_instance = Object.values(instance_map).find(\n\t\t\t\t\t\t(instance) => instance.key === c.key\n\t\t\t\t\t);\n\t\t\t\t\tif (matching_instance) {\n\t\t\t\t\t\tc.props.value = matching_instance.props.value;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\t_components = components;\n\t\tinputs = new Set();\n\t\toutputs = new Set();\n\t\tpending_updates = [];\n\t\tconstructor_map = new Map();\n\t\t_component_map = new Map();\n\t\tinstance_map = {};\n\n\t\t// Store current layout and root for dynamic visibility recalculation\n\t\tcurrent_layout = layout;\n\t\tcurrent_root = root;\n\n\t\t_rootNode = {\n\t\t\tid: layout.id,\n\t\t\ttype: \"column\",\n\t\t\tprops: { interactive: false, scale: options.fill_height ? 1 : null },\n\t\t\thas_modes: false,\n\t\t\tinstance: null as unknown as ComponentMeta[\"instance\"],\n\t\t\tcomponent: null as unknown as ComponentMeta[\"component\"],\n\t\t\tcomponent_class_id: \"\",\n\t\t\tkey: null\n\t\t};\n\n\t\tcomponents.push(_rootNode);\n\n\t\tdependencies.forEach((dep) => {\n\t\t\tloading_status.register(\n\t\t\t\tdep.id,\n\t\t\t\tdep.inputs,\n\t\t\t\tdep.show_progress_on || dep.outputs\n\t\t\t);\n\t\t\tdep.frontend_fn = process_frontend_fn(\n\t\t\t\tdep.js,\n\t\t\t\t!!dep.backend_fn,\n\t\t\t\tdep.inputs.length,\n\t\t\t\tdep.outputs.length\n\t\t\t);\n\t\t\tcreate_target_meta(dep.targets, dep.id, _target_map);\n\t\t\tget_inputs_outputs(dep, inputs, outputs);\n\t\t});\n\n\t\ttarget_map.set(_target_map);\n\n\t\tconstructor_map = preload_visible_components(components, layout, root);\n\n\t\tinstance_map = components.reduce(\n\t\t\t(acc, c) => {\n\t\t\t\tacc[c.id] = c;\n\t\t\t\treturn acc;\n\t\t\t},\n\t\t\t{} as { [id: number]: ComponentMeta }\n\t\t);\n\n\t\tawait walk_layout(layout, root, _components);\n\n\t\tlayout_store.set(_rootNode);\n\t\tset_event_specific_args(dependencies);\n\t}\n\n\t/**\n\t * Rerender the layout when the config has been modified to attach new components\n\t */\n\tfunction rerender_layout({\n\t\trender_id,\n\t\tcomponents,\n\t\tlayout,\n\t\troot,\n\t\tdependencies\n\t}: {\n\t\trender_id: number;\n\t\tcomponents: ComponentMeta[];\n\t\tlayout: LayoutNode;\n\t\troot: string;\n\t\tdependencies: Dependency[];\n\t}): void {\n\t\t// Update current layout and root for dynamic visibility recalculation\n\t\tcurrent_layout = layout;\n\t\tcurrent_root = root;\n\n\t\tcomponents.forEach((c) => {\n\t\t\tfor (const prop in c.props) {\n\t\t\t\tif (c.props[prop] === null) {\n\t\t\t\t\tc.props[prop] = undefined;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\tlet replacement_components: ComponentMeta[] = [];\n\t\tlet new_components: ComponentMeta[] = [];\n\t\tcomponents.forEach((c) => {\n\t\t\tif (c.key == null || !keys_per_render_id[render_id]?.includes(c.key)) {\n\t\t\t\tnew_components.push(c);\n\t\t\t} else {\n\t\t\t\treplacement_components.push(c);\n\t\t\t}\n\t\t});\n\t\tlet _constructor_map = preload_visible_components(\n\t\t\tnew_components,\n\t\t\tlayout,\n\t\t\troot\n\t\t);\n\t\t_constructor_map.forEach((v, k) => {\n\t\t\tconstructor_map.set(k, v);\n\t\t});\n\n\t\t_target_map = {};\n\n\t\tdependencies.forEach((dep) => {\n\t\t\tloading_status.register(dep.id, dep.inputs, dep.outputs);\n\t\t\tdep.frontend_fn = process_frontend_fn(\n\t\t\t\tdep.js,\n\t\t\t\t!!dep.backend_fn,\n\t\t\t\tdep.inputs.length,\n\t\t\t\tdep.outputs.length\n\t\t\t);\n\t\t\tcreate_target_meta(dep.targets, dep.id, _target_map);\n\t\t\tget_inputs_outputs(dep, inputs, outputs);\n\t\t});\n\n\t\ttarget_map.set(_target_map);\n\n\t\tlet current_element = instance_map[layout.id];\n\t\tlet all_current_children: ComponentMeta[] = [];\n\t\tconst add_to_current_children = (component: ComponentMeta): void => {\n\t\t\tall_current_children.push(component);\n\t\t\tif (component.children) {\n\t\t\t\tcomponent.children.forEach((child) => {\n\t\t\t\t\tadd_to_current_children(child);\n\t\t\t\t});\n\t\t\t}\n\t\t};\n\t\tadd_to_current_children(current_element);\n\n\t\tObject.entries(instance_map).forEach(([id, component]) => {\n\t\t\tlet _id = Number(id);\n\t\t\tif (component.rendered_in === render_id) {\n\t\t\t\tlet replacement_component = replacement_components.find(\n\t\t\t\t\t(c) => c.key === component.key\n\t\t\t\t);\n\t\t\t\tif (component.key != null && replacement_component !== undefined) {\n\t\t\t\t\tconst instance = instance_map[component.id];\n\t\t\t\t\tfor (const prop in replacement_component.props) {\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t!(\n\t\t\t\t\t\t\t\treplacement_component.props.preserved_by_key as\n\t\t\t\t\t\t\t\t\t| string[]\n\t\t\t\t\t\t\t\t\t| undefined\n\t\t\t\t\t\t\t)?.includes(prop)\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tinstance.props[prop] = replacement_component.props[prop];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tdelete instance_map[_id];\n\t\t\t\t\tif (_component_map.has(_id)) {\n\t\t\t\t\t\t_component_map.delete(_id);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tconst components_to_add = new_components.concat(\n\t\t\treplacement_components.filter((c) => !instance_map[c.id])\n\t\t);\n\n\t\tcomponents_to_add.forEach((c) => {\n\t\t\tinstance_map[c.id] = c;\n\t\t\t_component_map.set(c.id, c);\n\t\t});\n\t\tif (current_element.parent) {\n\t\t\tcurrent_element.parent.children![\n\t\t\t\tcurrent_element.parent.children!.indexOf(current_element)\n\t\t\t] = instance_map[layout.id];\n\t\t}\n\n\t\twalk_layout(\n\t\t\tlayout,\n\t\t\troot,\n\t\t\t_components.concat(components),\n\t\t\tcurrent_element.parent\n\t\t).then(() => {\n\t\t\tlayout_store.set(_rootNode);\n\t\t\tkeys_per_render_id[render_id] = components\n\t\t\t\t.map((c) => c.key)\n\t\t\t\t.filter((c) => c != null) as (string | number)[];\n\t\t});\n\n\t\tset_event_specific_args(dependencies);\n\t}\n\n\tasync function walk_layout(\n\t\tnode: LayoutNode,\n\t\troot: string,\n\t\tcomponents: ComponentMeta[],\n\t\tparent?: ComponentMeta\n\t): Promise<ComponentMeta> {\n\t\tconst instance = instance_map[node.id];\n\t\tif (!instance.component) {\n\t\t\tconst constructor_key = instance.component_class_id || instance.type;\n\t\t\tlet component_constructor = constructor_map.get(constructor_key);\n\n\t\t\tif (component_constructor) {\n\t\t\t\tinstance.component = (await component_constructor)?.default;\n\t\t\t}\n\t\t}\n\t\tinstance.parent = parent;\n\n\t\tif (instance.type === \"dataset\") {\n\t\t\tinstance.props.component_map = get_component(\n\t\t\t\tinstance.type,\n\t\t\t\tinstance.component_class_id,\n\t\t\t\troot,\n\t\t\t\tcomponents,\n\t\t\t\tinstance.props.components\n\t\t\t).example_components;\n\t\t}\n\n\t\tif (_target_map[instance.id]) {\n\t\t\tinstance.props.attached_events = Object.keys(_target_map[instance.id]);\n\t\t}\n\n\t\tinstance.props.interactive = determine_interactivity(\n\t\t\tinstance.id,\n\t\t\tinstance.props.interactive,\n\t\t\tinstance.props.value,\n\t\t\tinputs,\n\t\t\toutputs\n\t\t);\n\n\t\tinstance.props.server = process_server_fn(\n\t\t\tinstance.id,\n\t\t\tinstance.props.server_fns,\n\t\t\tapp\n\t\t);\n\n\t\t_component_map.set(instance.id, instance);\n\n\t\tif (node.children) {\n\t\t\tinstance.children = await Promise.all(\n\t\t\t\tnode.children.map((v) => walk_layout(v, root, components, instance))\n\t\t\t);\n\t\t}\n\n\t\tif (instance.type === \"tabs\" && !instance.props.initial_tabs) {\n\t\t\tconst tab_items_props =\n\t\t\t\tnode.children?.map((c, i) => {\n\t\t\t\t\tconst instance = instance_map[c.id];\n\t\t\t\t\tinstance.props.id ??= c.id;\n\t\t\t\t\treturn {\n\t\t\t\t\t\ttype: instance.type,\n\t\t\t\t\t\tprops: {\n\t\t\t\t\t\t\t...(instance.props as any),\n\t\t\t\t\t\t\tid: instance.props.id,\n\t\t\t\t\t\t\torder: i\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t}) || [];\n\n\t\t\tconst child_tab_items = tab_items_props.filter(\n\t\t\t\t(child) => child.type === \"tabitem\"\n\t\t\t);\n\n\t\t\tinstance.props.initial_tabs = child_tab_items?.map((child) => ({\n\t\t\t\tlabel: child.props.label,\n\t\t\t\tid: child.props.id,\n\t\t\t\tvisible:\n\t\t\t\t\ttypeof child.props.visible === \"boolean\" ? child.props.visible : true,\n\t\t\t\tinteractive: child.props.interactive,\n\t\t\t\torder: child.props.order\n\t\t\t}));\n\t\t}\n\n\t\tif (instance.type === \"tabs\") {\n\t\t\tnode.children?.forEach((c, i) => {\n\t\t\t\tconst child = instance_map[c.id];\n\t\t\t\tchild.props.order = i;\n\t\t\t});\n\t\t}\n\n\t\treturn instance;\n\t}\n\n\tlet update_scheduled = false;\n\tlet update_scheduled_store = writable(false);\n\n\t/**\n\t * Load newly visible components after visibility changes\n\t * @param newly_visible_ids Set of component IDs that are now visible\n\t */\n\tasync function load_newly_visible_components(\n\t\tnewly_visible_ids: Set<number>\n\t): Promise<void> {\n\t\tif (newly_visible_ids.size === 0) return;\n\n\t\tconst components_to_load = _components.filter((c) =>\n\t\t\tnewly_visible_ids.has(c.id)\n\t\t);\n\n\t\tfor (const component of components_to_load) {\n\t\t\tconst constructor_key = component.component_class_id || component.type;\n\n\t\t\t// Only load if not already loaded\n\t\t\tif (!constructor_map.has(constructor_key)) {\n\t\t\t\tconst { component: loadable_component, example_components } =\n\t\t\t\t\tget_component(\n\t\t\t\t\t\tcomponent.type,\n\t\t\t\t\t\tcomponent.component_class_id,\n\t\t\t\t\t\tcurrent_root,\n\t\t\t\t\t\t_components\n\t\t\t\t\t);\n\n\t\t\t\tconstructor_map.set(constructor_key, loadable_component);\n\n\t\t\t\tif (example_components) {\n\t\t\t\t\tfor (const [name, example_component] of example_components) {\n\t\t\t\t\t\tconstructor_map.set(name, example_component);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Load the component if it doesn't exist yet\n\t\t\t\tif (!component.component) {\n\t\t\t\t\tcomponent.component = (await loadable_component)?.default;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tcomponent.component =\n\t\t\t\t\t(await constructor_map.get(constructor_key))?.default ??\n\t\t\t\t\tcomponent.component;\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Check if any visibility-affecting properties have changed\n\t * @param updates Array of update transactions\n\t * @returns True if visibility might have changed\n\t */\n\tfunction has_visibility_changes(updates: UpdateTransaction[][]): boolean {\n\t\treturn updates.some((update_batch) =>\n\t\t\tupdate_batch.some((update) => {\n\t\t\t\tconst instance = instance_map[update.id];\n\t\t\t\tif (!instance) return false;\n\n\t\t\t\t// Check for visibility property changes\n\t\t\t\tif (update.prop === \"visible\") return true;\n\n\t\t\t\t// Check for selected tab changes in tabs components\n\t\t\t\tif (update.prop === \"selected\" && instance.type === \"tabs\") return true;\n\n\t\t\t\treturn false;\n\t\t\t})\n\t\t);\n\t}\n\n\tfunction flush(): void {\n\t\tconst had_visibility_changes = has_visibility_changes(pending_updates);\n\t\tlet previous_visible_ids: Set<number> | undefined;\n\n\t\t// Capture current visibility state before applying updates\n\t\tif (had_visibility_changes && current_layout) {\n\t\t\tprevious_visible_ids = determine_visible_components(\n\t\t\t\tcurrent_layout,\n\t\t\t\t_components\n\t\t\t);\n\t\t}\n\n\t\tlayout_store.update((layout) => {\n\t\t\tfor (let i = 0; i < pending_updates.length; i++) {\n\t\t\t\tfor (let j = 0; j < pending_updates[i].length; j++) {\n\t\t\t\t\tconst update = pending_updates[i][j];\n\t\t\t\t\tif (!update) continue;\n\t\t\t\t\tconst instance = instance_map[update.id];\n\t\t\t\t\tif (!instance) continue;\n\t\t\t\t\tlet new_value;\n\t\t\t\t\tconst old_value = instance.props[update.prop];\n\t\t\t\t\tif (update.value instanceof Map) new_value = new Map(update.value);\n\t\t\t\t\telse if (update.value instanceof Set)\n\t\t\t\t\t\tnew_value = new Set(update.value);\n\t\t\t\t\telse if (Array.isArray(update.value)) new_value = [...update.value];\n\t\t\t\t\telse if (update.value == null) new_value = null;\n\t\t\t\t\telse if (typeof update.value === \"object\")\n\t\t\t\t\t\tnew_value = { ...update.value };\n\t\t\t\t\telse new_value = update.value;\n\t\t\t\t\tinstance.props[update.prop] = new_value;\n\n\t\t\t\t\tif (\n\t\t\t\t\t\tupdate.prop === \"value\" &&\n\t\t\t\t\t\t!is_visible(instance) &&\n\t\t\t\t\t\t!dequal(old_value, new_value)\n\t\t\t\t\t) {\n\t\t\t\t\t\tvalue_change_cb?.(update.id, new_value);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn layout;\n\t\t});\n\n\t\t// After applying updates, check if we need to load new components\n\t\tif (had_visibility_changes && current_layout && previous_visible_ids) {\n\t\t\traf(async () => {\n\t\t\t\tconst new_visible_ids = determine_visible_components(\n\t\t\t\t\tcurrent_layout,\n\t\t\t\t\t_components\n\t\t\t\t);\n\t\t\t\tconst newly_visible_ids = new Set<number>();\n\n\t\t\t\t// Find components that are now visible but weren't before\n\t\t\t\tfor (const id of new_visible_ids) {\n\t\t\t\t\tif (!previous_visible_ids!.has(id)) {\n\t\t\t\t\t\tnewly_visible_ids.add(id);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Load the newly visible components\n\t\t\t\tawait load_newly_visible_components(newly_visible_ids);\n\n\t\t\t\t// Trigger a layout update to render the newly loaded components\n\t\t\t\tif (newly_visible_ids.size > 0) {\n\t\t\t\t\tlayout_store.update((layout) => layout);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tpending_updates = [];\n\t\tupdate_scheduled = false;\n\t\tupdate_scheduled_store.set(false);\n\t}\n\n\tfunction update_value(updates: UpdateTransaction[] | undefined): void {\n\t\tif (!updates) return;\n\t\tpending_updates.push(updates);\n\n\t\tif (!update_scheduled) {\n\t\t\tupdate_scheduled = true;\n\t\t\tupdate_scheduled_store.set(true);\n\t\t\traf(flush);\n\t\t}\n\t}\n\tfunction get_data(id: number): any | Promise<any> {\n\t\tlet comp = _component_map.get(id);\n\t\tif (!comp) {\n\t\t\tconst layout = get(layout_store);\n\t\t\tcomp = findComponentById(layout, id);\n\t\t}\n\t\tif (!comp) {\n\t\t\treturn null;\n\t\t}\n\t\tif (comp.instance?.get_value) {\n\t\t\treturn comp.instance.get_value() as Promise<any>;\n\t\t}\n\t\treturn comp.props.value;\n\t}\n\n\tfunction findComponentById(\n\t\tnode: ComponentMeta,\n\t\tid: number\n\t): ComponentMeta | undefined {\n\t\tif (node.id === id) {\n\t\t\treturn node;\n\t\t}\n\t\tif (node.children) {\n\t\t\tfor (const child of node.children) {\n\t\t\t\tconst result = findComponentById(child, id);\n\t\t\t\tif (result) {\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn undefined;\n\t}\n\n\tfunction modify_stream(\n\t\tid: number,\n\t\tstate: \"open\" | \"closed\" | \"waiting\"\n\t): void {\n\t\tconst comp = _component_map.get(id);\n\t\tif (comp && comp.instance?.modify_stream_state) {\n\t\t\tcomp.instance.modify_stream_state(state);\n\t\t}\n\t}\n\n\tfunction get_stream_state(\n\t\tid: number\n\t): \"open\" | \"closed\" | \"waiting\" | \"not_set\" {\n\t\tconst comp = _component_map.get(id);\n\t\tif (comp?.instance?.get_stream_state)\n\t\t\treturn comp.instance.get_stream_state();\n\t\treturn \"not_set\";\n\t}\n\n\tfunction set_time_limit(id: number, time_limit: number | undefined): void {\n\t\tconst comp = _component_map.get(id);\n\t\tif (comp?.instance?.set_time_limit) {\n\t\t\tcomp.instance.set_time_limit(time_limit);\n\t\t}\n\t}\n\n\treturn {\n\t\tlayout: layout_store,\n\t\ttargets: target_map,\n\t\tupdate_value,\n\t\tget_data,\n\t\tmodify_stream,\n\t\tget_stream_state,\n\t\tset_time_limit,\n\t\tloading_status,\n\t\tscheduled_updates: update_scheduled_store,\n\t\tcreate_layout: create_layout,\n\t\trerender_layout,\n\t\tvalue_change\n\t};\n}\n\n/** An async version of 'new Function' */\nexport const AsyncFunction: new (\n\t...args: string[]\n) => (...args: any[]) => Promise<any> = Object.getPrototypeOf(\n\tasync function () {}\n).constructor;\n\n/**\n * Takes a string of source code and returns a function that can be called with arguments\n * @param source the source code\n * @param backend_fn if there is also a backend function\n * @param input_length the number of inputs\n * @param output_length the number of outputs\n * @returns The function, or null if the source code is invalid or missing\n */\nexport function process_frontend_fn(\n\tsource: string | null | undefined | boolean,\n\tbackend_fn: boolean,\n\tinput_length: number,\n\toutput_length: number\n): ((...args: unknown[]) => Promise<unknown[]>) | null {\n\tif (!source || source === true) return null;\n\n\tconst wrap = backend_fn ? input_length === 1 : output_length === 1;\n\ttry {\n\t\treturn new AsyncFunction(\n\t\t\t\"__fn_args\",\n\t\t\t`  let result = await (${source})(...__fn_args);\n  if (typeof result === \"undefined\") return [];\n  return (${wrap} && !Array.isArray(result)) ? [result] : result;`\n\t\t);\n\t} catch (e) {\n\t\tconsole.error(\"Could not parse custom js method.\");\n\t\tconsole.error(e);\n\t\treturn null;\n\t}\n}\n\n/**\n * `Dependency.targets` is an array of `[id, trigger]` pairs with the ids as the `fn_id`.\n * This function take a single list of `Dependency.targets` and add those to the target_map.\n * @param targets the targets array\n * @param fn_id the function index\n * @param target_map the target map\n * @returns the tagert map\n */\nexport function create_target_meta(\n\ttargets: Dependency[\"targets\"],\n\tfn_id: number,\n\ttarget_map: TargetMap\n): TargetMap {\n\ttargets.forEach(([id, trigger]) => {\n\t\tif (!target_map[id]) {\n\t\t\ttarget_map[id] = {};\n\t\t}\n\t\tif (\n\t\t\ttarget_map[id]?.[trigger] &&\n\t\t\t!target_map[id]?.[trigger].includes(fn_id)\n\t\t) {\n\t\t\ttarget_map[id][trigger].push(fn_id);\n\t\t} else {\n\t\t\ttarget_map[id][trigger] = [fn_id];\n\t\t}\n\t});\n\n\treturn target_map;\n}\n\n/**\n * Get all component ids that are an input or output of a dependency\n * @param dep the dependency\n * @param inputs the set of inputs\n * @param outputs the set of outputs\n * @returns a tuple of the inputs and outputs\n */\nexport function get_inputs_outputs(\n\tdep: Dependency,\n\tinputs: Set<number>,\n\toutputs: Set<number>\n): [Set<number>, Set<number>] {\n\tdep.inputs.forEach((input) => inputs.add(input));\n\tdep.outputs.forEach((output) => outputs.add(output));\n\treturn [inputs, outputs];\n}\n\n/**\n * Check if a value is not a default value\n * @param value the value to check\n * @returns default value boolean\n */\nfunction has_no_default_value(value: any): boolean {\n\treturn (\n\t\t(Array.isArray(value) && value.length === 0) ||\n\t\tvalue === \"\" ||\n\t\tvalue === 0 ||\n\t\t!value\n\t);\n}\n\n/**\n * Determines if a component is interactive\n * @param id component id\n * @param interactive_prop value of the interactive prop\n * @param value the main value of the component\n * @param inputs set of ids that are inputs to a dependency\n * @param outputs set of ids that are outputs to a dependency\n * @returns if the component is interactive\n */\nexport function determine_interactivity(\n\tid: number,\n\tinteractive_prop: boolean | undefined,\n\tvalue: any,\n\tinputs: Set<number>,\n\toutputs: Set<number>\n): boolean {\n\tif (interactive_prop === false) {\n\t\treturn false;\n\t} else if (interactive_prop === true) {\n\t\treturn true;\n\t} else if (\n\t\tinputs.has(id) ||\n\t\t(!outputs.has(id) && has_no_default_value(value))\n\t) {\n\t\treturn true;\n\t}\n\n\treturn false;\n}\n\ntype ServerFunctions = Record<string, (...args: any[]) => Promise<any>>;\n\n/**\n * Process the server function names and return a dictionary of functions\n * @param id the component id\n * @param server_fns the server function names\n * @param app the client instance\n * @returns the actual server functions\n */\nexport function process_server_fn(\n\tid: number,\n\tserver_fns: string[] | undefined,\n\tapp: client_return\n): ServerFunctions {\n\tif (!server_fns) {\n\t\treturn {};\n\t}\n\treturn server_fns.reduce((acc, fn: string) => {\n\t\tacc[fn] = async (...args: any[]) => {\n\t\t\tif (args.length === 1) {\n\t\t\t\targs = args[0];\n\t\t\t}\n\t\t\tconst result = await app.component_server(id, fn, args);\n\t\t\treturn result;\n\t\t};\n\t\treturn acc;\n\t}, {} as ServerFunctions);\n}\n\n/**\n * Get a component from the backend\n * @param type the type of the component\n * @param class_id the class id of the component\n * @param root the root url of the app\n * @param components the list of component metadata\n * @param example_components the list of example components\n * @returns the component and its name\n */\nexport function get_component(\n\ttype: string,\n\tclass_id: string,\n\troot: string,\n\tcomponents: ComponentMeta[],\n\texample_components?: string[]\n): {\n\tcomponent: LoadingComponent;\n\tname: ComponentMeta[\"type\"];\n\texample_components?: Map<ComponentMeta[\"type\"], LoadingComponent>;\n} {\n\tlet example_component_map: Map<ComponentMeta[\"type\"], LoadingComponent> =\n\t\tnew Map();\n\tif (type === \"api\") type = \"state\";\n\tif (type === \"dataset\" && example_components) {\n\t\t(example_components as string[]).forEach((name: string) => {\n\t\t\tif (example_component_map.has(name)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tlet _c;\n\n\t\t\tconst matching_component = components.find((c) => c.type === name);\n\t\t\tif (matching_component) {\n\t\t\t\t_c = load_component({\n\t\t\t\t\tapi_url: root,\n\t\t\t\t\tname,\n\t\t\t\t\tid: matching_component.component_class_id,\n\t\t\t\t\tvariant: \"example\"\n\t\t\t\t});\n\t\t\t\texample_component_map.set(name, _c.component);\n\t\t\t}\n\t\t});\n\t}\n\n\tconst _c = load_component({\n\t\tapi_url: root,\n\t\tname: type,\n\t\tid: class_id,\n\t\tvariant: \"component\"\n\t});\n\n\treturn {\n\t\tcomponent: _c.component,\n\t\tname: _c.name,\n\t\texample_components:\n\t\t\texample_component_map.size > 0 ? example_component_map : undefined\n\t};\n}\n\n/**\n * Check if a tab item should be visible based on selection state\n * @param component The tab item component\n * @param component_visible Whether the component is visible\n * @param parent_tabs_context Tab context from parent\n * @returns Whether the tab item should be visible\n */\nfunction is_tab_item_visible(\n\tcomponent: ComponentMeta,\n\tcomponent_visible: boolean,\n\tparent_tabs_context?: { selected_tab_id?: string | number }\n): boolean {\n\tconst is_selected_tab =\n\t\tparent_tabs_context?.selected_tab_id === component.id ||\n\t\tparent_tabs_context?.selected_tab_id === component.props.id;\n\treturn component_visible && is_selected_tab;\n}\n\n/**\n * Determine the selected tab ID for a tabs component\n * @param component The tabs component\n * @param layout The layout node\n * @param components All components\n * @returns The selected tab ID\n */\nfunction get_selected_tab_id(\n\tcomponent: ComponentMeta,\n\tlayout: LayoutNode,\n\tcomponents: ComponentMeta[]\n): string | number | undefined {\n\t// Check if selected prop is a string or number\n\tconst selected = component.props.selected;\n\tif (typeof selected === \"string\" || typeof selected === \"number\") {\n\t\treturn selected;\n\t}\n\n\t// If no tab is explicitly selected, find the first visible and interactive tab\n\tif (layout.children) {\n\t\tfor (const child of layout.children) {\n\t\t\tconst child_component = components.find((c) => c.id === child.id);\n\t\t\tif (\n\t\t\t\tchild_component?.type === \"tabitem\" &&\n\t\t\t\tchild_component.props.visible !== false &&\n\t\t\t\tchild_component.props.interactive !== false\n\t\t\t) {\n\t\t\t\treturn (\n\t\t\t\t\tchild_component.id || (child_component.props.id as string | number)\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn undefined;\n}\n\n/**\n * Process children components for visibility\n * @param layout The layout node\n * @param components All components\n * @param parent_tabs_context Tab context\n * @returns Set of visible child component IDs\n */\nfunction process_children_visibility(\n\tlayout: LayoutNode,\n\tcomponents: ComponentMeta[],\n\tparent_tabs_context?: { selected_tab_id?: string | number }\n): Set<number> {\n\tconst visible_components: Set<number> = new Set();\n\n\tif (layout.children) {\n\t\tfor (const child of layout.children) {\n\t\t\tconst child_visible = determine_visible_components(\n\t\t\t\tchild,\n\t\t\t\tcomponents,\n\t\t\t\ttrue,\n\t\t\t\tparent_tabs_context\n\t\t\t);\n\t\t\tchild_visible.forEach((id) => visible_components.add(id));\n\t\t}\n\t}\n\n\treturn visible_components;\n}\n\n/**\n * Determine which components should be visible based on layout structure and visibility rules\n * @param layout The layout tree\n * @param components All component metadata\n * @param parent_visible Whether the parent component is visible\n * @param parent_tabs_context Information about parent tabs if any\n * @returns Set of component IDs that should be visible\n */\nfunction determine_visible_components(\n\tlayout: LayoutNode,\n\tcomponents: ComponentMeta[],\n\tparent_visible = true,\n\tparent_tabs_context?: { selected_tab_id?: string | number }\n): Set<number> {\n\tconst visible_components: Set<number> = new Set();\n\tconst component = components.find((c) => c.id === layout.id);\n\n\tif (!component) {\n\t\treturn visible_components;\n\t}\n\n\t// Check if the component itself is visible\n\tconst component_visible =\n\t\tparent_visible &&\n\t\t(typeof component.props.visible === \"boolean\"\n\t\t\t? component.props.visible\n\t\t\t: true);\n\n\t// Handle tab_item special case\n\tif (component.type === \"tabitem\") {\n\t\tif (\n\t\t\tis_tab_item_visible(component, component_visible, parent_tabs_context)\n\t\t) {\n\t\t\tvisible_components.add(component.id);\n\n\t\t\t// Process children if this tab item is visible\n\t\t\tconst child_visible = process_children_visibility(\n\t\t\t\tlayout,\n\t\t\t\tcomponents,\n\t\t\t\tparent_tabs_context\n\t\t\t);\n\t\t\tchild_visible.forEach((id) => visible_components.add(id));\n\t\t}\n\t\t// If tab item is not visible, none of its children should be loaded\n\t\treturn visible_components;\n\t}\n\n\t// Handle tabs component\n\tif (component.type === \"tabs\") {\n\t\tif (component_visible) {\n\t\t\tvisible_components.add(component.id);\n\n\t\t\t// Determine which tab should be selected\n\t\t\tconst selected_tab_id = get_selected_tab_id(\n\t\t\t\tcomponent,\n\t\t\t\tlayout,\n\t\t\t\tcomponents\n\t\t\t);\n\n\t\t\t// Process children with tabs context\n\t\t\tconst child_visible = process_children_visibility(layout, components, {\n\t\t\t\tselected_tab_id\n\t\t\t});\n\t\t\tchild_visible.forEach((id) => visible_components.add(id));\n\t\t}\n\t\treturn visible_components;\n\t}\n\n\t// For regular components\n\tif (component_visible) {\n\t\tvisible_components.add(component.id);\n\n\t\t// Process children if this component is visible\n\t\tconst child_visible = process_children_visibility(\n\t\t\tlayout,\n\t\t\tcomponents,\n\t\t\tparent_tabs_context\n\t\t);\n\t\tchild_visible.forEach((id) => visible_components.add(id));\n\t}\n\t// If component is not visible, don't process children\n\n\treturn visible_components;\n}\n\n/**\n * Preload only visible components\n * @param components A list of component metadata\n * @param layout The layout tree to determine visibility\n * @param root The root url of the app\n * @returns A map of component ids to their constructors\n */\nexport function preload_visible_components(\n\tcomponents: ComponentMeta[],\n\tlayout: LayoutNode,\n\troot: string\n): Map<ComponentMeta[\"type\"], LoadingComponent> {\n\tlet constructor_map: Map<ComponentMeta[\"type\"], LoadingComponent> = new Map();\n\n\t// Determine which components should be visible\n\tconst visible_component_ids = determine_visible_components(\n\t\tlayout,\n\t\tcomponents\n\t);\n\n\t// Only preload visible components\n\tcomponents.forEach((c) => {\n\t\tif (visible_component_ids.has(c.id)) {\n\t\t\tconst { component, example_components } = get_component(\n\t\t\t\tc.type,\n\t\t\t\tc.component_class_id,\n\t\t\t\troot,\n\t\t\t\tcomponents\n\t\t\t);\n\n\t\t\tconstructor_map.set(c.component_class_id || c.type, component);\n\n\t\t\tif (example_components) {\n\t\t\t\tfor (const [name, example_component] of example_components) {\n\t\t\t\t\tconstructor_map.set(name, example_component);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t});\n\n\treturn constructor_map;\n}\n\n/**\n * Preload all components (legacy function, kept for backwards compatibility)\n * @param components A list of component metadata\n * @param root The root url of the app\n * @returns A map of component ids to their constructors\n */\nexport function preload_all_components(\n\tcomponents: ComponentMeta[],\n\troot: string\n): Map<ComponentMeta[\"type\"], LoadingComponent> {\n\tlet constructor_map: Map<ComponentMeta[\"type\"], LoadingComponent> = new Map();\n\n\tcomponents.forEach((c) => {\n\t\tconst { component, example_components } = get_component(\n\t\t\tc.type,\n\t\t\tc.component_class_id,\n\t\t\troot,\n\t\t\tcomponents\n\t\t);\n\n\t\tconstructor_map.set(c.component_class_id || c.type, component);\n\n\t\tif (example_components) {\n\t\t\tfor (const [name, example_component] of example_components) {\n\t\t\t\tconstructor_map.set(name, example_component);\n\t\t\t}\n\t\t}\n\t});\n\n\treturn constructor_map;\n}\n\nfunction is_visible(component: ComponentMeta): boolean {\n\tif (\n\t\ttypeof component.props.visible === \"boolean\" &&\n\t\tcomponent.props.visible === false\n\t) {\n\t\treturn false;\n\t} else if (component.parent) {\n\t\treturn is_visible(component.parent);\n\t}\n\treturn true;\n}\n","// import tw_colors from \"tailwindcss/colors\";\n\nexport const ordered_colors = [\n\t\"red\",\n\t\"green\",\n\t\"blue\",\n\t\"yellow\",\n\t\"purple\",\n\t\"teal\",\n\t\"orange\",\n\t\"cyan\",\n\t\"lime\",\n\t\"pink\"\n] as const;\ninterface ColorPair {\n\tprimary: string;\n\tsecondary: string;\n}\n\ninterface Colors {\n\tred: ColorPair;\n\tgreen: ColorPair;\n\tblue: ColorPair;\n\tyellow: ColorPair;\n\tpurple: ColorPair;\n\tteal: ColorPair;\n\torange: ColorPair;\n\tcyan: ColorPair;\n\tlime: ColorPair;\n\tpink: ColorPair;\n}\n\n// https://play.tailwindcss.com/ZubQYya0aN\nexport const color_values = [\n\t{ color: \"red\", primary: 600, secondary: 100 },\n\t{ color: \"green\", primary: 600, secondary: 100 },\n\t{ color: \"blue\", primary: 600, secondary: 100 },\n\t{ color: \"yellow\", primary: 500, secondary: 100 },\n\t{ color: \"purple\", primary: 600, secondary: 100 },\n\t{ color: \"teal\", primary: 600, secondary: 100 },\n\t{ color: \"orange\", primary: 600, secondary: 100 },\n\t{ color: \"cyan\", primary: 600, secondary: 100 },\n\t{ color: \"lime\", primary: 500, secondary: 100 },\n\t{ color: \"pink\", primary: 600, secondary: 100 }\n] as const;\n\nconst tw_colors = {\n\tinherit: \"inherit\",\n\tcurrent: \"currentColor\",\n\ttransparent: \"transparent\",\n\tblack: \"#000\",\n\twhite: \"#fff\",\n\tslate: {\n\t\t50: \"#f8fafc\",\n\t\t100: \"#f1f5f9\",\n\t\t200: \"#e2e8f0\",\n\t\t300: \"#cbd5e1\",\n\t\t400: \"#94a3b8\",\n\t\t500: \"#64748b\",\n\t\t600: \"#475569\",\n\t\t700: \"#334155\",\n\t\t800: \"#1e293b\",\n\t\t900: \"#0f172a\",\n\t\t950: \"#020617\"\n\t},\n\tgray: {\n\t\t50: \"#f9fafb\",\n\t\t100: \"#f3f4f6\",\n\t\t200: \"#e5e7eb\",\n\t\t300: \"#d1d5db\",\n\t\t400: \"#9ca3af\",\n\t\t500: \"#6b7280\",\n\t\t600: \"#4b5563\",\n\t\t700: \"#374151\",\n\t\t800: \"#1f2937\",\n\t\t900: \"#111827\",\n\t\t950: \"#030712\"\n\t},\n\tzinc: {\n\t\t50: \"#fafafa\",\n\t\t100: \"#f4f4f5\",\n\t\t200: \"#e4e4e7\",\n\t\t300: \"#d4d4d8\",\n\t\t400: \"#a1a1aa\",\n\t\t500: \"#71717a\",\n\t\t600: \"#52525b\",\n\t\t700: \"#3f3f46\",\n\t\t800: \"#27272a\",\n\t\t900: \"#18181b\",\n\t\t950: \"#09090b\"\n\t},\n\tneutral: {\n\t\t50: \"#fafafa\",\n\t\t100: \"#f5f5f5\",\n\t\t200: \"#e5e5e5\",\n\t\t300: \"#d4d4d4\",\n\t\t400: \"#a3a3a3\",\n\t\t500: \"#737373\",\n\t\t600: \"#525252\",\n\t\t700: \"#404040\",\n\t\t800: \"#262626\",\n\t\t900: \"#171717\",\n\t\t950: \"#0a0a0a\"\n\t},\n\tstone: {\n\t\t50: \"#fafaf9\",\n\t\t100: \"#f5f5f4\",\n\t\t200: \"#e7e5e4\",\n\t\t300: \"#d6d3d1\",\n\t\t400: \"#a8a29e\",\n\t\t500: \"#78716c\",\n\t\t600: \"#57534e\",\n\t\t700: \"#44403c\",\n\t\t800: \"#292524\",\n\t\t900: \"#1c1917\",\n\t\t950: \"#0c0a09\"\n\t},\n\tred: {\n\t\t50: \"#fef2f2\",\n\t\t100: \"#fee2e2\",\n\t\t200: \"#fecaca\",\n\t\t300: \"#fca5a5\",\n\t\t400: \"#f87171\",\n\t\t500: \"#ef4444\",\n\t\t600: \"#dc2626\",\n\t\t700: \"#b91c1c\",\n\t\t800: \"#991b1b\",\n\t\t900: \"#7f1d1d\",\n\t\t950: \"#450a0a\"\n\t},\n\torange: {\n\t\t50: \"#fff7ed\",\n\t\t100: \"#ffedd5\",\n\t\t200: \"#fed7aa\",\n\t\t300: \"#fdba74\",\n\t\t400: \"#fb923c\",\n\t\t500: \"#f97316\",\n\t\t600: \"#ea580c\",\n\t\t700: \"#c2410c\",\n\t\t800: \"#9a3412\",\n\t\t900: \"#7c2d12\",\n\t\t950: \"#431407\"\n\t},\n\tamber: {\n\t\t50: \"#fffbeb\",\n\t\t100: \"#fef3c7\",\n\t\t200: \"#fde68a\",\n\t\t300: \"#fcd34d\",\n\t\t400: \"#fbbf24\",\n\t\t500: \"#f59e0b\",\n\t\t600: \"#d97706\",\n\t\t700: \"#b45309\",\n\t\t800: \"#92400e\",\n\t\t900: \"#78350f\",\n\t\t950: \"#451a03\"\n\t},\n\tyellow: {\n\t\t50: \"#fefce8\",\n\t\t100: \"#fef9c3\",\n\t\t200: \"#fef08a\",\n\t\t300: \"#fde047\",\n\t\t400: \"#facc15\",\n\t\t500: \"#eab308\",\n\t\t600: \"#ca8a04\",\n\t\t700: \"#a16207\",\n\t\t800: \"#854d0e\",\n\t\t900: \"#713f12\",\n\t\t950: \"#422006\"\n\t},\n\tlime: {\n\t\t50: \"#f7fee7\",\n\t\t100: \"#ecfccb\",\n\t\t200: \"#d9f99d\",\n\t\t300: \"#bef264\",\n\t\t400: \"#a3e635\",\n\t\t500: \"#84cc16\",\n\t\t600: \"#65a30d\",\n\t\t700: \"#4d7c0f\",\n\t\t800: \"#3f6212\",\n\t\t900: \"#365314\",\n\t\t950: \"#1a2e05\"\n\t},\n\tgreen: {\n\t\t50: \"#f0fdf4\",\n\t\t100: \"#dcfce7\",\n\t\t200: \"#bbf7d0\",\n\t\t300: \"#86efac\",\n\t\t400: \"#4ade80\",\n\t\t500: \"#22c55e\",\n\t\t600: \"#16a34a\",\n\t\t700: \"#15803d\",\n\t\t800: \"#166534\",\n\t\t900: \"#14532d\",\n\t\t950: \"#052e16\"\n\t},\n\temerald: {\n\t\t50: \"#ecfdf5\",\n\t\t100: \"#d1fae5\",\n\t\t200: \"#a7f3d0\",\n\t\t300: \"#6ee7b7\",\n\t\t400: \"#34d399\",\n\t\t500: \"#10b981\",\n\t\t600: \"#059669\",\n\t\t700: \"#047857\",\n\t\t800: \"#065f46\",\n\t\t900: \"#064e3b\",\n\t\t950: \"#022c22\"\n\t},\n\tteal: {\n\t\t50: \"#f0fdfa\",\n\t\t100: \"#ccfbf1\",\n\t\t200: \"#99f6e4\",\n\t\t300: \"#5eead4\",\n\t\t400: \"#2dd4bf\",\n\t\t500: \"#14b8a6\",\n\t\t600: \"#0d9488\",\n\t\t700: \"#0f766e\",\n\t\t800: \"#115e59\",\n\t\t900: \"#134e4a\",\n\t\t950: \"#042f2e\"\n\t},\n\tcyan: {\n\t\t50: \"#ecfeff\",\n\t\t100: \"#cffafe\",\n\t\t200: \"#a5f3fc\",\n\t\t300: \"#67e8f9\",\n\t\t400: \"#22d3ee\",\n\t\t500: \"#06b6d4\",\n\t\t600: \"#0891b2\",\n\t\t700: \"#0e7490\",\n\t\t800: \"#155e75\",\n\t\t900: \"#164e63\",\n\t\t950: \"#083344\"\n\t},\n\tsky: {\n\t\t50: \"#f0f9ff\",\n\t\t100: \"#e0f2fe\",\n\t\t200: \"#bae6fd\",\n\t\t300: \"#7dd3fc\",\n\t\t400: \"#38bdf8\",\n\t\t500: \"#0ea5e9\",\n\t\t600: \"#0284c7\",\n\t\t700: \"#0369a1\",\n\t\t800: \"#075985\",\n\t\t900: \"#0c4a6e\",\n\t\t950: \"#082f49\"\n\t},\n\tblue: {\n\t\t50: \"#eff6ff\",\n\t\t100: \"#dbeafe\",\n\t\t200: \"#bfdbfe\",\n\t\t300: \"#93c5fd\",\n\t\t400: \"#60a5fa\",\n\t\t500: \"#3b82f6\",\n\t\t600: \"#2563eb\",\n\t\t700: \"#1d4ed8\",\n\t\t800: \"#1e40af\",\n\t\t900: \"#1e3a8a\",\n\t\t950: \"#172554\"\n\t},\n\tindigo: {\n\t\t50: \"#eef2ff\",\n\t\t100: \"#e0e7ff\",\n\t\t200: \"#c7d2fe\",\n\t\t300: \"#a5b4fc\",\n\t\t400: \"#818cf8\",\n\t\t500: \"#6366f1\",\n\t\t600: \"#4f46e5\",\n\t\t700: \"#4338ca\",\n\t\t800: \"#3730a3\",\n\t\t900: \"#312e81\",\n\t\t950: \"#1e1b4b\"\n\t},\n\tviolet: {\n\t\t50: \"#f5f3ff\",\n\t\t100: \"#ede9fe\",\n\t\t200: \"#ddd6fe\",\n\t\t300: \"#c4b5fd\",\n\t\t400: \"#a78bfa\",\n\t\t500: \"#8b5cf6\",\n\t\t600: \"#7c3aed\",\n\t\t700: \"#6d28d9\",\n\t\t800: \"#5b21b6\",\n\t\t900: \"#4c1d95\",\n\t\t950: \"#2e1065\"\n\t},\n\tpurple: {\n\t\t50: \"#faf5ff\",\n\t\t100: \"#f3e8ff\",\n\t\t200: \"#e9d5ff\",\n\t\t300: \"#d8b4fe\",\n\t\t400: \"#c084fc\",\n\t\t500: \"#a855f7\",\n\t\t600: \"#9333ea\",\n\t\t700: \"#7e22ce\",\n\t\t800: \"#6b21a8\",\n\t\t900: \"#581c87\",\n\t\t950: \"#3b0764\"\n\t},\n\tfuchsia: {\n\t\t50: \"#fdf4ff\",\n\t\t100: \"#fae8ff\",\n\t\t200: \"#f5d0fe\",\n\t\t300: \"#f0abfc\",\n\t\t400: \"#e879f9\",\n\t\t500: \"#d946ef\",\n\t\t600: \"#c026d3\",\n\t\t700: \"#a21caf\",\n\t\t800: \"#86198f\",\n\t\t900: \"#701a75\",\n\t\t950: \"#4a044e\"\n\t},\n\tpink: {\n\t\t50: \"#fdf2f8\",\n\t\t100: \"#fce7f3\",\n\t\t200: \"#fbcfe8\",\n\t\t300: \"#f9a8d4\",\n\t\t400: \"#f472b6\",\n\t\t500: \"#ec4899\",\n\t\t600: \"#db2777\",\n\t\t700: \"#be185d\",\n\t\t800: \"#9d174d\",\n\t\t900: \"#831843\",\n\t\t950: \"#500724\"\n\t},\n\trose: {\n\t\t50: \"#fff1f2\",\n\t\t100: \"#ffe4e6\",\n\t\t200: \"#fecdd3\",\n\t\t300: \"#fda4af\",\n\t\t400: \"#fb7185\",\n\t\t500: \"#f43f5e\",\n\t\t600: \"#e11d48\",\n\t\t700: \"#be123c\",\n\t\t800: \"#9f1239\",\n\t\t900: \"#881337\",\n\t\t950: \"#4c0519\"\n\t}\n};\n\nexport const colors = color_values.reduce(\n\t(acc, { color, primary, secondary }) => ({\n\t\t...acc,\n\t\t[color]: {\n\t\t\tprimary: tw_colors[color][primary],\n\t\t\tsecondary: tw_colors[color][secondary]\n\t\t}\n\t}),\n\t{} as Colors\n);\n","import type { ActionReturn } from \"svelte/action\";\nimport type { Client } from \"@gradio/client\";\nimport type { ComponentType, SvelteComponent } from \"svelte\";\n\nexport interface ValueData {\n\tvalue: any;\n\tis_value_data: boolean;\n}\n\nexport interface SelectData {\n\trow_value?: any[];\n\tcol_value?: any[];\n\tindex: number | [number, number];\n\tvalue: any;\n\tselected?: boolean;\n}\n\nexport interface LikeData {\n\tindex: number | [number, number];\n\tvalue: any;\n\tliked?: boolean | string;\n}\n\nexport interface KeyUpData {\n\tkey: string;\n\tinput_value: string;\n}\n\nexport interface ShareData {\n\tdescription: string;\n\ttitle?: string;\n}\n\nexport interface CopyData {\n\tvalue: string;\n}\n\nexport class ShareError extends Error {\n\tconstructor(message: string) {\n\t\tsuper(message);\n\t\tthis.name = \"ShareError\";\n\t}\n}\n\nexport async function uploadToHuggingFace(\n\tdata: string | { url?: string; path?: string },\n\ttype: \"base64\" | \"url\"\n): Promise<string> {\n\tif (window.__gradio_space__ == null) {\n\t\tthrow new ShareError(\"Must be on Spaces to share.\");\n\t}\n\tlet blob: Blob;\n\tlet contentType: string;\n\tlet filename: string;\n\tif (type === \"url\") {\n\t\tlet url: string;\n\n\t\tif (typeof data === \"object\" && data.url) {\n\t\t\turl = data.url;\n\t\t} else if (typeof data === \"string\") {\n\t\t\turl = data;\n\t\t} else {\n\t\t\tthrow new Error(\"Invalid data format for URL type\");\n\t\t}\n\n\t\tconst response = await fetch(url);\n\t\tblob = await response.blob();\n\t\tcontentType = response.headers.get(\"content-type\") || \"\";\n\t\tfilename = response.headers.get(\"content-disposition\") || \"\";\n\t} else {\n\t\tlet dataurl: string;\n\n\t\tif (typeof data === \"object\" && data.path) {\n\t\t\tdataurl = data.path;\n\t\t} else if (typeof data === \"string\") {\n\t\t\tdataurl = data;\n\t\t} else {\n\t\t\tthrow new Error(\"Invalid data format for base64 type\");\n\t\t}\n\n\t\tblob = dataURLtoBlob(dataurl);\n\t\tcontentType = dataurl.split(\";\")[0].split(\":\")[1];\n\t\tfilename = \"file.\" + contentType.split(\"/\")[1];\n\t}\n\n\tconst file = new File([blob], filename, { type: contentType });\n\n\t// Send file to endpoint\n\tconst uploadResponse = await fetch(\"https://huggingface.co/uploads\", {\n\t\tmethod: \"POST\",\n\t\tbody: file,\n\t\theaders: {\n\t\t\t\"Content-Type\": file.type,\n\t\t\t\"X-Requested-With\": \"XMLHttpRequest\"\n\t\t}\n\t});\n\n\t// Check status of response\n\tif (!uploadResponse.ok) {\n\t\tif (\n\t\t\tuploadResponse.headers.get(\"content-type\")?.includes(\"application/json\")\n\t\t) {\n\t\t\tconst error = await uploadResponse.json();\n\t\t\tthrow new ShareError(`Upload failed: ${error.error}`);\n\t\t}\n\t\tthrow new ShareError(`Upload failed.`);\n\t}\n\n\t// Return response if needed\n\tconst result = await uploadResponse.text();\n\treturn result;\n}\n\nfunction dataURLtoBlob(dataurl: string): Blob {\n\tvar arr = dataurl.split(\",\"),\n\t\tmime = (arr[0].match(/:(.*?);/) as RegExpMatchArray)[1],\n\t\tbstr = atob(arr[1]),\n\t\tn = bstr.length,\n\t\tu8arr = new Uint8Array(n);\n\twhile (n--) {\n\t\tu8arr[n] = bstr.charCodeAt(n);\n\t}\n\treturn new Blob([u8arr], { type: mime });\n}\n\nexport function copy(node: HTMLDivElement): ActionReturn {\n\tnode.addEventListener(\"click\", handle_copy);\n\n\tasync function handle_copy(event: MouseEvent): Promise<void> {\n\t\tconst path = event.composedPath() as HTMLButtonElement[];\n\n\t\tconst [copy_button] = path.filter(\n\t\t\t(e) => e?.tagName === \"BUTTON\" && e.classList.contains(\"copy_code_button\")\n\t\t);\n\n\t\tif (copy_button) {\n\t\t\tevent.stopImmediatePropagation();\n\n\t\t\tconst copy_text = copy_button.parentElement!.innerText.trim();\n\t\t\tconst copy_sucess_button = Array.from(\n\t\t\t\tcopy_button.children\n\t\t\t)[1] as HTMLDivElement;\n\n\t\t\tconst copied = await copy_to_clipboard(copy_text);\n\n\t\t\tif (copied) copy_feedback(copy_sucess_button);\n\n\t\t\tfunction copy_feedback(_copy_sucess_button: HTMLDivElement): void {\n\t\t\t\t_copy_sucess_button.style.opacity = \"1\";\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t_copy_sucess_button.style.opacity = \"0\";\n\t\t\t\t}, 2000);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn {\n\t\tdestroy(): void {\n\t\t\tnode.removeEventListener(\"click\", handle_copy);\n\t\t}\n\t};\n}\n\nasync function copy_to_clipboard(value: string): Promise<boolean> {\n\tlet copied = false;\n\tif (\"clipboard\" in navigator) {\n\t\tawait navigator.clipboard.writeText(value);\n\t\tcopied = true;\n\t} else {\n\t\tconst textArea = document.createElement(\"textarea\");\n\t\ttextArea.value = value;\n\n\t\ttextArea.style.position = \"absolute\";\n\t\ttextArea.style.left = \"-999999px\";\n\n\t\tdocument.body.prepend(textArea);\n\t\ttextArea.select();\n\n\t\ttry {\n\t\t\tdocument.execCommand(\"copy\");\n\t\t\tcopied = true;\n\t\t} catch (error) {\n\t\t\tconsole.error(error);\n\t\t\tcopied = false;\n\t\t} finally {\n\t\t\ttextArea.remove();\n\t\t}\n\t}\n\n\treturn copied;\n}\n\nexport const format_time = (seconds: number): string => {\n\tconst hours = Math.floor(seconds / 3600);\n\tconst minutes = Math.floor((seconds % 3600) / 60);\n\tconst seconds_remainder = Math.round(seconds) % 60;\n\tconst padded_minutes = `${minutes < 10 ? \"0\" : \"\"}${minutes}`;\n\tconst padded_seconds = `${\n\t\tseconds_remainder < 10 ? \"0\" : \"\"\n\t}${seconds_remainder}`;\n\n\tif (hours > 0) {\n\t\treturn `${hours}:${padded_minutes}:${padded_seconds}`;\n\t}\n\treturn `${minutes}:${padded_seconds}`;\n};\n\ninterface Args {\n\tapi_url: string;\n\tname: string;\n\tid?: string;\n\tvariant: \"component\" | \"example\" | \"base\";\n}\n\ntype component_loader = (args: Args) => {\n\tname: \"string\";\n\tcomponent: {\n\t\tdefault: ComponentType<SvelteComponent>;\n\t};\n};\n\nconst is_browser = typeof window !== \"undefined\";\n\nexport type I18nFormatter = any;\nexport class Gradio<T extends Record<string, any> = Record<string, any>> {\n\t#id: number;\n\ttheme: string;\n\tversion: string;\n\ti18n: I18nFormatter;\n\t#el: HTMLElement;\n\troot: string;\n\tautoscroll: boolean;\n\tmax_file_size: number | null;\n\tclient: Client;\n\t_load_component?: component_loader;\n\tload_component = _load_component.bind(this);\n\n\tconstructor(\n\t\tid: number,\n\t\tel: HTMLElement,\n\t\ttheme: string,\n\t\tversion: string,\n\t\troot: string,\n\t\tautoscroll: boolean,\n\t\tmax_file_size: number | null,\n\t\ti18n: I18nFormatter = (x: string): string => x,\n\t\tclient: Client,\n\t\tvirtual_component_loader?: component_loader\n\t) {\n\t\tthis.#id = id;\n\t\tthis.theme = theme;\n\t\tthis.version = version;\n\t\tthis.#el = el;\n\t\tthis.max_file_size = max_file_size;\n\n\t\tthis.i18n = i18n;\n\t\tthis.root = root;\n\t\tthis.autoscroll = autoscroll;\n\t\tthis.client = client;\n\n\t\tthis._load_component = virtual_component_loader;\n\t}\n\n\tdispatch<E extends keyof T>(event_name: E, data?: T[E]): void {\n\t\tif (!is_browser || !this.#el) return;\n\t\tconst e = new CustomEvent(\"gradio\", {\n\t\t\tbubbles: true,\n\t\t\tdetail: { data, id: this.#id, event: event_name }\n\t\t});\n\t\tthis.#el.dispatchEvent(e);\n\t}\n}\n\nfunction _load_component(\n\tthis: Gradio,\n\tname: string,\n\tvariant: \"component\" | \"example\" | \"base\" = \"component\"\n): ReturnType<component_loader> {\n\treturn this._load_component!({\n\t\tname,\n\t\tapi_url: this.client.config?.root!,\n\t\tvariant\n\t});\n}\n\nexport const css_units = (dimension_value: string | number): string => {\n\treturn typeof dimension_value === \"number\"\n\t\t? dimension_value + \"px\"\n\t\t: dimension_value;\n};\n","import { all_common_keys } from \"./i18n\";\nimport { _ } from \"svelte-i18n\";\nimport { get, derived } from \"svelte/store\";\nexport { Gradio } from \"@gradio/utils\";\n\nexport type I18nFormatter = typeof formatter;\n\nexport function formatter(value: string | null | undefined): string {\n\tif (value == null) {\n\t\treturn \"\";\n\t}\n\tconst string_value = String(value);\n\tconst translate = get(_);\n\n\tlet direct_translation = translate(string_value);\n\n\tif (direct_translation !== string_value) {\n\t\treturn direct_translation;\n\t}\n\n\tconst lower_value = string_value.toLowerCase();\n\n\tfor (const common_key of all_common_keys) {\n\t\tconst key_name = common_key.substring(common_key.indexOf(\".\") + 1);\n\n\t\tif (lower_value === key_name) {\n\t\t\tconst translation = translate(common_key);\n\n\t\t\tif (translation !== common_key) {\n\t\t\t\treturn translation;\n\t\t\t}\n\t\t\tbreak;\n\t\t}\n\t}\n\n\treturn string_value;\n}\n\nexport const reactive_formatter = derived(_, () => formatter);\n","export const loading = {\n\tar: \" \",\n\tca: \"S'est carregant\",\n\tckb: \"\",\n\tde: \"Laden\",\n\ten: \"Loading\",\n\tes: \"Cargando\",\n\teu: \"Kargatzen\",\n\tfa: \"  \",\n\tfi: \"Ladataan\",\n\tfr: \"Chargement\",\n\the: \"\",\n\thi: \"   \",\n\tja: \"\",\n\tko: \" \",\n\tlt: \"Kraunama\",\n\tnb: \"Laster\",\n\tnl: \"Laden\",\n\tpl: \"adowanie\",\n\t\"pt-BR\": \"Carregando\",\n\tpt: \"A carregar\",\n\tro: \"Se ncarc\",\n\tru: \"\",\n\tsv: \"Laddar\",\n\tta: \"\",\n\tth: \"\",\n\ttr: \"Ykleniyor\",\n\tuk: \"\",\n\tur: \"   \",\n\tuz: \"Yuklanmoqda\",\n\t\"zh-CN\": \"\",\n\t\"zh-TW\": \"\"\n};\n","import {\n\taddMessages,\n\tinit,\n\tgetLocaleFromNavigator,\n\tlocale,\n\tregister,\n\twaitLocale\n} from \"svelte-i18n\";\nimport { formatter } from \"./gradio_helper\";\nimport { loading } from \"./lang/loading\";\n\nconst lang_map = {\n\tar: \"\",\n\tca: \"Catal\",\n\tckb: \"\",\n\tde: \"Deutsch\",\n\ten: \"English\",\n\tes: \"Espaol\",\n\teu: \"Euskara\",\n\tfa: \"\",\n\tfi: \"Suomi\",\n\tfr: \"Franais\",\n\the: \"\",\n\thi: \"\",\n\tja: \"\",\n\tko: \"\",\n\tlt: \"Lietuvi\",\n\tnb: \"Norsk bokml\",\n\tnl: \"Nederlands\",\n\tpl: \"Polski\",\n\t\"pt-BR\": \"Portugus do Brasil\",\n\tpt: \"Portugus\",\n\tro: \"Romn\",\n\tru: \"\",\n\tsv: \"Svenska\",\n\tta: \"\",\n\tth: \"\",\n\ttr: \"Trke\",\n\tuk: \"\",\n\tur: \"\",\n\tuz: \"O'zbek\",\n\t\"zh-CN\": \"\",\n\t\"zh-TW\": \"\"\n};\n\nconst langs = import.meta.glob(\"./lang/*.json\");\nimport en from \"./lang/en.json\";\n\nexport interface I18nData {\n\t__type__: \"translation_metadata\";\n\tkey: string;\n}\n\nexport type Lang = {\n\t[key: string]: Record<string, string> | string;\n};\n\nexport interface LangsRecord {\n\t[lang: string]:\n\t\t| { type: \"lazy\"; data: () => Promise<Lang> }\n\t\t| { type: \"static\"; data: Lang };\n}\n\nexport function is_translation_metadata(obj: any): obj is I18nData {\n\tconst result =\n\t\tobj &&\n\t\ttypeof obj === \"object\" &&\n\t\tobj.__type__ === \"translation_metadata\" &&\n\t\ttypeof obj.key === \"string\";\n\n\treturn result;\n}\n\n// handles strings with embedded JSON metadata of shape \"__i18n__{\"key\": \"some.key\"}\"\nexport function translate_if_needed(value: any): string {\n\tif (typeof value !== \"string\") {\n\t\treturn value;\n\t}\n\n\tconst i18n_marker = \"__i18n__\";\n\tconst marker_index = value.indexOf(i18n_marker);\n\n\tif (marker_index === -1) {\n\t\treturn value;\n\t}\n\n\ttry {\n\t\tconst before_marker =\n\t\t\tmarker_index > 0 ? value.substring(0, marker_index) : \"\";\n\n\t\tconst after_marker_index = marker_index + i18n_marker.length;\n\t\tconst json_start = value.indexOf(\"{\", after_marker_index);\n\t\tlet json_end = -1;\n\t\tlet bracket_count = 0;\n\n\t\tfor (let i = json_start; i < value.length; i++) {\n\t\t\tif (value[i] === \"{\") bracket_count++;\n\t\t\tif (value[i] === \"}\") bracket_count--;\n\t\t\tif (bracket_count === 0) {\n\t\t\t\tjson_end = i + 1;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tif (json_end === -1) {\n\t\t\tconsole.error(\"Could not find end of JSON in i18n string\");\n\t\t\treturn value;\n\t\t}\n\n\t\tconst metadata_json = value.substring(json_start, json_end);\n\t\tconst after_json = json_end < value.length ? value.substring(json_end) : \"\";\n\n\t\ttry {\n\t\t\tconst metadata = JSON.parse(metadata_json);\n\n\t\t\tif (metadata && metadata.key) {\n\t\t\t\tconst translated = formatter(metadata.key);\n\t\t\t\treturn before_marker + translated + after_json;\n\t\t\t}\n\t\t} catch (jsonError) {\n\t\t\tconsole.error(\"Error parsing i18n JSON:\", jsonError);\n\t\t}\n\n\t\treturn value;\n\t} catch (e) {\n\t\tconsole.error(\"Error processing translation:\", e);\n\t\treturn value;\n\t}\n}\n\nexport function process_langs(): LangsRecord {\n\tconst lazy_langs = Object.fromEntries(\n\t\tObject.entries(langs).map(([path, mod]) => [\n\t\t\tpath.split(\"/\").pop()!.split(\".\")[0],\n\t\t\t{ type: \"lazy\", data: mod }\n\t\t])\n\t);\n\n\treturn {\n\t\t...lazy_langs,\n\t\ten: { type: \"static\", data: en }\n\t};\n}\n\nconst processed_langs = process_langs();\nconst available_locales = Object.keys(processed_langs);\n\nexport const language_choices: [string, string][] = Object.entries(\n\tprocessed_langs\n).map(([code]) => [lang_map[code as keyof typeof lang_map] || code, code]);\n\nexport let all_common_keys: Set<string> = new Set();\n\nlet i18n_initialized = false;\nlet previous_translations: Record<string, Record<string, string>> | undefined;\n\nexport async function setupi18n(\n\tcustom_translations?: Record<string, Record<string, string>>\n): Promise<void> {\n\tconst should_reinitialize =\n\t\ti18n_initialized && custom_translations !== previous_translations;\n\n\tif (i18n_initialized && !should_reinitialize) {\n\t\treturn;\n\t}\n\n\tprevious_translations = custom_translations;\n\n\tload_translations({\n\t\tprocessed_langs,\n\t\tcustom_translations: custom_translations ?? {}\n\t});\n\n\tconst browser_locale = getLocaleFromNavigator();\n\n\tlet initial_locale =\n\t\tbrowser_locale && available_locales.includes(browser_locale)\n\t\t\t? browser_locale\n\t\t\t: null;\n\n\tif (!initial_locale) {\n\t\tconst normalized_locale = browser_locale?.split(\"-\")[0];\n\t\tinitial_locale =\n\t\t\tnormalized_locale && available_locales.includes(normalized_locale)\n\t\t\t\t? normalized_locale\n\t\t\t\t: \"en\";\n\t}\n\n\tawait init({\n\t\tfallbackLocale: \"en\",\n\t\tinitialLocale: initial_locale\n\t});\n\n\ti18n_initialized = true;\n}\n\nexport function changeLocale(new_locale: string): void {\n\tlocale.set(new_locale);\n}\n\nexport function get_initial_locale(\n\tbrowser_locale: string | null,\n\tavailable_locales: string[],\n\tfallback_locale = \"en\"\n): string {\n\tif (!browser_locale) return fallback_locale;\n\n\tif (available_locales.includes(browser_locale)) {\n\t\treturn browser_locale;\n\t}\n\n\treturn fallback_locale;\n}\n\nexport function load_translations(translations: {\n\tprocessed_langs: LangsRecord;\n\tcustom_translations: Record<string, Record<string, string>>;\n}): void {\n\tif (!translations) {\n\t\treturn;\n\t}\n\n\ttry {\n\t\tfor (const lang in translations.custom_translations) {\n\t\t\taddMessages(lang, translations.custom_translations[lang]);\n\t\t}\n\n\t\tfor (const lang in translations.processed_langs) {\n\t\t\tif (\n\t\t\t\tlang === \"en\" &&\n\t\t\t\ttranslations.processed_langs[lang].type === \"static\"\n\t\t\t) {\n\t\t\t\taddMessages(lang, en);\n\t\t\t} else if (translations.processed_langs[lang].type === \"lazy\") {\n\t\t\t\tregister(lang, translations.processed_langs[lang].data);\n\t\t\t}\n\t\t}\n\t} catch (e) {\n\t\tconsole.error(\"Error loading translations:\", e);\n\t}\n\n\tfor (const lang in loading) {\n\t\taddMessages(lang, {\n\t\t\tcommon: { loading: loading[lang as keyof typeof loading] }\n\t\t});\n\t}\n}\n","var fn = new Intl.Collator(0, { numeric:1 }).compare;\n\nexport default function (a, b, bool) {\n\ta = a.split('.');\n\tb = b.split('.');\n\n\treturn fn(a[0], b[0]) || fn(a[1], b[1]) || (\n\t\tb[2] = b.slice(2).join('.'),\n\t\tbool = /[.-]/.test(a[2] = a.slice(2).join('.')),\n\t\tbool == /[.-]/.test(b[2]) ? fn(a[2], b[2]) : bool ? -1 : 1\n\t);\n}\n","// endpoints\nexport const HOST_URL = `host`;\nexport const API_URL = `predict/`;\nexport const SSE_URL_V0 = `queue/join`;\nexport const SSE_DATA_URL_V0 = `queue/data`;\nexport const SSE_URL = `queue/data`;\nexport const SSE_DATA_URL = `queue/join`;\nexport const UPLOAD_URL = `upload`;\nexport const LOGIN_URL = `login`;\nexport const CONFIG_URL = `config`;\nexport const API_INFO_URL = `info`;\nexport const RUNTIME_URL = `runtime`;\nexport const SLEEPTIME_URL = `sleeptime`;\nexport const HEARTBEAT_URL = `heartbeat`;\nexport const COMPONENT_SERVER_URL = `component_server`;\nexport const RESET_URL = `reset`;\nexport const CANCEL_URL = `cancel`;\nexport const APP_ID_URL = `app_id`;\n\nexport const RAW_API_INFO_URL = `info?serialize=False`;\nexport const SPACE_FETCHER_URL =\n\t\"https://gradio-space-api-fetcher-v2.hf.space/api\";\nexport const SPACE_URL = \"https://hf.space/{}\";\n\n// messages\nexport const QUEUE_FULL_MSG =\n\t\"This application is currently busy. Please try again. \";\nexport const BROKEN_CONNECTION_MSG = \"Connection errored out. \";\nexport const CONFIG_ERROR_MSG = \"Could not resolve app config. \";\nexport const SPACE_STATUS_ERROR_MSG = \"Could not get space status. \";\nexport const API_INFO_ERROR_MSG = \"Could not get API info. \";\nexport const SPACE_METADATA_ERROR_MSG = \"Space metadata could not be loaded. \";\nexport const INVALID_URL_MSG = \"Invalid URL. A full URL path is required.\";\nexport const UNAUTHORIZED_MSG = \"Not authorized to access this space. \";\nexport const INVALID_CREDENTIALS_MSG = \"Invalid credentials. Could not login. \";\nexport const MISSING_CREDENTIALS_MSG =\n\t\"Login credentials are required to access this space.\";\nexport const NODEJS_FS_ERROR_MSG =\n\t\"File system access is only available in Node.js environments\";\nexport const ROOT_URL_ERROR_MSG = \"Root URL not found in client config\";\nexport const FILE_PROCESSING_ERROR_MSG = \"Error uploading file\";\n","import type { Config } from \"../types\";\nimport {\n\tCONFIG_ERROR_MSG,\n\tCONFIG_URL,\n\tINVALID_CREDENTIALS_MSG,\n\tLOGIN_URL,\n\tMISSING_CREDENTIALS_MSG,\n\tSPACE_METADATA_ERROR_MSG,\n\tUNAUTHORIZED_MSG\n} from \"../constants\";\nimport { Client } from \"..\";\nimport { join_urls, process_endpoint } from \"./api_info\";\n\n/**\n * This function is used to resolve the URL for making requests when the app has a root path.\n * The root path could be a path suffix like \"/app\" which is appended to the end of the base URL. Or\n * it could be a full URL like \"https://abidlabs-test-client-replica--gqf2x.hf.space\" which is used when hosting\n * Gradio apps on Hugging Face Spaces.\n * @param {string} base_url The base URL at which the Gradio server is hosted\n * @param {string} root_path The root path, which could be a path suffix (e.g. mounted in FastAPI app) or a full URL (e.g. hosted on Hugging Face Spaces)\n * @param {boolean} prioritize_base Whether to prioritize the base URL over the root path. This is used when both the base path and root paths are full URLs. For example, for fetching files the root path should be prioritized, but for making requests, the base URL should be prioritized.\n * @returns {string} the resolved URL\n */\nexport function resolve_root(\n\tbase_url: string,\n\troot_path: string,\n\tprioritize_base: boolean\n): string {\n\tif (root_path.startsWith(\"http://\") || root_path.startsWith(\"https://\")) {\n\t\treturn prioritize_base ? base_url : root_path;\n\t}\n\treturn base_url + root_path;\n}\n\nexport async function get_jwt(\n\tspace: string,\n\ttoken: `hf_${string}`,\n\tcookies?: string | null\n): Promise<string | false> {\n\ttry {\n\t\tconst r = await fetch(`https://huggingface.co/api/spaces/${space}/jwt`, {\n\t\t\theaders: {\n\t\t\t\tAuthorization: `Bearer ${token}`,\n\t\t\t\t...(cookies ? { Cookie: cookies } : {})\n\t\t\t}\n\t\t});\n\n\t\tconst jwt = (await r.json()).token;\n\n\t\treturn jwt || false;\n\t} catch (e) {\n\t\treturn false;\n\t}\n}\n\nexport function map_names_to_ids(\n\tfns: Config[\"dependencies\"]\n): Record<string, number> {\n\tlet apis: Record<string, number> = {};\n\n\tfns.forEach(({ api_name, id }) => {\n\t\tif (api_name) apis[api_name] = id;\n\t});\n\treturn apis;\n}\n\nexport async function resolve_config(\n\tthis: Client,\n\tendpoint: string\n): Promise<Config | undefined> {\n\tconst headers: Record<string, string> = this.options.hf_token\n\t\t? { Authorization: `Bearer ${this.options.hf_token}` }\n\t\t: {};\n\n\theaders[\"Content-Type\"] = \"application/json\";\n\n\tif (\n\t\ttypeof window !== \"undefined\" &&\n\t\twindow.gradio_config &&\n\t\tlocation.origin !== \"http://localhost:9876\" &&\n\t\t!window.gradio_config.dev_mode\n\t) {\n\t\tif (window.gradio_config.current_page) {\n\t\t\tendpoint = endpoint.substring(0, endpoint.lastIndexOf(\"/\"));\n\t\t}\n\t\twindow.gradio_config.root = endpoint;\n\t\t// @ts-ignore\n\t\treturn { ...window.gradio_config } as Config;\n\t} else if (endpoint) {\n\t\tlet config_url = join_urls(\n\t\t\tendpoint,\n\t\t\tthis.deep_link ? CONFIG_URL + \"?deep_link=\" + this.deep_link : CONFIG_URL\n\t\t);\n\n\t\tconst response = await this.fetch(config_url, {\n\t\t\theaders,\n\t\t\tcredentials: \"include\"\n\t\t});\n\n\t\treturn handleConfigResponse(response, endpoint, !!this.options.auth);\n\t}\n\n\tthrow new Error(CONFIG_ERROR_MSG);\n}\n\nasync function handleConfigResponse(\n\tresponse: Response,\n\tendpoint: string,\n\tauthorized: boolean\n): Promise<Config> {\n\tif (response?.status === 401 && !authorized) {\n\t\tconst error_data = await response.json();\n\t\tconst auth_message = error_data?.detail?.auth_message;\n\t\tthrow new Error(auth_message || MISSING_CREDENTIALS_MSG);\n\t} else if (response?.status === 401 && authorized) {\n\t\tthrow new Error(INVALID_CREDENTIALS_MSG);\n\t}\n\n\tif (response?.status === 200) {\n\t\tlet config = await response.json();\n\t\tconfig.root = endpoint;\n\t\tconfig.dependencies?.forEach((dep: any, i: number) => {\n\t\t\tif (dep.id === undefined) {\n\t\t\t\tdep.id = i;\n\t\t\t}\n\t\t});\n\t\treturn config;\n\t} else if (response?.status === 401) {\n\t\tthrow new Error(UNAUTHORIZED_MSG);\n\t}\n\n\tthrow new Error(CONFIG_ERROR_MSG);\n}\n\nexport async function resolve_cookies(this: Client): Promise<void> {\n\tconst { http_protocol, host } = await process_endpoint(\n\t\tthis.app_reference,\n\t\tthis.options.hf_token\n\t);\n\n\ttry {\n\t\tif (this.options.auth) {\n\t\t\tconst cookie_header = await get_cookie_header(\n\t\t\t\thttp_protocol,\n\t\t\t\thost,\n\t\t\t\tthis.options.auth,\n\t\t\t\tthis.fetch,\n\t\t\t\tthis.options.hf_token\n\t\t\t);\n\n\t\t\tif (cookie_header) this.set_cookies(cookie_header);\n\t\t}\n\t} catch (e: unknown) {\n\t\tthrow Error((e as Error).message);\n\t}\n}\n\n// separating this from client-bound resolve_cookies so that it can be used in duplicate\nexport async function get_cookie_header(\n\thttp_protocol: string,\n\thost: string,\n\tauth: [string, string],\n\t_fetch: typeof fetch,\n\thf_token?: `hf_${string}`\n): Promise<string | null> {\n\tconst formData = new FormData();\n\tformData.append(\"username\", auth?.[0]);\n\tformData.append(\"password\", auth?.[1]);\n\n\tlet headers: { Authorization?: string } = {};\n\n\tif (hf_token) {\n\t\theaders.Authorization = `Bearer ${hf_token}`;\n\t}\n\n\tconst res = await _fetch(`${http_protocol}//${host}/${LOGIN_URL}`, {\n\t\theaders,\n\t\tmethod: \"POST\",\n\t\tbody: formData,\n\t\tcredentials: \"include\"\n\t});\n\n\tif (res.status === 200) {\n\t\treturn res.headers.get(\"set-cookie\");\n\t} else if (res.status === 401) {\n\t\tthrow new Error(INVALID_CREDENTIALS_MSG);\n\t} else {\n\t\tthrow new Error(SPACE_METADATA_ERROR_MSG);\n\t}\n}\n\nexport function determine_protocol(endpoint: string): {\n\tws_protocol: \"ws\" | \"wss\";\n\thttp_protocol: \"http:\" | \"https:\";\n\thost: string;\n} {\n\tif (endpoint.startsWith(\"http\")) {\n\t\tconst { protocol, host, pathname } = new URL(endpoint);\n\n\t\treturn {\n\t\t\tws_protocol: protocol === \"https:\" ? \"wss\" : \"ws\",\n\t\t\thttp_protocol: protocol as \"http:\" | \"https:\",\n\t\t\thost: host + (pathname !== \"/\" ? pathname : \"\")\n\t\t};\n\t} else if (endpoint.startsWith(\"file:\")) {\n\t\t// This case is only expected to be used for the Wasm mode (Gradio-lite),\n\t\t// where users can create a local HTML file using it and open the page in a browser directly via the `file:` protocol.\n\t\treturn {\n\t\t\tws_protocol: \"ws\",\n\t\t\thttp_protocol: \"http:\",\n\t\t\thost: \"lite.local\" // Special fake hostname only used for this case. This matches the hostname allowed in `is_self_host()` in `js/wasm/network/host.ts`.\n\t\t};\n\t}\n\n\t// default to secure if no protocol is provided\n\n\treturn {\n\t\tws_protocol: \"wss\",\n\t\thttp_protocol: \"https:\",\n\t\thost: new URL(endpoint).host\n\t};\n}\n\nexport const parse_and_set_cookies = (cookie_header: string): string[] => {\n\tlet cookies: string[] = [];\n\tconst parts = cookie_header.split(/,(?=\\s*[^\\s=;]+=[^\\s=;]+)/);\n\tparts.forEach((cookie) => {\n\t\tconst [cookie_name, cookie_value] = cookie.split(\";\")[0].split(\"=\");\n\t\tif (cookie_name && cookie_value) {\n\t\t\tcookies.push(`${cookie_name.trim()}=${cookie_value.trim()}`);\n\t\t}\n\t});\n\treturn cookies;\n};\n","import {\n\tHOST_URL,\n\tINVALID_URL_MSG,\n\tQUEUE_FULL_MSG,\n\tSPACE_METADATA_ERROR_MSG\n} from \"../constants\";\nimport type {\n\tApiData,\n\tApiInfo,\n\tConfig,\n\tJsApiData,\n\tEndpointInfo,\n\tStatus\n} from \"../types\";\nimport { determine_protocol } from \"./init_helpers\";\n\nexport const RE_SPACE_NAME = /^[a-zA-Z0-9_\\-\\.]+\\/[a-zA-Z0-9_\\-\\.]+$/;\nexport const RE_SPACE_DOMAIN = /.*hf\\.space\\/{0,1}.*$/;\n\nexport async function process_endpoint(\n\tapp_reference: string,\n\thf_token?: `hf_${string}`\n): Promise<{\n\tspace_id: string | false;\n\thost: string;\n\tws_protocol: \"ws\" | \"wss\";\n\thttp_protocol: \"http:\" | \"https:\";\n}> {\n\tconst headers: { Authorization?: string } = {};\n\tif (hf_token) {\n\t\theaders.Authorization = `Bearer ${hf_token}`;\n\t}\n\n\tconst _app_reference = app_reference.trim().replace(/\\/$/, \"\");\n\n\tif (RE_SPACE_NAME.test(_app_reference)) {\n\t\t// app_reference is a HF space name\n\t\ttry {\n\t\t\tconst res = await fetch(\n\t\t\t\t`https://huggingface.co/api/spaces/${_app_reference}/${HOST_URL}`,\n\t\t\t\t{ headers }\n\t\t\t);\n\n\t\t\tconst _host = (await res.json()).host;\n\n\t\t\treturn {\n\t\t\t\tspace_id: app_reference,\n\t\t\t\t...determine_protocol(_host)\n\t\t\t};\n\t\t} catch (e) {\n\t\t\tthrow new Error(SPACE_METADATA_ERROR_MSG);\n\t\t}\n\t}\n\n\tif (RE_SPACE_DOMAIN.test(_app_reference)) {\n\t\t// app_reference is a direct HF space domain\n\t\tconst { ws_protocol, http_protocol, host } =\n\t\t\tdetermine_protocol(_app_reference);\n\n\t\treturn {\n\t\t\tspace_id: host.split(\"/\")[0].replace(\".hf.space\", \"\"),\n\t\t\tws_protocol,\n\t\t\thttp_protocol,\n\t\t\thost\n\t\t};\n\t}\n\n\treturn {\n\t\tspace_id: false,\n\t\t...determine_protocol(_app_reference)\n\t};\n}\n\nexport const join_urls = (...urls: string[]): string => {\n\ttry {\n\t\treturn urls.reduce((base_url: string, part: string) => {\n\t\t\tbase_url = base_url.replace(/\\/+$/, \"\");\n\t\t\tpart = part.replace(/^\\/+/, \"\");\n\t\t\treturn new URL(part, base_url + \"/\").toString();\n\t\t});\n\t} catch (e) {\n\t\tthrow new Error(INVALID_URL_MSG);\n\t}\n};\n\nexport function transform_api_info(\n\tapi_info: ApiInfo<ApiData>,\n\tconfig: Config,\n\tapi_map: Record<string, number>\n): ApiInfo<JsApiData> {\n\tconst transformed_info: ApiInfo<JsApiData> = {\n\t\tnamed_endpoints: {},\n\t\tunnamed_endpoints: {}\n\t};\n\n\tObject.keys(api_info).forEach((category) => {\n\t\tif (category === \"named_endpoints\" || category === \"unnamed_endpoints\") {\n\t\t\ttransformed_info[category] = {};\n\n\t\t\tObject.entries(api_info[category]).forEach(\n\t\t\t\t([endpoint, { parameters, returns }]) => {\n\t\t\t\t\tconst dependencyIndex =\n\t\t\t\t\t\tconfig.dependencies.find(\n\t\t\t\t\t\t\t(dep) =>\n\t\t\t\t\t\t\t\tdep.api_name === endpoint ||\n\t\t\t\t\t\t\t\tdep.api_name === endpoint.replace(\"/\", \"\")\n\t\t\t\t\t\t)?.id ||\n\t\t\t\t\t\tapi_map[endpoint.replace(\"/\", \"\")] ||\n\t\t\t\t\t\t-1;\n\n\t\t\t\t\tconst dependencyTypes =\n\t\t\t\t\t\tdependencyIndex !== -1\n\t\t\t\t\t\t\t? config.dependencies.find((dep) => dep.id == dependencyIndex)\n\t\t\t\t\t\t\t\t\t?.types\n\t\t\t\t\t\t\t: { generator: false, cancel: false };\n\n\t\t\t\t\tif (\n\t\t\t\t\t\tdependencyIndex !== -1 &&\n\t\t\t\t\t\tconfig.dependencies.find((dep) => dep.id == dependencyIndex)?.inputs\n\t\t\t\t\t\t\t?.length !== parameters.length\n\t\t\t\t\t) {\n\t\t\t\t\t\tconst components = config.dependencies\n\t\t\t\t\t\t\t.find((dep) => dep.id == dependencyIndex)!\n\t\t\t\t\t\t\t.inputs.map(\n\t\t\t\t\t\t\t\t(input) => config.components.find((c) => c.id === input)?.type\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tcomponents.forEach((comp, idx) => {\n\t\t\t\t\t\t\t\tif (comp === \"state\") {\n\t\t\t\t\t\t\t\t\tconst new_param = {\n\t\t\t\t\t\t\t\t\t\tcomponent: \"state\",\n\t\t\t\t\t\t\t\t\t\texample: null,\n\t\t\t\t\t\t\t\t\t\tparameter_default: null,\n\t\t\t\t\t\t\t\t\t\tparameter_has_default: true,\n\t\t\t\t\t\t\t\t\t\tparameter_name: null,\n\t\t\t\t\t\t\t\t\t\thidden: true\n\t\t\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\t\t\t// @ts-ignore\n\t\t\t\t\t\t\t\t\tparameters.splice(idx, 0, new_param);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\t\tconsole.error(e);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tconst transform_type = (\n\t\t\t\t\t\tdata: ApiData,\n\t\t\t\t\t\tcomponent: string,\n\t\t\t\t\t\tserializer: string,\n\t\t\t\t\t\tsignature_type: \"return\" | \"parameter\"\n\t\t\t\t\t): JsApiData => ({\n\t\t\t\t\t\t...data,\n\t\t\t\t\t\tdescription: get_description(data?.type, serializer),\n\t\t\t\t\t\ttype:\n\t\t\t\t\t\t\tget_type(data?.type, component, serializer, signature_type) || \"\"\n\t\t\t\t\t});\n\n\t\t\t\t\ttransformed_info[category][endpoint] = {\n\t\t\t\t\t\tparameters: parameters.map((p: ApiData) =>\n\t\t\t\t\t\t\ttransform_type(p, p?.component, p?.serializer, \"parameter\")\n\t\t\t\t\t\t),\n\t\t\t\t\t\treturns: returns.map((r: ApiData) =>\n\t\t\t\t\t\t\ttransform_type(r, r?.component, r?.serializer, \"return\")\n\t\t\t\t\t\t),\n\t\t\t\t\t\ttype: dependencyTypes\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\t});\n\n\treturn transformed_info;\n}\n\nexport function get_type(\n\ttype: { type: any; description: string },\n\tcomponent: string,\n\tserializer: string,\n\tsignature_type: \"return\" | \"parameter\"\n): string | undefined {\n\tif (component === \"Api\") return type.type;\n\tswitch (type?.type) {\n\t\tcase \"string\":\n\t\t\treturn \"string\";\n\t\tcase \"boolean\":\n\t\t\treturn \"boolean\";\n\t\tcase \"number\":\n\t\t\treturn \"number\";\n\t}\n\n\tif (\n\t\tserializer === \"JSONSerializable\" ||\n\t\tserializer === \"StringSerializable\"\n\t) {\n\t\treturn \"any\";\n\t} else if (serializer === \"ListStringSerializable\") {\n\t\treturn \"string[]\";\n\t} else if (component === \"Image\") {\n\t\treturn signature_type === \"parameter\" ? \"Blob | File | Buffer\" : \"string\";\n\t} else if (serializer === \"FileSerializable\") {\n\t\tif (type?.type === \"array\") {\n\t\t\treturn signature_type === \"parameter\"\n\t\t\t\t? \"(Blob | File | Buffer)[]\"\n\t\t\t\t: `{ name: string; data: string; size?: number; is_file?: boolean; orig_name?: string}[]`;\n\t\t}\n\t\treturn signature_type === \"parameter\"\n\t\t\t? \"Blob | File | Buffer\"\n\t\t\t: `{ name: string; data: string; size?: number; is_file?: boolean; orig_name?: string}`;\n\t} else if (serializer === \"GallerySerializable\") {\n\t\treturn signature_type === \"parameter\"\n\t\t\t? \"[(Blob | File | Buffer), (string | null)][]\"\n\t\t\t: `[{ name: string; data: string; size?: number; is_file?: boolean; orig_name?: string}, (string | null))][]`;\n\t}\n}\n\nexport function get_description(\n\ttype: { type: any; description: string },\n\tserializer: string\n): string {\n\tif (serializer === \"GallerySerializable\") {\n\t\treturn \"array of [file, label] tuples\";\n\t} else if (serializer === \"ListStringSerializable\") {\n\t\treturn \"array of strings\";\n\t} else if (serializer === \"FileSerializable\") {\n\t\treturn \"array of files or single file\";\n\t}\n\treturn type?.description;\n}\n\n/* eslint-disable complexity */\nexport function handle_message(\n\tdata: any,\n\tlast_status: Status[\"stage\"]\n): {\n\ttype:\n\t\t| \"hash\"\n\t\t| \"data\"\n\t\t| \"update\"\n\t\t| \"complete\"\n\t\t| \"generating\"\n\t\t| \"log\"\n\t\t| \"none\"\n\t\t| \"heartbeat\"\n\t\t| \"streaming\"\n\t\t| \"broken_connection\"\n\t\t| \"unexpected_error\";\n\tdata?: any;\n\tstatus?: Status;\n\toriginal_msg?: string;\n} {\n\tconst queue = true;\n\tswitch (data.msg) {\n\t\tcase \"send_data\":\n\t\t\treturn { type: \"data\" };\n\t\tcase \"send_hash\":\n\t\t\treturn { type: \"hash\" };\n\t\tcase \"queue_full\":\n\t\t\treturn {\n\t\t\t\ttype: \"update\",\n\t\t\t\tstatus: {\n\t\t\t\t\tqueue,\n\t\t\t\t\tmessage: QUEUE_FULL_MSG,\n\t\t\t\t\tstage: \"error\",\n\t\t\t\t\tcode: data.code,\n\t\t\t\t\tsuccess: data.success\n\t\t\t\t}\n\t\t\t};\n\t\tcase \"heartbeat\":\n\t\t\treturn {\n\t\t\t\ttype: \"heartbeat\"\n\t\t\t};\n\t\tcase \"unexpected_error\":\n\t\t\treturn {\n\t\t\t\ttype: \"unexpected_error\",\n\t\t\t\tstatus: {\n\t\t\t\t\tqueue,\n\t\t\t\t\tmessage: data.message,\n\t\t\t\t\tsession_not_found: data.session_not_found,\n\t\t\t\t\tstage: \"error\",\n\t\t\t\t\tsuccess: false\n\t\t\t\t}\n\t\t\t};\n\t\tcase \"broken_connection\":\n\t\t\treturn {\n\t\t\t\ttype: \"broken_connection\",\n\t\t\t\tstatus: {\n\t\t\t\t\tqueue,\n\t\t\t\t\tmessage: data.message,\n\t\t\t\t\tstage: \"error\",\n\t\t\t\t\tsuccess: false\n\t\t\t\t}\n\t\t\t};\n\t\tcase \"estimation\":\n\t\t\treturn {\n\t\t\t\ttype: \"update\",\n\t\t\t\tstatus: {\n\t\t\t\t\tqueue,\n\t\t\t\t\tstage: last_status || \"pending\",\n\t\t\t\t\tcode: data.code,\n\t\t\t\t\tsize: data.queue_size,\n\t\t\t\t\tposition: data.rank,\n\t\t\t\t\teta: data.rank_eta,\n\t\t\t\t\tsuccess: data.success\n\t\t\t\t}\n\t\t\t};\n\t\tcase \"progress\":\n\t\t\treturn {\n\t\t\t\ttype: \"update\",\n\t\t\t\tstatus: {\n\t\t\t\t\tqueue,\n\t\t\t\t\tstage: \"pending\",\n\t\t\t\t\tcode: data.code,\n\t\t\t\t\tprogress_data: data.progress_data,\n\t\t\t\t\tsuccess: data.success\n\t\t\t\t}\n\t\t\t};\n\t\tcase \"log\":\n\t\t\treturn { type: \"log\", data: data };\n\t\tcase \"process_generating\":\n\t\t\treturn {\n\t\t\t\ttype: \"generating\",\n\t\t\t\tstatus: {\n\t\t\t\t\tqueue,\n\t\t\t\t\tmessage: !data.success ? data.output.error : null,\n\t\t\t\t\tstage: data.success ? \"generating\" : \"error\",\n\t\t\t\t\tcode: data.code,\n\t\t\t\t\tprogress_data: data.progress_data,\n\t\t\t\t\teta: data.average_duration,\n\t\t\t\t\tchanged_state_ids: data.success\n\t\t\t\t\t\t? data.output.changed_state_ids\n\t\t\t\t\t\t: undefined\n\t\t\t\t},\n\t\t\t\tdata: data.success ? data.output : null\n\t\t\t};\n\t\tcase \"process_streaming\":\n\t\t\treturn {\n\t\t\t\ttype: \"streaming\",\n\t\t\t\tstatus: {\n\t\t\t\t\tqueue,\n\t\t\t\t\tmessage: data.output.error,\n\t\t\t\t\tstage: \"streaming\",\n\t\t\t\t\ttime_limit: data.time_limit,\n\t\t\t\t\tcode: data.code,\n\t\t\t\t\tprogress_data: data.progress_data,\n\t\t\t\t\teta: data.eta\n\t\t\t\t},\n\t\t\t\tdata: data.output\n\t\t\t};\n\t\tcase \"process_completed\":\n\t\t\tif (\"error\" in data.output) {\n\t\t\t\treturn {\n\t\t\t\t\ttype: \"update\",\n\t\t\t\t\tstatus: {\n\t\t\t\t\t\tqueue,\n\t\t\t\t\t\ttitle: data.output.title as string,\n\t\t\t\t\t\tmessage: data.output.error as string,\n\t\t\t\t\t\tvisible: data.output.visible as boolean,\n\t\t\t\t\t\tduration: data.output.duration as number,\n\t\t\t\t\t\tstage: \"error\",\n\t\t\t\t\t\tcode: data.code,\n\t\t\t\t\t\tsuccess: data.success\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t}\n\t\t\treturn {\n\t\t\t\ttype: \"complete\",\n\t\t\t\tstatus: {\n\t\t\t\t\tqueue,\n\t\t\t\t\tmessage: !data.success ? data.output.error : undefined,\n\t\t\t\t\tstage: data.success ? \"complete\" : \"error\",\n\t\t\t\t\tcode: data.code,\n\t\t\t\t\tprogress_data: data.progress_data,\n\t\t\t\t\tchanged_state_ids: data.success\n\t\t\t\t\t\t? data.output.changed_state_ids\n\t\t\t\t\t\t: undefined\n\t\t\t\t},\n\t\t\t\tdata: data.success ? data.output : null\n\t\t\t};\n\n\t\tcase \"process_starts\":\n\t\t\treturn {\n\t\t\t\ttype: \"update\",\n\t\t\t\tstatus: {\n\t\t\t\t\tqueue,\n\t\t\t\t\tstage: \"pending\",\n\t\t\t\t\tcode: data.code,\n\t\t\t\t\tsize: data.rank,\n\t\t\t\t\tposition: 0,\n\t\t\t\t\tsuccess: data.success,\n\t\t\t\t\teta: data.eta\n\t\t\t\t},\n\t\t\t\toriginal_msg: \"process_starts\"\n\t\t\t};\n\t}\n\n\treturn { type: \"none\", status: { stage: \"error\", queue } };\n}\n/* eslint-enable complexity */\n\n/**\n * Maps the provided `data` to the parameters defined by the `/info` endpoint response.\n * This allows us to support both positional and keyword arguments passed to the client\n * and ensures that all parameters are either directly provided or have default values assigned.\n *\n * @param {unknown[] | Record<string, unknown>} data - The input data for the function,\n *        which can be either an array of values for positional arguments or an object\n *        with key-value pairs for keyword arguments.\n * @param {JsApiData[]} parameters - Array of parameter descriptions retrieved from the\n *        `/info` endpoint.\n *\n * @returns {unknown[]} - Returns an array of resolved data where each element corresponds\n *         to the expected parameter from the API. The `parameter_default` value is used where\n *         a value is not provided for a parameter, and optional parameters without defaults are\n * \t\t   set to `undefined`.\n *\n * @throws {Error} - Throws an error:\n *         - If more arguments are provided than are defined in the parameters.\n *  *      - If no parameter value is provided for a required parameter and no default value is defined.\n *         - If an argument is provided that does not match any defined parameter.\n */\n\nexport const map_data_to_params = (\n\tdata: unknown[] | Record<string, unknown> = [],\n\tendpoint_info: EndpointInfo<JsApiData | ApiData>\n): unknown[] => {\n\t// Workaround for the case where the endpoint_info is undefined\n\t// See https://github.com/gradio-app/gradio/pull/8820#issuecomment-2237381761\n\tconst parameters = endpoint_info ? endpoint_info.parameters : [];\n\n\tif (Array.isArray(data)) {\n\t\tif (\n\t\t\tendpoint_info &&\n\t\t\tparameters.length > 0 &&\n\t\t\tdata.length > parameters.length\n\t\t) {\n\t\t\tconsole.warn(\"Too many arguments provided for the endpoint.\");\n\t\t}\n\t\treturn data;\n\t}\n\n\tconst resolved_data: unknown[] = [];\n\tconst provided_keys = Object.keys(data);\n\n\tparameters.forEach((param, index) => {\n\t\tif (data.hasOwnProperty(param.parameter_name)) {\n\t\t\tresolved_data[index] = data[param.parameter_name];\n\t\t} else if (param.parameter_has_default) {\n\t\t\tresolved_data[index] = param.parameter_default;\n\t\t} else {\n\t\t\tthrow new Error(\n\t\t\t\t`No value provided for required parameter: ${param.parameter_name}`\n\t\t\t);\n\t\t}\n\t});\n\n\tprovided_keys.forEach((key) => {\n\t\tif (!parameters.some((param) => param.parameter_name === key)) {\n\t\t\tthrow new Error(\n\t\t\t\t`Parameter \\`${key}\\` is not a valid keyword argument. Please refer to the API for usage.`\n\t\t\t);\n\t\t}\n\t});\n\n\tresolved_data.forEach((value, idx) => {\n\t\tif (value === undefined && !parameters[idx].parameter_has_default) {\n\t\t\tthrow new Error(\n\t\t\t\t`No value provided for required parameter: ${parameters[idx].parameter_name}`\n\t\t\t);\n\t\t}\n\t});\n\n\treturn resolved_data;\n};\n","import type { ApiInfo, ApiData } from \"../types\";\nimport semiver from \"semiver\";\nimport { API_INFO_URL, BROKEN_CONNECTION_MSG } from \"../constants\";\nimport { Client } from \"../client\";\nimport { SPACE_FETCHER_URL } from \"../constants\";\nimport { join_urls, transform_api_info } from \"../helpers/api_info\";\n\nexport async function view_api(this: Client): Promise<any> {\n\tif (this.api_info) return this.api_info;\n\n\tconst { hf_token } = this.options;\n\tconst { config } = this;\n\n\tconst headers: {\n\t\tAuthorization?: string;\n\t\t\"Content-Type\": \"application/json\";\n\t} = { \"Content-Type\": \"application/json\" };\n\n\tif (hf_token) {\n\t\theaders.Authorization = `Bearer ${hf_token}`;\n\t}\n\n\tif (!config) {\n\t\treturn;\n\t}\n\n\ttry {\n\t\tlet response: Response;\n\t\tlet api_info: ApiInfo<ApiData> | { api: ApiInfo<ApiData> };\n\t\tif (typeof window !== \"undefined\" && window.gradio_api_info) {\n\t\t\tapi_info = window.gradio_api_info;\n\t\t} else {\n\t\t\tif (semiver(config?.version || \"2.0.0\", \"3.30\") < 0) {\n\t\t\t\tresponse = await this.fetch(SPACE_FETCHER_URL, {\n\t\t\t\t\tmethod: \"POST\",\n\t\t\t\t\tbody: JSON.stringify({\n\t\t\t\t\t\tserialize: false,\n\t\t\t\t\t\tconfig: JSON.stringify(config)\n\t\t\t\t\t}),\n\t\t\t\t\theaders,\n\t\t\t\t\tcredentials: \"include\"\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tconst url = join_urls(config.root, this.api_prefix, API_INFO_URL);\n\t\t\t\tresponse = await this.fetch(url, {\n\t\t\t\t\theaders,\n\t\t\t\t\tcredentials: \"include\"\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif (!response.ok) {\n\t\t\t\tthrow new Error(BROKEN_CONNECTION_MSG);\n\t\t\t}\n\t\t\tapi_info = await response.json();\n\t\t}\n\t\tif (\"api\" in api_info) {\n\t\t\tapi_info = api_info.api;\n\t\t}\n\n\t\tif (\n\t\t\tapi_info.named_endpoints[\"/predict\"] &&\n\t\t\t!api_info.unnamed_endpoints[\"0\"]\n\t\t) {\n\t\t\tapi_info.unnamed_endpoints[0] = api_info.named_endpoints[\"/predict\"];\n\t\t}\n\n\t\treturn transform_api_info(api_info, config, this.api_map);\n\t} catch (e) {\n\t\tthrow new Error(\"Could not get API info. \" + (e as Error).message);\n\t}\n}\n","import type { Client } from \"..\";\nimport { BROKEN_CONNECTION_MSG, UPLOAD_URL } from \"../constants\";\nimport type { UploadResponse } from \"../types\";\n\nexport async function upload_files(\n\tthis: Client,\n\troot_url: string,\n\tfiles: (Blob | File)[],\n\tupload_id?: string\n): Promise<UploadResponse> {\n\tconst headers: {\n\t\tAuthorization?: string;\n\t} = {};\n\tif (this?.options?.hf_token) {\n\t\theaders.Authorization = `Bearer ${this.options.hf_token}`;\n\t}\n\n\tconst chunkSize = 1000;\n\tconst uploadResponses = [];\n\tlet response: Response;\n\n\tfor (let i = 0; i < files.length; i += chunkSize) {\n\t\tconst chunk = files.slice(i, i + chunkSize);\n\t\tconst formData = new FormData();\n\t\tchunk.forEach((file) => {\n\t\t\tformData.append(\"files\", file);\n\t\t});\n\t\ttry {\n\t\t\tconst upload_url = upload_id\n\t\t\t\t? `${root_url}${this.api_prefix}/${UPLOAD_URL}?upload_id=${upload_id}`\n\t\t\t\t: `${root_url}${this.api_prefix}/${UPLOAD_URL}`;\n\n\t\t\tresponse = await this.fetch(upload_url, {\n\t\t\t\tmethod: \"POST\",\n\t\t\t\tbody: formData,\n\t\t\t\theaders,\n\t\t\t\tcredentials: \"include\"\n\t\t\t});\n\t\t} catch (e) {\n\t\t\tthrow new Error(BROKEN_CONNECTION_MSG + (e as Error).message);\n\t\t}\n\t\tif (!response.ok) {\n\t\t\tconst error_text = await response.text();\n\t\t\treturn { error: `HTTP ${response.status}: ${error_text}` };\n\t\t}\n\t\tconst output: UploadResponse[\"files\"] = await response.json();\n\t\tif (output) {\n\t\t\tuploadResponses.push(...output);\n\t\t}\n\t}\n\treturn { files: uploadResponses };\n}\n","import type { Client } from \"./client\";\n\nexport async function upload(\n\tthis: Client,\n\tfile_data: FileData[],\n\troot_url: string,\n\tupload_id?: string,\n\tmax_file_size?: number\n): Promise<(FileData | null)[] | null> {\n\tlet files = (Array.isArray(file_data) ? file_data : [file_data]).map(\n\t\t(file_data) => file_data.blob!\n\t);\n\n\tconst oversized_files = files.filter(\n\t\t(f) => f.size > (max_file_size ?? Infinity)\n\t);\n\tif (oversized_files.length) {\n\t\tthrow new Error(\n\t\t\t`File size exceeds the maximum allowed size of ${max_file_size} bytes: ${oversized_files\n\t\t\t\t.map((f) => f.name)\n\t\t\t\t.join(\", \")}`\n\t\t);\n\t}\n\n\treturn await Promise.all(\n\t\tawait this.upload_files(root_url, files, upload_id).then(\n\t\t\tasync (response: { files?: string[]; error?: string }) => {\n\t\t\t\tif (response.error) {\n\t\t\t\t\tthrow new Error(response.error);\n\t\t\t\t} else {\n\t\t\t\t\tif (response.files) {\n\t\t\t\t\t\treturn response.files.map((f, i) => {\n\t\t\t\t\t\t\tconst file = new FileData({\n\t\t\t\t\t\t\t\t...file_data[i],\n\t\t\t\t\t\t\t\tpath: f,\n\t\t\t\t\t\t\t\turl: `${root_url}${this.api_prefix}/file=${f}`\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\treturn file;\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t\treturn [];\n\t\t\t\t}\n\t\t\t}\n\t\t)\n\t);\n}\n\nexport async function prepare_files(\n\tfiles: File[],\n\tis_stream?: boolean\n): Promise<FileData[]> {\n\treturn files.map(\n\t\t(f) =>\n\t\t\tnew FileData({\n\t\t\t\tpath: f.name,\n\t\t\t\torig_name: f.name,\n\t\t\t\tblob: f,\n\t\t\t\tsize: f.size,\n\t\t\t\tmime_type: f.type,\n\t\t\t\tis_stream\n\t\t\t})\n\t);\n}\n\nexport class FileData {\n\tpath: string;\n\turl?: string;\n\torig_name?: string;\n\tsize?: number;\n\tblob?: File;\n\tis_stream?: boolean;\n\tmime_type?: string;\n\talt_text?: string;\n\tb64?: string;\n\treadonly meta = { _type: \"gradio.FileData\" };\n\n\tconstructor({\n\t\tpath,\n\t\turl,\n\t\torig_name,\n\t\tsize,\n\t\tblob,\n\t\tis_stream,\n\t\tmime_type,\n\t\talt_text,\n\t\tb64\n\t}: {\n\t\tpath: string;\n\t\turl?: string;\n\t\torig_name?: string;\n\t\tsize?: number;\n\t\tblob?: File;\n\t\tis_stream?: boolean;\n\t\tmime_type?: string;\n\t\talt_text?: string;\n\t\tb64?: string;\n\t}) {\n\t\tthis.path = path;\n\t\tthis.url = url;\n\t\tthis.orig_name = orig_name;\n\t\tthis.size = size;\n\t\tthis.blob = url ? undefined : blob;\n\t\tthis.is_stream = is_stream;\n\t\tthis.mime_type = mime_type;\n\t\tthis.alt_text = alt_text;\n\t\tthis.b64 = b64;\n\t}\n}\n","// API Data Types\n\nimport { hardware_types } from \"./helpers/spaces\";\nimport type { SvelteComponent } from \"svelte\";\nimport type { ComponentType } from \"svelte\";\n\nexport interface ApiData {\n\tlabel: string;\n\tparameter_name: string;\n\tparameter_default?: any;\n\tparameter_has_default?: boolean;\n\ttype: {\n\t\ttype: any;\n\t\tdescription: string;\n\t};\n\tcomponent: string;\n\texample_input?: any;\n\tpython_type: { type: string; description: string };\n\tserializer: string;\n}\n\nexport interface JsApiData {\n\tlabel: string;\n\tparameter_name: string;\n\tparameter_default?: any;\n\tparameter_has_default?: boolean;\n\ttype: string;\n\tdescription: string;\n\tcomponent: string;\n\texample_input?: any;\n\tserializer: string;\n\tpython_type: { type: string; description: string };\n}\n\nexport interface EndpointInfo<T extends ApiData | JsApiData> {\n\tparameters: T[];\n\treturns: T[];\n\ttype?: DependencyTypes;\n}\n\nexport interface ApiInfo<T extends ApiData | JsApiData> {\n\tnamed_endpoints: Record<string, EndpointInfo<T>>;\n\tunnamed_endpoints: Record<string, EndpointInfo<T>>;\n}\n\nexport interface BlobRef {\n\tpath: string[];\n\ttype: string | undefined;\n\tblob: Blob | File | false;\n}\n\nexport type DataType = string | Buffer | Record<string, any> | any[];\n\n// custom class used for uploading local files\nexport class Command {\n\ttype: string;\n\tcommand: string;\n\tmeta: {\n\t\tpath: string;\n\t\tname: string;\n\t\torig_path: string;\n\t};\n\tfileData?: FileData;\n\n\tconstructor(\n\t\tcommand: string,\n\t\tmeta: { path: string; name: string; orig_path: string }\n\t) {\n\t\tthis.type = \"command\";\n\t\tthis.command = command;\n\t\tthis.meta = meta;\n\t}\n}\n\n// Function Signature Types\n\nexport type SubmitFunction = (\n\tendpoint: string | number,\n\tdata?: unknown[] | Record<string, unknown>,\n\tevent_data?: unknown,\n\ttrigger_id?: number | null\n) => SubmitIterable<GradioEvent>;\n\nexport type PredictFunction = (\n\tendpoint: string | number,\n\tdata?: unknown[] | Record<string, unknown>,\n\tevent_data?: unknown\n) => Promise<PredictReturn>;\n\nexport type client_return = {\n\tconfig: Config | undefined;\n\tpredict: PredictFunction;\n\tsubmit: SubmitFunction;\n\tcomponent_server: (\n\t\tcomponent_id: number,\n\t\tfn_name: string,\n\t\tdata: unknown[]\n\t) => any;\n\tview_api: (_fetch: typeof fetch) => Promise<ApiInfo<JsApiData>>;\n};\n\nexport interface SubmitIterable<T> extends AsyncIterable<T> {\n\t[Symbol.asyncIterator](): AsyncIterator<T>;\n\tcancel: () => Promise<void>;\n\tevent_id: () => string;\n}\n\nexport type PredictReturn = {\n\ttype: EventType;\n\ttime: Date;\n\tdata: unknown;\n\tendpoint: string;\n\tfn_index: number;\n};\n\n// Space Status Types\n\nexport type SpaceStatus = SpaceStatusNormal | SpaceStatusError;\n\nexport interface SpaceStatusNormal {\n\tstatus:\n\t\t| \"sleeping\"\n\t\t| \"running\"\n\t\t| \"building\"\n\t\t| \"error\"\n\t\t| \"stopped\"\n\t\t| \"starting\";\n\tdetail:\n\t\t| \"SLEEPING\"\n\t\t| \"RUNNING\"\n\t\t| \"RUNNING_BUILDING\"\n\t\t| \"BUILDING\"\n\t\t| \"APP_STARTING\"\n\t\t| \"NOT_FOUND\";\n\tload_status: \"pending\" | \"error\" | \"complete\" | \"generating\";\n\tmessage: string;\n}\n\nexport interface SpaceStatusError {\n\tstatus: \"space_error\" | \"paused\";\n\tdetail:\n\t\t| \"NO_APP_FILE\"\n\t\t| \"CONFIG_ERROR\"\n\t\t| \"BUILD_ERROR\"\n\t\t| \"RUNTIME_ERROR\"\n\t\t| \"PAUSED\";\n\tload_status: \"error\";\n\tmessage: string;\n\tdiscussions_enabled: boolean;\n}\n\nexport type SpaceStatusCallback = (a: SpaceStatus) => void;\n\n// Configuration and Response Types\n// --------------------------------\nexport interface Config {\n\tdeep_link_state?: \"none\" | \"valid\" | \"invalid\";\n\tauth_required?: true;\n\tapp_id?: string;\n\tanalytics_enabled: boolean;\n\tconnect_heartbeat: boolean;\n\tdev_mode: boolean;\n\tvibe_mode: boolean;\n\tauth_message: string;\n\tcomponents: ComponentMeta[];\n\tcss: string | null;\n\tjs: string | null;\n\thead: string | null;\n\tdependencies: Dependency[];\n\tenable_queue: boolean;\n\tshow_error: boolean;\n\tlayout: any;\n\tmode: \"blocks\" | \"interface\";\n\troot: string;\n\troot_url?: string;\n\ttheme: string;\n\ttitle: string;\n\tversion: string;\n\tspace_id: string | null;\n\tis_space: boolean;\n\tis_colab: boolean;\n\tshow_api: boolean;\n\tstylesheets: string[];\n\tcurrent_page: string;\n\tpage: Record<\n\t\tstring,\n\t\t{\n\t\t\tcomponents: number[];\n\t\t\tdependencies: number[];\n\t\t\tlayout: any;\n\t\t}\n\t>;\n\tpages: [string, string][];\n\tprotocol: \"sse_v3\" | \"sse_v2.1\" | \"sse_v2\" | \"sse_v1\" | \"sse\" | \"ws\";\n\tmax_file_size?: number;\n\ttheme_hash?: number;\n\tusername: string | null;\n\tapi_prefix?: string;\n\tfill_height?: boolean;\n\tfill_width?: boolean;\n\tpwa?: boolean;\n\ti18n_translations?: Record<string, Record<string, string>> | null;\n\tmcp_server?: boolean;\n}\n\n// todo: DRY up types\nexport interface ComponentMeta {\n\ttype: string;\n\tid: number;\n\thas_modes: boolean;\n\tprops: SharedProps;\n\tinstance: SvelteComponent;\n\tcomponent: ComponentType<SvelteComponent>;\n\tdocumentation?: Documentation;\n\tchildren?: ComponentMeta[];\n\tparent?: ComponentMeta;\n\tvalue?: any;\n\tcomponent_class_id: string;\n\tkey: string | number | null;\n\trendered_in?: number;\n}\n\ninterface SharedProps {\n\telem_id?: string;\n\telem_classes?: string[];\n\tcomponents?: string[];\n\tserver_fns?: string[];\n\tinteractive: boolean;\n\t[key: string]: unknown;\n\troot_url?: string;\n}\n\nexport interface Documentation {\n\ttype?: TypeDescription;\n\tdescription?: TypeDescription;\n\texample_data?: string;\n}\n\ninterface TypeDescription {\n\tinput_payload?: string;\n\tresponse_object?: string;\n\tpayload?: string;\n}\n\nexport interface Dependency {\n\tid: number;\n\ttargets: [number, string][];\n\tinputs: number[];\n\toutputs: number[];\n\tbackend_fn: boolean;\n\tjs: string | null;\n\tscroll_to_output: boolean;\n\ttrigger: \"click\" | \"load\" | string;\n\tmax_batch_size: number;\n\tshow_progress: \"full\" | \"minimal\" | \"hidden\";\n\tshow_progress_on: number[] | null;\n\tfrontend_fn: ((...args: unknown[]) => Promise<unknown[]>) | null;\n\tstatus?: string;\n\tqueue: boolean | null;\n\tevery: number | null;\n\tbatch: boolean;\n\tapi_name: string | null;\n\tcancels: number[];\n\ttypes: DependencyTypes;\n\tcollects_event_data: boolean;\n\tpending_request?: boolean;\n\ttrigger_after?: number;\n\ttrigger_only_on_success?: boolean;\n\ttrigger_mode: \"once\" | \"multiple\" | \"always_last\";\n\tfinal_event: Payload | null;\n\tshow_api: boolean;\n\trendered_in: number | null;\n\trender_id: number | null;\n\tconnection: \"stream\" | \"sse\";\n\ttime_limit: number;\n\tstream_every: number;\n\tlike_user_message: boolean;\n\tevent_specific_args: string[];\n\tjs_implementation: string | null;\n}\n\nexport interface DependencyTypes {\n\tgenerator: boolean;\n\tcancel: boolean;\n}\n\nexport interface Payload {\n\tfn_index: number;\n\tdata: unknown[];\n\ttime?: Date;\n\tevent_data?: unknown;\n\ttrigger_id?: number | null;\n}\n\nexport interface PostResponse {\n\terror?: string;\n\t[x: string]: any;\n}\n\nexport interface UploadResponse {\n\terror?: string;\n\tfiles?: string[];\n}\n\n// Client and File Handling Types\n\nexport interface DuplicateOptions extends ClientOptions {\n\tprivate?: boolean;\n\thardware?: (typeof hardware_types)[number];\n\ttimeout?: number;\n}\n\nexport interface ClientOptions {\n\thf_token?: `hf_${string}`;\n\tstatus_callback?: SpaceStatusCallback | null;\n\tauth?: [string, string] | null;\n\twith_null_state?: boolean;\n\tevents?: EventType[];\n\theaders?: Record<string, string>;\n\tquery_params?: Record<string, string>;\n\tsession_hash?: string;\n}\n\nexport interface FileData {\n\tname: string;\n\torig_name?: string;\n\tsize?: number;\n\tdata: string;\n\tblob?: File;\n\tis_file?: boolean;\n\tmime_type?: string;\n\talt_text?: string;\n}\n\n// Event and Listener Types\n\nexport type EventType = \"data\" | \"status\" | \"log\" | \"render\";\n\nexport interface EventMap {\n\tdata: PayloadMessage;\n\tstatus: StatusMessage;\n\tlog: LogMessage;\n\trender: RenderMessage;\n}\n\nexport type GradioEvent = {\n\t[P in EventType]: EventMap[P];\n}[EventType];\n\nexport interface Log {\n\tlog: string;\n\ttitle: string;\n\tlevel: \"warning\" | \"info\" | \"success\";\n}\nexport interface Render {\n\tdata: {\n\t\tcomponents: any[];\n\t\tlayout: any;\n\t\tdependencies: Dependency[];\n\t\trender_id: number;\n\t};\n}\n\nexport interface Status {\n\tqueue: boolean;\n\tcode?: string;\n\tsuccess?: boolean;\n\tstage: \"pending\" | \"error\" | \"complete\" | \"generating\" | \"streaming\";\n\tduration?: number;\n\tvisible?: boolean;\n\tbroken?: boolean;\n\tsize?: number;\n\tposition?: number;\n\teta?: number;\n\ttitle?: string;\n\tmessage?: string;\n\tprogress_data?: {\n\t\tprogress: number | null;\n\t\tindex: number | null;\n\t\tlength: number | null;\n\t\tunit: string | null;\n\t\tdesc: string | null;\n\t}[];\n\ttime?: Date;\n\tchanged_state_ids?: number[];\n\ttime_limit?: number;\n\tsession_not_found?: boolean;\n}\n\nexport interface StatusMessage extends Status {\n\ttype: \"status\";\n\tendpoint: string;\n\tfn_index: number;\n\toriginal_msg?: string;\n}\n\nexport interface PayloadMessage extends Payload {\n\ttype: \"data\";\n\tendpoint: string;\n\tfn_index: number;\n}\n\nexport interface LogMessage extends Log {\n\ttype: \"log\";\n\tendpoint: string;\n\tfn_index: number;\n\tduration: number | null;\n\tvisible: boolean;\n}\n\nexport interface RenderMessage extends Render {\n\ttype: \"render\";\n\tendpoint: string;\n\tfn_index: number;\n}\n","import {\n\ttype ApiData,\n\ttype BlobRef,\n\ttype Config,\n\ttype EndpointInfo,\n\ttype JsApiData,\n\ttype DataType,\n\tCommand,\n\ttype Dependency,\n\ttype ComponentMeta\n} from \"../types\";\nimport { FileData } from \"../upload\";\n\nconst is_node =\n\ttypeof process !== \"undefined\" && process.versions && process.versions.node;\n\nexport function update_object(\n\tobject: { [x: string]: any },\n\tnewValue: any,\n\tstack: (string | number)[]\n): void {\n\twhile (stack.length > 1) {\n\t\tconst key = stack.shift();\n\t\tif (typeof key === \"string\" || typeof key === \"number\") {\n\t\t\tobject = object[key];\n\t\t} else {\n\t\t\tthrow new Error(\"Invalid key type\");\n\t\t}\n\t}\n\n\tconst key = stack.shift();\n\tif (typeof key === \"string\" || typeof key === \"number\") {\n\t\tobject[key] = newValue;\n\t} else {\n\t\tthrow new Error(\"Invalid key type\");\n\t}\n}\n\nexport async function walk_and_store_blobs(\n\tdata: DataType,\n\ttype: string | undefined = undefined,\n\tpath: string[] = [],\n\troot = false,\n\tendpoint_info: EndpointInfo<ApiData | JsApiData> | undefined = undefined\n): Promise<BlobRef[]> {\n\tif (Array.isArray(data)) {\n\t\tlet blob_refs: BlobRef[] = [];\n\n\t\tawait Promise.all(\n\t\t\tdata.map(async (_, index) => {\n\t\t\t\tlet new_path = path.slice();\n\t\t\t\tnew_path.push(String(index));\n\n\t\t\t\tconst array_refs = await walk_and_store_blobs(\n\t\t\t\t\tdata[index],\n\t\t\t\t\troot\n\t\t\t\t\t\t? endpoint_info?.parameters[index]?.component || undefined\n\t\t\t\t\t\t: type,\n\t\t\t\t\tnew_path,\n\t\t\t\t\tfalse,\n\t\t\t\t\tendpoint_info\n\t\t\t\t);\n\n\t\t\t\tblob_refs = blob_refs.concat(array_refs);\n\t\t\t})\n\t\t);\n\n\t\treturn blob_refs;\n\t} else if (\n\t\t(globalThis.Buffer && data instanceof globalThis.Buffer) ||\n\t\tdata instanceof Blob\n\t) {\n\t\treturn [\n\t\t\t{\n\t\t\t\tpath: path,\n\t\t\t\tblob: new Blob([data]),\n\t\t\t\ttype\n\t\t\t}\n\t\t];\n\t} else if (typeof data === \"object\" && data !== null) {\n\t\tlet blob_refs: BlobRef[] = [];\n\t\tfor (const key of Object.keys(data) as (keyof typeof data)[]) {\n\t\t\tconst new_path = [...path, key];\n\t\t\tconst value = data[key];\n\n\t\t\tblob_refs = blob_refs.concat(\n\t\t\t\tawait walk_and_store_blobs(\n\t\t\t\t\tvalue,\n\t\t\t\t\tundefined,\n\t\t\t\t\tnew_path,\n\t\t\t\t\tfalse,\n\t\t\t\t\tendpoint_info\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\n\t\treturn blob_refs;\n\t}\n\n\treturn [];\n}\n\nexport function skip_queue(id: number, config: Config): boolean {\n\tlet fn_queue = config?.dependencies?.find((dep) => dep.id == id)?.queue;\n\tif (fn_queue != null) {\n\t\treturn !fn_queue;\n\t}\n\treturn !config.enable_queue;\n}\n\n// todo: add jsdoc for this function\n\nexport function post_message<Res = any>(\n\tmessage: any,\n\torigin: string\n): Promise<Res> {\n\treturn new Promise((res, _rej) => {\n\t\tconst channel = new MessageChannel();\n\t\tchannel.port1.onmessage = (({ data }) => {\n\t\t\tchannel.port1.close();\n\t\t\tres(data);\n\t\t}) as (ev: MessageEvent<Res>) => void;\n\t\twindow.parent.postMessage(message, origin, [channel.port2]);\n\t});\n}\n\nexport function handle_file(\n\tfile_or_url: File | string | Blob | Buffer\n): FileData | Blob | Command {\n\tif (typeof file_or_url === \"string\") {\n\t\tif (\n\t\t\tfile_or_url.startsWith(\"http://\") ||\n\t\t\tfile_or_url.startsWith(\"https://\")\n\t\t) {\n\t\t\treturn {\n\t\t\t\tpath: file_or_url,\n\t\t\t\turl: file_or_url,\n\t\t\t\torig_name: file_or_url.split(\"/\").pop() ?? \"unknown\",\n\t\t\t\tmeta: { _type: \"gradio.FileData\" }\n\t\t\t};\n\t\t}\n\n\t\tif (is_node) {\n\t\t\t// Handle local file paths\n\t\t\treturn new Command(\"upload_file\", {\n\t\t\t\tpath: file_or_url,\n\t\t\t\tname: file_or_url,\n\t\t\t\torig_path: file_or_url\n\t\t\t});\n\t\t}\n\t} else if (typeof File !== \"undefined\" && file_or_url instanceof File) {\n\t\treturn new Blob([file_or_url]);\n\t} else if (file_or_url instanceof Buffer) {\n\t\treturn new Blob([file_or_url]);\n\t} else if (file_or_url instanceof Blob) {\n\t\treturn file_or_url;\n\t}\n\tthrow new Error(\n\t\t\"Invalid input: must be a URL, File, Blob, or Buffer object.\"\n\t);\n}\n\n/**\n * Handles the payload by filtering out state inputs and returning an array of resolved payload values.\n * We send null values for state inputs to the server, but we don't want to include them in the resolved payload.\n *\n * @param resolved_payload - The resolved payload values received from the client or the server\n * @param dependency - The dependency object.\n * @param components - The array of component metadata.\n * @param with_null_state - Optional. Specifies whether to include null values for state inputs. Default is false.\n * @returns An array of resolved payload values, filtered based on the dependency and component metadata.\n */\nexport function handle_payload(\n\tresolved_payload: unknown[],\n\tdependency: Dependency,\n\tcomponents: ComponentMeta[],\n\ttype: \"input\" | \"output\",\n\twith_null_state = false\n): unknown[] {\n\tif (type === \"input\" && !with_null_state) {\n\t\tthrow new Error(\"Invalid code path. Cannot skip state inputs for input.\");\n\t}\n\t// data comes from the server with null state values so we skip\n\tif (type === \"output\" && with_null_state) {\n\t\treturn resolved_payload;\n\t}\n\n\tlet updated_payload: unknown[] = [];\n\tlet payload_index = 0;\n\tconst deps = type === \"input\" ? dependency.inputs : dependency.outputs;\n\tfor (let i = 0; i < deps.length; i++) {\n\t\tconst input_id = deps[i];\n\t\tconst component = components.find((c) => c.id === input_id);\n\n\t\tif (component?.type === \"state\") {\n\t\t\t// input + with_null_state needs us to fill state with null values\n\t\t\tif (with_null_state) {\n\t\t\t\tif (resolved_payload.length === deps.length) {\n\t\t\t\t\tconst value = resolved_payload[payload_index];\n\t\t\t\t\tupdated_payload.push(value);\n\t\t\t\t\tpayload_index++;\n\t\t\t\t} else {\n\t\t\t\t\tupdated_payload.push(null);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// this is output & !with_null_state, we skip state inputs\n\t\t\t\t// the server payload always comes with null state values so we move along the payload index\n\t\t\t\tpayload_index++;\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\t// input & !with_null_state isn't a case we care about, server needs null\n\t\t\tcontinue;\n\t\t} else {\n\t\t\tconst value = resolved_payload[payload_index];\n\t\t\tupdated_payload.push(value);\n\t\t\tpayload_index++;\n\t\t}\n\t}\n\n\treturn updated_payload;\n}\n","import { update_object, walk_and_store_blobs } from \"../helpers/data\";\nimport {\n\tCommand,\n\ttype ApiData,\n\ttype EndpointInfo,\n\ttype JsApiData\n} from \"../types\";\nimport { FileData } from \"../upload\";\nimport type { Client } from \"..\";\nimport {\n\tFILE_PROCESSING_ERROR_MSG,\n\tNODEJS_FS_ERROR_MSG,\n\tROOT_URL_ERROR_MSG\n} from \"../constants\";\n\nexport async function handle_blob(\n\tthis: Client,\n\tendpoint: string,\n\tdata: unknown[],\n\tapi_info: EndpointInfo<JsApiData | ApiData>\n): Promise<unknown[]> {\n\tconst self = this;\n\n\tawait process_local_file_commands(self, data);\n\n\tconst blobRefs = await walk_and_store_blobs(\n\t\tdata,\n\t\tundefined,\n\t\t[],\n\t\ttrue,\n\t\tapi_info\n\t);\n\n\tconst results = await Promise.all(\n\t\tblobRefs.map(async ({ path, blob, type }) => {\n\t\t\tif (!blob) return { path, type };\n\n\t\t\tconst response = await self.upload_files(endpoint, [blob]);\n\t\t\tconst file_url = response.files && response.files[0];\n\t\t\treturn {\n\t\t\t\tpath,\n\t\t\t\tfile_url,\n\t\t\t\ttype,\n\t\t\t\tname:\n\t\t\t\t\ttypeof File !== \"undefined\" && blob instanceof File\n\t\t\t\t\t\t? blob?.name\n\t\t\t\t\t\t: undefined\n\t\t\t};\n\t\t})\n\t);\n\n\tresults.forEach(({ path, file_url, type, name }) => {\n\t\tif (type === \"Gallery\") {\n\t\t\tupdate_object(data, file_url, path);\n\t\t} else if (file_url) {\n\t\t\tconst file = new FileData({ path: file_url, orig_name: name });\n\t\t\tupdate_object(data, file, path);\n\t\t}\n\t});\n\n\treturn data;\n}\n\nexport async function process_local_file_commands(\n\tclient: Client,\n\tdata: unknown[]\n): Promise<void> {\n\tconst root = client.config?.root || client.config?.root_url;\n\n\tif (!root) {\n\t\tthrow new Error(ROOT_URL_ERROR_MSG);\n\t}\n\n\tawait recursively_process_commands(client, data);\n}\n\nasync function recursively_process_commands(\n\tclient: Client,\n\tdata: any,\n\tpath: string[] = []\n): Promise<void> {\n\tfor (const key in data) {\n\t\tif (data[key] instanceof Command) {\n\t\t\tawait process_single_command(client, data, key);\n\t\t} else if (typeof data[key] === \"object\" && data[key] !== null) {\n\t\t\tawait recursively_process_commands(client, data[key], [...path, key]);\n\t\t}\n\t}\n}\n\nasync function process_single_command(\n\tclient: Client,\n\tdata: any,\n\tkey: string\n): Promise<void> {\n\tlet cmd_item = data[key] as Command;\n\tconst root = client.config?.root || client.config?.root_url;\n\n\tif (!root) {\n\t\tthrow new Error(ROOT_URL_ERROR_MSG);\n\t}\n\n\ttry {\n\t\tlet fileBuffer: Buffer;\n\t\tlet fullPath: string;\n\n\t\t// check if running in a Node.js environment\n\t\tif (\n\t\t\ttypeof process !== \"undefined\" &&\n\t\t\tprocess.versions &&\n\t\t\tprocess.versions.node\n\t\t) {\n\t\t\tconst fs = await import(\"fs/promises\");\n\t\t\tconst path = await import(\"path\");\n\n\t\t\tfullPath = path.resolve(process.cwd(), cmd_item.meta.path);\n\t\t\tfileBuffer = await fs.readFile(fullPath); // Read file from disk\n\t\t} else {\n\t\t\tthrow new Error(NODEJS_FS_ERROR_MSG);\n\t\t}\n\n\t\tconst file = new Blob([fileBuffer], { type: \"application/octet-stream\" });\n\n\t\tconst response = await client.upload_files(root, [file]);\n\n\t\tconst file_url = response.files && response.files[0];\n\n\t\tif (file_url) {\n\t\t\tconst fileData = new FileData({\n\t\t\t\tpath: file_url,\n\t\t\t\torig_name: cmd_item.meta.name || \"\"\n\t\t\t});\n\n\t\t\t// replace the command object with the fileData object\n\t\t\tdata[key] = fileData;\n\t\t}\n\t} catch (error) {\n\t\tconsole.error(FILE_PROCESSING_ERROR_MSG, error);\n\t}\n}\n","import { BROKEN_CONNECTION_MSG } from \"../constants\";\nimport type { PostResponse } from \"../types\";\nimport { Client } from \"..\";\n\nexport async function post_data(\n\tthis: Client,\n\turl: string,\n\tbody: unknown,\n\tadditional_headers?: any\n): Promise<[PostResponse, number]> {\n\tconst headers: {\n\t\tAuthorization?: string;\n\t\t\"Content-Type\": \"application/json\";\n\t} = { \"Content-Type\": \"application/json\" };\n\tif (this.options.hf_token) {\n\t\theaders.Authorization = `Bearer ${this.options.hf_token}`;\n\t}\n\ttry {\n\t\tvar response = await this.fetch(url, {\n\t\t\tmethod: \"POST\",\n\t\t\tbody: JSON.stringify(body),\n\t\t\theaders: { ...headers, ...additional_headers },\n\t\t\tcredentials: \"include\"\n\t\t});\n\t} catch (e) {\n\t\treturn [{ error: BROKEN_CONNECTION_MSG }, 500];\n\t}\n\tlet output: PostResponse;\n\tlet status: number;\n\ttry {\n\t\toutput = await response.json();\n\t\tstatus = response.status;\n\t} catch (e) {\n\t\toutput = { error: `Could not parse server response: ${e}` };\n\t\tstatus = 500;\n\t}\n\treturn [output, status];\n}\n","import { Client } from \"../client\";\nimport type { Dependency, PredictReturn } from \"../types\";\n\nexport async function predict(\n\tthis: Client,\n\tendpoint: string | number,\n\tdata: unknown[] | Record<string, unknown> = {}\n): Promise<PredictReturn> {\n\tlet data_returned = false;\n\tlet status_complete = false;\n\tlet dependency: Dependency;\n\n\tif (!this.config) {\n\t\tthrow new Error(\"Could not resolve app config\");\n\t}\n\n\tif (typeof endpoint === \"number\") {\n\t\tdependency = this.config.dependencies.find((dep) => dep.id == endpoint)!;\n\t} else {\n\t\tconst trimmed_endpoint = endpoint.replace(/^\\//, \"\");\n\t\tdependency = this.config.dependencies.find(\n\t\t\t(dep) => dep.id == this.api_map[trimmed_endpoint]\n\t\t)!;\n\t}\n\n\treturn new Promise(async (resolve, reject) => {\n\t\tconst app = this.submit(endpoint, data, null, null, true);\n\t\tlet result: unknown;\n\n\t\tfor await (const message of app) {\n\t\t\tif (message.type === \"data\") {\n\t\t\t\tif (status_complete) {\n\t\t\t\t\tresolve(result as PredictReturn);\n\t\t\t\t}\n\t\t\t\tdata_returned = true;\n\t\t\t\tresult = message;\n\t\t\t}\n\n\t\t\tif (message.type === \"status\") {\n\t\t\t\tif (message.stage === \"error\") reject(message);\n\t\t\t\tif (message.stage === \"complete\") {\n\t\t\t\t\tstatus_complete = true;\n\t\t\t\t\t// if complete message comes after data, resolve here\n\t\t\t\t\tif (data_returned) {\n\t\t\t\t\t\tresolve(result as PredictReturn);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t});\n}\n","import {\n\tRUNTIME_URL,\n\tSLEEPTIME_URL,\n\tSPACE_STATUS_ERROR_MSG\n} from \"../constants\";\nimport { RE_SPACE_NAME } from \"./api_info\";\nimport type { SpaceStatusCallback } from \"../types\";\n\nexport async function check_space_status(\n\tid: string,\n\ttype: \"subdomain\" | \"space_name\",\n\tstatus_callback: SpaceStatusCallback\n): Promise<void> {\n\tlet endpoint =\n\t\ttype === \"subdomain\"\n\t\t\t? `https://huggingface.co/api/spaces/by-subdomain/${id}`\n\t\t\t: `https://huggingface.co/api/spaces/${id}`;\n\tlet response;\n\tlet _status;\n\ttry {\n\t\tresponse = await fetch(endpoint);\n\t\t_status = response.status;\n\t\tif (_status !== 200) {\n\t\t\tthrow new Error();\n\t\t}\n\t\tresponse = await response.json();\n\t} catch (e) {\n\t\tstatus_callback({\n\t\t\tstatus: \"error\",\n\t\t\tload_status: \"error\",\n\t\t\tmessage: SPACE_STATUS_ERROR_MSG,\n\t\t\tdetail: \"NOT_FOUND\"\n\t\t});\n\t\treturn;\n\t}\n\n\tif (!response || _status !== 200) return;\n\tconst {\n\t\truntime: { stage },\n\t\tid: space_name\n\t} = response;\n\n\tswitch (stage) {\n\t\tcase \"STOPPED\":\n\t\tcase \"SLEEPING\":\n\t\t\tstatus_callback({\n\t\t\t\tstatus: \"sleeping\",\n\t\t\t\tload_status: \"pending\",\n\t\t\t\tmessage: \"Space is asleep. Waking it up...\",\n\t\t\t\tdetail: stage\n\t\t\t});\n\n\t\t\tsetTimeout(() => {\n\t\t\t\tcheck_space_status(id, type, status_callback);\n\t\t\t}, 1000); // poll for status\n\t\t\tbreak;\n\t\tcase \"PAUSED\":\n\t\t\tstatus_callback({\n\t\t\t\tstatus: \"paused\",\n\t\t\t\tload_status: \"error\",\n\t\t\t\tmessage:\n\t\t\t\t\t\"This space has been paused by the author. If you would like to try this demo, consider duplicating the space.\",\n\t\t\t\tdetail: stage,\n\t\t\t\tdiscussions_enabled: await discussions_enabled(space_name)\n\t\t\t});\n\t\t\tbreak;\n\t\tcase \"RUNNING\":\n\t\tcase \"RUNNING_BUILDING\":\n\t\t\tstatus_callback({\n\t\t\t\tstatus: \"running\",\n\t\t\t\tload_status: \"complete\",\n\t\t\t\tmessage: \"Space is running.\",\n\t\t\t\tdetail: stage\n\t\t\t});\n\t\t\tbreak;\n\t\tcase \"BUILDING\":\n\t\t\tstatus_callback({\n\t\t\t\tstatus: \"building\",\n\t\t\t\tload_status: \"pending\",\n\t\t\t\tmessage: \"Space is building...\",\n\t\t\t\tdetail: stage\n\t\t\t});\n\n\t\t\tsetTimeout(() => {\n\t\t\t\tcheck_space_status(id, type, status_callback);\n\t\t\t}, 1000);\n\t\t\tbreak;\n\t\tcase \"APP_STARTING\":\n\t\t\tstatus_callback({\n\t\t\t\tstatus: \"starting\",\n\t\t\t\tload_status: \"pending\",\n\t\t\t\tmessage: \"Space is starting...\",\n\t\t\t\tdetail: stage\n\t\t\t});\n\n\t\t\tsetTimeout(() => {\n\t\t\t\tcheck_space_status(id, type, status_callback);\n\t\t\t}, 1000);\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tstatus_callback({\n\t\t\t\tstatus: \"space_error\",\n\t\t\t\tload_status: \"error\",\n\t\t\t\tmessage: \"This space is experiencing an issue.\",\n\t\t\t\tdetail: stage,\n\t\t\t\tdiscussions_enabled: await discussions_enabled(space_name)\n\t\t\t});\n\t\t\tbreak;\n\t}\n}\n\nexport const check_and_wake_space = async (\n\tspace_id: string,\n\tstatus_callback: SpaceStatusCallback\n): Promise<void> => {\n\tlet retries = 0;\n\tconst max_retries = 12;\n\tconst check_interval = 5000;\n\n\treturn new Promise((resolve) => {\n\t\tcheck_space_status(\n\t\t\tspace_id,\n\t\t\tRE_SPACE_NAME.test(space_id) ? \"space_name\" : \"subdomain\",\n\t\t\t(status) => {\n\t\t\t\tstatus_callback(status);\n\n\t\t\t\tif (status.status === \"running\") {\n\t\t\t\t\tresolve();\n\t\t\t\t} else if (\n\t\t\t\t\tstatus.status === \"error\" ||\n\t\t\t\t\tstatus.status === \"paused\" ||\n\t\t\t\t\tstatus.status === \"space_error\"\n\t\t\t\t) {\n\t\t\t\t\tresolve();\n\t\t\t\t} else if (\n\t\t\t\t\tstatus.status === \"sleeping\" ||\n\t\t\t\t\tstatus.status === \"building\"\n\t\t\t\t) {\n\t\t\t\t\tif (retries < max_retries) {\n\t\t\t\t\t\tretries++;\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\tcheck_and_wake_space(space_id, status_callback).then(resolve);\n\t\t\t\t\t\t}, check_interval);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresolve();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t);\n\t});\n};\n\nconst RE_DISABLED_DISCUSSION =\n\t/^(?=[^]*\\b[dD]iscussions{0,1}\\b)(?=[^]*\\b[dD]isabled\\b)[^]*$/;\nexport async function discussions_enabled(space_id: string): Promise<boolean> {\n\ttry {\n\t\tconst r = await fetch(\n\t\t\t`https://huggingface.co/api/spaces/${space_id}/discussions`,\n\t\t\t{\n\t\t\t\tmethod: \"HEAD\"\n\t\t\t}\n\t\t);\n\n\t\tconst error = r.headers.get(\"x-error-message\");\n\n\t\tif (!r.ok || (error && RE_DISABLED_DISCUSSION.test(error))) return false;\n\t\treturn true;\n\t} catch (e) {\n\t\treturn false;\n\t}\n}\n\nexport async function get_space_hardware(\n\tspace_id: string,\n\thf_token?: `hf_${string}` | undefined\n): Promise<(typeof hardware_types)[number]> {\n\tconst headers: { Authorization?: string } = {};\n\tif (hf_token) {\n\t\theaders.Authorization = `Bearer ${hf_token}`;\n\t}\n\n\ttry {\n\t\tconst res = await fetch(\n\t\t\t`https://huggingface.co/api/spaces/${space_id}/${RUNTIME_URL}`,\n\t\t\t{ headers }\n\t\t);\n\n\t\tif (res.status !== 200)\n\t\t\tthrow new Error(\"Space hardware could not be obtained.\");\n\n\t\tconst { hardware } = await res.json();\n\n\t\treturn hardware.current;\n\t} catch (e: any) {\n\t\tthrow new Error(e.message);\n\t}\n}\n\nexport async function set_space_timeout(\n\tspace_id: string,\n\ttimeout: number,\n\thf_token?: `hf_${string}`\n): Promise<any> {\n\tconst headers: { Authorization?: string } = {};\n\tif (hf_token) {\n\t\theaders.Authorization = `Bearer ${hf_token}`;\n\t}\n\n\tconst body: {\n\t\tseconds?: number;\n\t} = {\n\t\tseconds: timeout\n\t};\n\n\ttry {\n\t\tconst res = await fetch(\n\t\t\t`https://huggingface.co/api/spaces/${space_id}/${SLEEPTIME_URL}`,\n\t\t\t{\n\t\t\t\tmethod: \"POST\",\n\t\t\t\theaders: { \"Content-Type\": \"application/json\", ...headers },\n\t\t\t\tbody: JSON.stringify(body)\n\t\t\t}\n\t\t);\n\n\t\tif (res.status !== 200) {\n\t\t\tthrow new Error(\n\t\t\t\t\"Could not set sleep timeout on duplicated Space. Please visit *ADD HF LINK TO SETTINGS* to set a timeout manually to reduce billing charges.\"\n\t\t\t);\n\t\t}\n\n\t\tconst response = await res.json();\n\t\treturn response;\n\t} catch (e: any) {\n\t\tthrow new Error(e.message);\n\t}\n}\n\nexport const hardware_types = [\n\t\"cpu-basic\",\n\t\"cpu-upgrade\",\n\t\"cpu-xl\",\n\t\"t4-small\",\n\t\"t4-medium\",\n\t\"a10g-small\",\n\t\"a10g-large\",\n\t\"a10g-largex2\",\n\t\"a10g-largex4\",\n\t\"a100-large\",\n\t\"zero-a10g\",\n\t\"h100\",\n\t\"h100x8\"\n] as const;\n","import {\n\tget_space_hardware,\n\thardware_types,\n\tset_space_timeout\n} from \"../helpers/spaces\";\nimport type { DuplicateOptions } from \"../types\";\nimport { Client } from \"../client\";\nimport { SPACE_METADATA_ERROR_MSG } from \"../constants\";\nimport {\n\tget_cookie_header,\n\tparse_and_set_cookies\n} from \"../helpers/init_helpers\";\nimport { process_endpoint } from \"../helpers/api_info\";\n\nexport async function duplicate(\n\tapp_reference: string,\n\toptions: DuplicateOptions\n): Promise<Client> {\n\tconst { hf_token, private: _private, hardware, timeout, auth } = options;\n\n\tif (hardware && !hardware_types.includes(hardware)) {\n\t\tthrow new Error(\n\t\t\t`Invalid hardware type provided. Valid types are: ${hardware_types\n\t\t\t\t.map((v) => `\"${v}\"`)\n\t\t\t\t.join(\",\")}.`\n\t\t);\n\t}\n\n\tconst { http_protocol, host } = await process_endpoint(\n\t\tapp_reference,\n\t\thf_token\n\t);\n\n\tlet cookies: string[] | null = null;\n\n\tif (auth) {\n\t\tconst cookie_header = await get_cookie_header(\n\t\t\thttp_protocol,\n\t\t\thost,\n\t\t\tauth,\n\t\t\tfetch\n\t\t);\n\n\t\tif (cookie_header) cookies = parse_and_set_cookies(cookie_header);\n\t}\n\n\tconst headers = {\n\t\tAuthorization: `Bearer ${hf_token}`,\n\t\t\"Content-Type\": \"application/json\",\n\t\t...(cookies ? { Cookie: cookies.join(\"; \") } : {})\n\t};\n\n\tconst user = (\n\t\tawait (\n\t\t\tawait fetch(`https://huggingface.co/api/whoami-v2`, {\n\t\t\t\theaders\n\t\t\t})\n\t\t).json()\n\t).name;\n\n\tconst space_name = app_reference.split(\"/\")[1];\n\tconst body: {\n\t\trepository: string;\n\t\tprivate?: boolean;\n\t\thardware?: string;\n\t} = {\n\t\trepository: `${user}/${space_name}`\n\t};\n\n\tif (_private) {\n\t\tbody.private = true;\n\t}\n\n\tlet original_hardware;\n\n\ttry {\n\t\tif (!hardware) {\n\t\t\toriginal_hardware = await get_space_hardware(app_reference, hf_token);\n\t\t}\n\t} catch (e) {\n\t\tthrow Error(SPACE_METADATA_ERROR_MSG + (e as Error).message);\n\t}\n\n\tconst requested_hardware = hardware || original_hardware || \"cpu-basic\";\n\n\tbody.hardware = requested_hardware;\n\n\ttry {\n\t\tconst response = await fetch(\n\t\t\t`https://huggingface.co/api/spaces/${app_reference}/duplicate`,\n\t\t\t{\n\t\t\t\tmethod: \"POST\",\n\t\t\t\theaders,\n\t\t\t\tbody: JSON.stringify(body)\n\t\t\t}\n\t\t);\n\n\t\tif (response.status === 409) {\n\t\t\ttry {\n\t\t\t\tconst client = await Client.connect(`${user}/${space_name}`, options);\n\t\t\t\treturn client;\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error(\"Failed to connect Client instance:\", error);\n\t\t\t\tthrow error;\n\t\t\t}\n\t\t} else if (response.status !== 200) {\n\t\t\tthrow new Error(response.statusText);\n\t\t}\n\n\t\tconst duplicated_space = await response.json();\n\n\t\tawait set_space_timeout(`${user}/${space_name}`, timeout || 300, hf_token);\n\n\t\treturn await Client.connect(\n\t\t\tget_space_reference(duplicated_space.url),\n\t\t\toptions\n\t\t);\n\t} catch (e: any) {\n\t\tthrow new Error(e);\n\t}\n}\n\nfunction get_space_reference(url: string): any {\n\tconst regex = /https:\\/\\/huggingface.co\\/spaces\\/([^/]+\\/[^/]+)/;\n\tconst match = url.match(regex);\n\tif (match) {\n\t\treturn match[1];\n\t}\n}\n","// Copyright 2018-2024 the Deno authors. All rights reserved. MIT license.\n// This module is browser compatible.\n/**\n * Transform a stream into a stream where each chunk is divided by a newline,\n * be it `\\n` or `\\r\\n`. `\\r` can be enabled via the `allowCR` option.\n *\n * @example\n * ```ts\n * import { TextLineStream } from \"@std/streams/text-line-stream\";\n *\n * const res = await fetch(\"https://example.com\");\n * const lines = res.body!\n *   .pipeThrough(new TextDecoderStream())\n *   .pipeThrough(new TextLineStream());\n * ```\n */\nexport class TextLineStream extends TransformStream {\n    #currentLine = \"\";\n    /** Constructs a new instance. */\n    constructor(options = { allowCR: false }) {\n        super({\n            transform: (chars, controller) => {\n                chars = this.#currentLine + chars;\n                while (true) {\n                    const lfIndex = chars.indexOf(\"\\n\");\n                    const crIndex = options.allowCR ? chars.indexOf(\"\\r\") : -1;\n                    if (crIndex !== -1 && crIndex !== (chars.length - 1) &&\n                        (lfIndex === -1 || (lfIndex - 1) > crIndex)) {\n                        controller.enqueue(chars.slice(0, crIndex));\n                        chars = chars.slice(crIndex + 1);\n                        continue;\n                    }\n                    if (lfIndex === -1)\n                        break;\n                    const endIndex = chars[lfIndex - 1] === \"\\r\" ? lfIndex - 1 : lfIndex;\n                    controller.enqueue(chars.slice(0, endIndex));\n                    chars = chars.slice(lfIndex + 1);\n                }\n                this.#currentLine = chars;\n            },\n            flush: (controller) => {\n                if (this.#currentLine === \"\")\n                    return;\n                const currentLine = options.allowCR && this.#currentLine.endsWith(\"\\r\")\n                    ? this.#currentLine.slice(0, -1)\n                    : this.#currentLine;\n                controller.enqueue(currentLine);\n            },\n        });\n    }\n}\n","import { TextLineStream } from './deps/jsr.io/@std/streams/0.221.0/text_line_stream.js';\nexport function stream(input) {\n    let decoder = new TextDecoderStream();\n    let split = new TextLineStream({ allowCR: true });\n    return input.pipeThrough(decoder).pipeThrough(split);\n}\nexport function split(input) {\n    let rgx = /[:]\\s*/;\n    let match = rgx.exec(input);\n    // \": comment\" -> index=0 -> ignore\n    let idx = match && match.index;\n    if (idx) {\n        return [\n            input.substring(0, idx),\n            input.substring(idx + match[0].length),\n        ];\n    }\n}\nexport function fallback(headers, key, value) {\n    let tmp = headers.get(key);\n    if (!tmp)\n        headers.set(key, value);\n}\n","import * as utils from './utils.js';\n/**\n * Convert a `Response` body containing Server Sent Events (SSE) into an Async Iterator that yields {@linkcode ServerSentEventMessage} objects.\n *\n * @see {@link https://developer.mozilla.org/en-US/docs/Web/API/Server-sent_events}\n *\n * @example\n * ```js\n * // Optional\n * let abort = new AbortController;\n *\n * // Manually fetch a Response\n * let res = await fetch('https://...', {\n *   method: 'POST',\n *   signal: abort.signal,\n *   headers: {\n *     'api-key': 'token <value>',\n *     'content-type': 'application/json',\n *   },\n *   body: JSON.stringify({\n *     stream: true, // <- hypothetical\n *     // ...\n *   })\n * });\n *\n * if (res.ok) {\n *   let stream = events(res, abort.signal);\n *   for await (let event of stream) {\n *     console.log('<<', event.data);\n *   }\n * }\n * ```\n */\nexport async function* events(res, signal) {\n    // TODO: throw error?\n    if (!res.body)\n        return;\n    let iter = utils.stream(res.body);\n    let line, reader = iter.getReader();\n    let event;\n    for (;;) {\n        if (signal && signal.aborted) {\n            return reader.cancel();\n        }\n        line = await reader.read();\n        if (line.done)\n            return;\n        if (!line.value) {\n            if (event)\n                yield event;\n            event = undefined;\n            continue;\n        }\n        let [field, value] = utils.split(line.value) || [];\n        if (!field)\n            continue; // comment or invalid\n        if (field === 'data') {\n            event ||= {};\n            event[field] = event[field] ? (event[field] + '\\n' + value) : value;\n        }\n        else if (field === 'event') {\n            event ||= {};\n            event[field] = value;\n        }\n        else if (field === 'id') {\n            event ||= {};\n            event[field] = +value || value;\n        }\n        else if (field === 'retry') {\n            event ||= {};\n            event[field] = +value || undefined;\n        }\n    }\n}\n/**\n * Convenience function that will `fetch` with the given arguments and, if ok, will return the {@linkcode events} async iterator.\n *\n * If the response is not ok (status 200-299), the `Response` is thrown.\n *\n * @example\n * ```js\n * // NOTE: throws `Response` if not 2xx status\n * let events = await stream('https://api.openai.com/...', {\n *   method: 'POST',\n *   headers: {\n *     'Authorization': 'Bearer <token>',\n *     'Content-Type': 'application/json',\n *   },\n *   body: JSON.stringify({\n *     stream: true,\n *     // ...\n *   })\n * });\n *\n * for await (let event of events) {\n *   console.log('<<', JSON.parse(event.data));\n * }\n * ```\n */\nexport async function stream(input, init) {\n    let req = new Request(input, init);\n    utils.fallback(req.headers, 'Accept', 'text/event-stream');\n    utils.fallback(req.headers, 'Content-Type', 'application/json');\n    let r = await fetch(req);\n    if (!r.ok)\n        throw r;\n    return events(r, req.signal);\n}\n","import { BROKEN_CONNECTION_MSG, SSE_URL } from \"../constants\";\nimport type { Client } from \"../client\";\nimport { stream } from \"fetch-event-stream\";\n\nexport async function open_stream(this: Client): Promise<void> {\n\tlet {\n\t\tevent_callbacks,\n\t\tunclosed_events,\n\t\tpending_stream_messages,\n\t\tstream_status,\n\t\tconfig,\n\t\tjwt\n\t} = this;\n\n\tconst that = this;\n\n\tif (!config) {\n\t\tthrow new Error(\"Could not resolve app config\");\n\t}\n\n\tstream_status.open = true;\n\n\tlet stream: EventSource | null = null;\n\tlet params = new URLSearchParams({\n\t\tsession_hash: this.session_hash\n\t}).toString();\n\n\tlet url = new URL(`${config.root}${this.api_prefix}/${SSE_URL}?${params}`);\n\n\tif (jwt) {\n\t\turl.searchParams.set(\"__sign\", jwt);\n\t}\n\n\tstream = this.stream(url);\n\n\tif (!stream) {\n\t\tconsole.warn(\"Cannot connect to SSE endpoint: \" + url.toString());\n\t\treturn;\n\t}\n\n\tstream.onmessage = async function (event: MessageEvent) {\n\t\tlet _data = JSON.parse(event.data);\n\t\tif (_data.msg === \"close_stream\") {\n\t\t\tclose_stream(stream_status, that.abort_controller);\n\t\t\treturn;\n\t\t}\n\t\tconst event_id = _data.event_id;\n\t\tif (!event_id) {\n\t\t\tawait Promise.all(\n\t\t\t\tObject.keys(event_callbacks).map((event_id) =>\n\t\t\t\t\tevent_callbacks[event_id](_data)\n\t\t\t\t)\n\t\t\t);\n\t\t} else if (event_callbacks[event_id] && config) {\n\t\t\tif (\n\t\t\t\t_data.msg === \"process_completed\" &&\n\t\t\t\t[\"sse\", \"sse_v1\", \"sse_v2\", \"sse_v2.1\", \"sse_v3\"].includes(\n\t\t\t\t\tconfig.protocol\n\t\t\t\t)\n\t\t\t) {\n\t\t\t\tunclosed_events.delete(event_id);\n\t\t\t}\n\t\t\tlet fn: (data: any) => void = event_callbacks[event_id];\n\n\t\t\tif (typeof window !== \"undefined\" && typeof document !== \"undefined\") {\n\t\t\t\t// fn(_data); // need to do this to put the event on the end of the event loop, so the browser can refresh between callbacks and not freeze in case of quick generations. See\n\t\t\t\tsetTimeout(fn, 0, _data); // need to do this to put the event on the end of the event loop, so the browser can refresh between callbacks and not freeze in case of quick generations. See https://github.com/gradio-app/gradio/pull/7055\n\t\t\t} else {\n\t\t\t\tfn(_data);\n\t\t\t}\n\t\t} else {\n\t\t\tif (!pending_stream_messages[event_id]) {\n\t\t\t\tpending_stream_messages[event_id] = [];\n\t\t\t}\n\t\t\tpending_stream_messages[event_id].push(_data);\n\t\t}\n\t};\n\tstream.onerror = async function (e) {\n\t\tconsole.error(e);\n\t\tawait Promise.all(\n\t\t\tObject.keys(event_callbacks).map((event_id) =>\n\t\t\t\tevent_callbacks[event_id]({\n\t\t\t\t\tmsg: \"broken_connection\",\n\t\t\t\t\tmessage: BROKEN_CONNECTION_MSG\n\t\t\t\t})\n\t\t\t)\n\t\t);\n\t};\n}\n\nexport function close_stream(\n\tstream_status: { open: boolean },\n\tabort_controller: AbortController | null\n): void {\n\tif (stream_status) {\n\t\tstream_status.open = false;\n\t\tabort_controller?.abort();\n\t}\n}\n\nexport function apply_diff_stream(\n\tpending_diff_streams: Record<string, any[][]>,\n\tevent_id: string,\n\tdata: any\n): void {\n\tlet is_first_generation = !pending_diff_streams[event_id];\n\tif (is_first_generation) {\n\t\tpending_diff_streams[event_id] = [];\n\t\tdata.data.forEach((value: any, i: number) => {\n\t\t\tpending_diff_streams[event_id][i] = value;\n\t\t});\n\t} else {\n\t\tdata.data.forEach((value: any, i: number) => {\n\t\t\tlet new_data = apply_diff(pending_diff_streams[event_id][i], value);\n\t\t\tpending_diff_streams[event_id][i] = new_data;\n\t\t\tdata.data[i] = new_data;\n\t\t});\n\t}\n}\n\nexport function apply_diff(\n\tobj: any,\n\tdiff: [string, (number | string)[], any][]\n): any {\n\tdiff.forEach(([action, path, value]) => {\n\t\tobj = apply_edit(obj, path, action, value);\n\t});\n\n\treturn obj;\n}\n\nfunction apply_edit(\n\ttarget: any,\n\tpath: (number | string)[],\n\taction: string,\n\tvalue: any\n): any {\n\tif (path.length === 0) {\n\t\tif (action === \"replace\") {\n\t\t\treturn value;\n\t\t} else if (action === \"append\") {\n\t\t\treturn target + value;\n\t\t}\n\t\tthrow new Error(`Unsupported action: ${action}`);\n\t}\n\n\tlet current = target;\n\tfor (let i = 0; i < path.length - 1; i++) {\n\t\tcurrent = current[path[i]];\n\t}\n\n\tconst last_path = path[path.length - 1];\n\tswitch (action) {\n\t\tcase \"replace\":\n\t\t\tcurrent[last_path] = value;\n\t\t\tbreak;\n\t\tcase \"append\":\n\t\t\tcurrent[last_path] += value;\n\t\t\tbreak;\n\t\tcase \"add\":\n\t\t\tif (Array.isArray(current)) {\n\t\t\t\tcurrent.splice(Number(last_path), 0, value);\n\t\t\t} else {\n\t\t\t\tcurrent[last_path] = value;\n\t\t\t}\n\t\t\tbreak;\n\t\tcase \"delete\":\n\t\t\tif (Array.isArray(current)) {\n\t\t\t\tcurrent.splice(Number(last_path), 1);\n\t\t\t} else {\n\t\t\t\tdelete current[last_path];\n\t\t\t}\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tthrow new Error(`Unknown action: ${action}`);\n\t}\n\treturn target;\n}\n\nexport function readable_stream(\n\tinput: RequestInfo | URL,\n\tinit: RequestInit = {}\n): EventSource {\n\tconst instance: EventSource & { readyState: number } = {\n\t\tclose: () => {\n\t\t\tconsole.warn(\"Method not implemented.\");\n\t\t},\n\t\tonerror: null,\n\t\tonmessage: null,\n\t\tonopen: null,\n\t\treadyState: 0,\n\t\turl: input.toString(),\n\t\twithCredentials: false,\n\t\tCONNECTING: 0,\n\t\tOPEN: 1,\n\t\tCLOSED: 2,\n\t\taddEventListener: () => {\n\t\t\tthrow new Error(\"Method not implemented.\");\n\t\t},\n\t\tdispatchEvent: () => {\n\t\t\tthrow new Error(\"Method not implemented.\");\n\t\t},\n\t\tremoveEventListener: () => {\n\t\t\tthrow new Error(\"Method not implemented.\");\n\t\t}\n\t};\n\n\tstream(input, init)\n\t\t.then(async (res) => {\n\t\t\tinstance.readyState = instance.OPEN;\n\t\t\ttry {\n\t\t\t\tfor await (const chunk of res) {\n\t\t\t\t\t//@ts-ignore\n\t\t\t\t\tinstance.onmessage && instance.onmessage(chunk);\n\t\t\t\t}\n\t\t\t\tinstance.readyState = instance.CLOSED;\n\t\t\t} catch (e) {\n\t\t\t\tinstance.onerror && instance.onerror(e as Event);\n\t\t\t\tinstance.readyState = instance.CLOSED;\n\t\t\t}\n\t\t})\n\t\t.catch((e) => {\n\t\t\tconsole.error(e);\n\t\t\tinstance.onerror && instance.onerror(e as Event);\n\t\t\tinstance.readyState = instance.CLOSED;\n\t\t});\n\n\treturn instance as EventSource;\n}\n","/* eslint-disable complexity */\nimport type {\n\tStatus,\n\tPayload,\n\tGradioEvent,\n\tJsApiData,\n\tEndpointInfo,\n\tApiInfo,\n\tConfig,\n\tDependency,\n\tSubmitIterable\n} from \"../types\";\n\nimport { skip_queue, post_message, handle_payload } from \"../helpers/data\";\nimport { resolve_root } from \"../helpers/init_helpers\";\nimport {\n\thandle_message,\n\tmap_data_to_params,\n\tprocess_endpoint\n} from \"../helpers/api_info\";\nimport semiver from \"semiver\";\nimport {\n\tBROKEN_CONNECTION_MSG,\n\tQUEUE_FULL_MSG,\n\tSSE_URL,\n\tSSE_DATA_URL,\n\tRESET_URL,\n\tCANCEL_URL\n} from \"../constants\";\nimport { apply_diff_stream, close_stream } from \"./stream\";\nimport { Client } from \"../client\";\n\nexport function submit(\n\tthis: Client,\n\tendpoint: string | number,\n\tdata: unknown[] | Record<string, unknown> = {},\n\tevent_data?: unknown,\n\ttrigger_id?: number | null,\n\tall_events?: boolean\n): SubmitIterable<GradioEvent> {\n\ttry {\n\t\tconst { hf_token } = this.options;\n\t\tconst {\n\t\t\tfetch,\n\t\t\tapp_reference,\n\t\t\tconfig,\n\t\t\tsession_hash,\n\t\t\tapi_info,\n\t\t\tapi_map,\n\t\t\tstream_status,\n\t\t\tpending_stream_messages,\n\t\t\tpending_diff_streams,\n\t\t\tevent_callbacks,\n\t\t\tunclosed_events,\n\t\t\tpost_data,\n\t\t\toptions,\n\t\t\tapi_prefix\n\t\t} = this;\n\n\t\tconst that = this;\n\n\t\tif (!api_info) throw new Error(\"No API found\");\n\t\tif (!config) throw new Error(\"Could not resolve app config\");\n\n\t\tlet { fn_index, endpoint_info, dependency } = get_endpoint_info(\n\t\t\tapi_info,\n\t\t\tendpoint,\n\t\t\tapi_map,\n\t\t\tconfig\n\t\t);\n\n\t\tlet resolved_data = map_data_to_params(data, endpoint_info);\n\n\t\tlet websocket: WebSocket;\n\t\tlet stream: EventSource | null;\n\t\tlet protocol = config.protocol ?? \"ws\";\n\t\tlet event_id_final = \"\";\n\t\tlet event_id_cb: () => string = () => event_id_final;\n\n\t\tconst _endpoint = typeof endpoint === \"number\" ? \"/predict\" : endpoint;\n\t\tlet payload: Payload;\n\t\tlet event_id: string | null = null;\n\t\tlet complete: Status | undefined | false = false;\n\t\tlet last_status: Record<string, Status[\"stage\"]> = {};\n\t\tlet url_params =\n\t\t\ttypeof window !== \"undefined\" && typeof document !== \"undefined\"\n\t\t\t\t? new URLSearchParams(window.location.search).toString()\n\t\t\t\t: \"\";\n\n\t\tconst events_to_publish =\n\t\t\toptions?.events?.reduce(\n\t\t\t\t(acc, event) => {\n\t\t\t\t\tacc[event] = true;\n\t\t\t\t\treturn acc;\n\t\t\t\t},\n\t\t\t\t{} as Record<string, boolean>\n\t\t\t) || {};\n\n\t\t// event subscription methods\n\t\tfunction fire_event(event: GradioEvent): void {\n\t\t\tif (all_events || events_to_publish[event.type]) {\n\t\t\t\tpush_event(event);\n\t\t\t}\n\t\t}\n\n\t\tasync function cancel(): Promise<void> {\n\t\t\tlet reset_request = {};\n\t\t\tlet cancel_request = {};\n\t\t\tif (protocol === \"ws\") {\n\t\t\t\tif (websocket && websocket.readyState === 0) {\n\t\t\t\t\twebsocket.addEventListener(\"open\", () => {\n\t\t\t\t\t\twebsocket.close();\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\twebsocket.close();\n\t\t\t\t}\n\t\t\t\treset_request = { fn_index, session_hash };\n\t\t\t} else {\n\t\t\t\treset_request = { event_id };\n\t\t\t\tcancel_request = { event_id, session_hash, fn_index };\n\t\t\t}\n\n\t\t\ttry {\n\t\t\t\tif (!config) {\n\t\t\t\t\tthrow new Error(\"Could not resolve app config\");\n\t\t\t\t}\n\n\t\t\t\tif (\"event_id\" in cancel_request) {\n\t\t\t\t\tawait fetch(`${config.root}${api_prefix}/${CANCEL_URL}`, {\n\t\t\t\t\t\theaders: { \"Content-Type\": \"application/json\" },\n\t\t\t\t\t\tmethod: \"POST\",\n\t\t\t\t\t\tbody: JSON.stringify(cancel_request)\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\tawait fetch(`${config.root}${api_prefix}/${RESET_URL}`, {\n\t\t\t\t\theaders: { \"Content-Type\": \"application/json\" },\n\t\t\t\t\tmethod: \"POST\",\n\t\t\t\t\tbody: JSON.stringify(reset_request)\n\t\t\t\t});\n\t\t\t} catch (e) {\n\t\t\t\tconsole.warn(\n\t\t\t\t\t\"The `/reset` endpoint could not be called. Subsequent endpoint results may be unreliable.\"\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tconst resolve_heartbeat = async (config: Config): Promise<void> => {\n\t\t\tawait this._resolve_heartbeat(config);\n\t\t};\n\n\t\tasync function handle_render_config(render_config: any): Promise<void> {\n\t\t\tif (!config) return;\n\t\t\tlet render_id: number = render_config.render_id;\n\t\t\tconfig.components = [\n\t\t\t\t...config.components.filter((c) => c.props.rendered_in !== render_id),\n\t\t\t\t...render_config.components\n\t\t\t];\n\t\t\tconfig.dependencies = [\n\t\t\t\t...config.dependencies.filter((d) => d.rendered_in !== render_id),\n\t\t\t\t...render_config.dependencies\n\t\t\t];\n\t\t\tconst any_state = config.components.some((c) => c.type === \"state\");\n\t\t\tconst any_unload = config.dependencies.some((d) =>\n\t\t\t\td.targets.some((t) => t[1] === \"unload\")\n\t\t\t);\n\t\t\tconfig.connect_heartbeat = any_state || any_unload;\n\t\t\tawait resolve_heartbeat(config);\n\t\t\tfire_event({\n\t\t\t\ttype: \"render\",\n\t\t\t\tdata: render_config,\n\t\t\t\tendpoint: _endpoint,\n\t\t\t\tfn_index\n\t\t\t});\n\t\t}\n\n\t\tthis.handle_blob(config.root, resolved_data, endpoint_info).then(\n\t\t\tasync (_payload) => {\n\t\t\t\tlet input_data = handle_payload(\n\t\t\t\t\t_payload,\n\t\t\t\t\tdependency,\n\t\t\t\t\tconfig.components,\n\t\t\t\t\t\"input\",\n\t\t\t\t\ttrue\n\t\t\t\t);\n\t\t\t\tpayload = {\n\t\t\t\t\tdata: input_data || [],\n\t\t\t\t\tevent_data,\n\t\t\t\t\tfn_index,\n\t\t\t\t\ttrigger_id\n\t\t\t\t};\n\t\t\t\tif (skip_queue(fn_index, config)) {\n\t\t\t\t\tfire_event({\n\t\t\t\t\t\ttype: \"status\",\n\t\t\t\t\t\tendpoint: _endpoint,\n\t\t\t\t\t\tstage: \"pending\",\n\t\t\t\t\t\tqueue: false,\n\t\t\t\t\t\tfn_index,\n\t\t\t\t\t\ttime: new Date()\n\t\t\t\t\t});\n\n\t\t\t\t\tpost_data(\n\t\t\t\t\t\t`${config.root}${api_prefix}/run${\n\t\t\t\t\t\t\t_endpoint.startsWith(\"/\") ? _endpoint : `/${_endpoint}`\n\t\t\t\t\t\t}${url_params ? \"?\" + url_params : \"\"}`,\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t...payload,\n\t\t\t\t\t\t\tsession_hash\n\t\t\t\t\t\t}\n\t\t\t\t\t)\n\t\t\t\t\t\t.then(([output, status_code]: any) => {\n\t\t\t\t\t\t\tconst data = output.data;\n\t\t\t\t\t\t\tif (status_code == 200) {\n\t\t\t\t\t\t\t\tfire_event({\n\t\t\t\t\t\t\t\t\ttype: \"data\",\n\t\t\t\t\t\t\t\t\tendpoint: _endpoint,\n\t\t\t\t\t\t\t\t\tfn_index,\n\t\t\t\t\t\t\t\t\tdata: handle_payload(\n\t\t\t\t\t\t\t\t\t\tdata,\n\t\t\t\t\t\t\t\t\t\tdependency,\n\t\t\t\t\t\t\t\t\t\tconfig.components,\n\t\t\t\t\t\t\t\t\t\t\"output\",\n\t\t\t\t\t\t\t\t\t\toptions.with_null_state\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\ttime: new Date(),\n\t\t\t\t\t\t\t\t\tevent_data,\n\t\t\t\t\t\t\t\t\ttrigger_id\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tif (output.render_config) {\n\t\t\t\t\t\t\t\t\thandle_render_config(output.render_config);\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tfire_event({\n\t\t\t\t\t\t\t\t\ttype: \"status\",\n\t\t\t\t\t\t\t\t\tendpoint: _endpoint,\n\t\t\t\t\t\t\t\t\tfn_index,\n\t\t\t\t\t\t\t\t\tstage: \"complete\",\n\t\t\t\t\t\t\t\t\teta: output.average_duration,\n\t\t\t\t\t\t\t\t\tqueue: false,\n\t\t\t\t\t\t\t\t\ttime: new Date()\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tfire_event({\n\t\t\t\t\t\t\t\t\ttype: \"status\",\n\t\t\t\t\t\t\t\t\tstage: \"error\",\n\t\t\t\t\t\t\t\t\tendpoint: _endpoint,\n\t\t\t\t\t\t\t\t\tfn_index,\n\t\t\t\t\t\t\t\t\tmessage: output.error,\n\t\t\t\t\t\t\t\t\tqueue: false,\n\t\t\t\t\t\t\t\t\ttime: new Date()\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.catch((e) => {\n\t\t\t\t\t\t\tfire_event({\n\t\t\t\t\t\t\t\ttype: \"status\",\n\t\t\t\t\t\t\t\tstage: \"error\",\n\t\t\t\t\t\t\t\tmessage: e.message,\n\t\t\t\t\t\t\t\tendpoint: _endpoint,\n\t\t\t\t\t\t\t\tfn_index,\n\t\t\t\t\t\t\t\tqueue: false,\n\t\t\t\t\t\t\t\ttime: new Date()\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\t\t\t\t} else if (protocol == \"ws\") {\n\t\t\t\t\tconst { ws_protocol, host } = await process_endpoint(\n\t\t\t\t\t\tapp_reference,\n\t\t\t\t\t\thf_token\n\t\t\t\t\t);\n\n\t\t\t\t\tfire_event({\n\t\t\t\t\t\ttype: \"status\",\n\t\t\t\t\t\tstage: \"pending\",\n\t\t\t\t\t\tqueue: true,\n\t\t\t\t\t\tendpoint: _endpoint,\n\t\t\t\t\t\tfn_index,\n\t\t\t\t\t\ttime: new Date()\n\t\t\t\t\t});\n\n\t\t\t\t\tlet url = new URL(\n\t\t\t\t\t\t`${ws_protocol}://${resolve_root(\n\t\t\t\t\t\t\thost,\n\t\t\t\t\t\t\tconfig.root as string,\n\t\t\t\t\t\t\ttrue\n\t\t\t\t\t\t)}/queue/join${url_params ? \"?\" + url_params : \"\"}`\n\t\t\t\t\t);\n\n\t\t\t\t\tif (this.jwt) {\n\t\t\t\t\t\turl.searchParams.set(\"__sign\", this.jwt);\n\t\t\t\t\t}\n\n\t\t\t\t\twebsocket = new WebSocket(url);\n\n\t\t\t\t\twebsocket.onclose = (evt) => {\n\t\t\t\t\t\tif (!evt.wasClean) {\n\t\t\t\t\t\t\tfire_event({\n\t\t\t\t\t\t\t\ttype: \"status\",\n\t\t\t\t\t\t\t\tstage: \"error\",\n\t\t\t\t\t\t\t\tbroken: true,\n\t\t\t\t\t\t\t\tmessage: BROKEN_CONNECTION_MSG,\n\t\t\t\t\t\t\t\tqueue: true,\n\t\t\t\t\t\t\t\tendpoint: _endpoint,\n\t\t\t\t\t\t\t\tfn_index,\n\t\t\t\t\t\t\t\ttime: new Date()\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\n\t\t\t\t\twebsocket.onmessage = function (event) {\n\t\t\t\t\t\tconst _data = JSON.parse(event.data);\n\t\t\t\t\t\tconst { type, status, data } = handle_message(\n\t\t\t\t\t\t\t_data,\n\t\t\t\t\t\t\tlast_status[fn_index]\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tif (type === \"update\" && status && !complete) {\n\t\t\t\t\t\t\t// call 'status' listeners\n\t\t\t\t\t\t\tfire_event({\n\t\t\t\t\t\t\t\ttype: \"status\",\n\t\t\t\t\t\t\t\tendpoint: _endpoint,\n\t\t\t\t\t\t\t\tfn_index,\n\t\t\t\t\t\t\t\ttime: new Date(),\n\t\t\t\t\t\t\t\t...status\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tif (status.stage === \"error\") {\n\t\t\t\t\t\t\t\twebsocket.close();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else if (type === \"hash\") {\n\t\t\t\t\t\t\twebsocket.send(JSON.stringify({ fn_index, session_hash }));\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t} else if (type === \"data\") {\n\t\t\t\t\t\t\twebsocket.send(JSON.stringify({ ...payload, session_hash }));\n\t\t\t\t\t\t} else if (type === \"complete\") {\n\t\t\t\t\t\t\tcomplete = status;\n\t\t\t\t\t\t} else if (type === \"log\") {\n\t\t\t\t\t\t\tfire_event({\n\t\t\t\t\t\t\t\ttype: \"log\",\n\t\t\t\t\t\t\t\ttitle: data.title,\n\t\t\t\t\t\t\t\tlog: data.log,\n\t\t\t\t\t\t\t\tlevel: data.level,\n\t\t\t\t\t\t\t\tendpoint: _endpoint,\n\t\t\t\t\t\t\t\tduration: data.duration,\n\t\t\t\t\t\t\t\tvisible: data.visible,\n\t\t\t\t\t\t\t\tfn_index\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else if (type === \"generating\") {\n\t\t\t\t\t\t\tfire_event({\n\t\t\t\t\t\t\t\ttype: \"status\",\n\t\t\t\t\t\t\t\ttime: new Date(),\n\t\t\t\t\t\t\t\t...status,\n\t\t\t\t\t\t\t\tstage: status?.stage!,\n\t\t\t\t\t\t\t\tqueue: true,\n\t\t\t\t\t\t\t\tendpoint: _endpoint,\n\t\t\t\t\t\t\t\tfn_index\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (data) {\n\t\t\t\t\t\t\tfire_event({\n\t\t\t\t\t\t\t\ttype: \"data\",\n\t\t\t\t\t\t\t\ttime: new Date(),\n\t\t\t\t\t\t\t\tdata: handle_payload(\n\t\t\t\t\t\t\t\t\tdata.data,\n\t\t\t\t\t\t\t\t\tdependency,\n\t\t\t\t\t\t\t\t\tconfig.components,\n\t\t\t\t\t\t\t\t\t\"output\",\n\t\t\t\t\t\t\t\t\toptions.with_null_state\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\tendpoint: _endpoint,\n\t\t\t\t\t\t\t\tfn_index,\n\t\t\t\t\t\t\t\tevent_data,\n\t\t\t\t\t\t\t\ttrigger_id\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tif (complete) {\n\t\t\t\t\t\t\t\tfire_event({\n\t\t\t\t\t\t\t\t\ttype: \"status\",\n\t\t\t\t\t\t\t\t\ttime: new Date(),\n\t\t\t\t\t\t\t\t\t...complete,\n\t\t\t\t\t\t\t\t\tstage: status?.stage!,\n\t\t\t\t\t\t\t\t\tqueue: true,\n\t\t\t\t\t\t\t\t\tendpoint: _endpoint,\n\t\t\t\t\t\t\t\t\tfn_index\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\twebsocket.close();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\n\t\t\t\t\t// different ws contract for gradio versions older than 3.6.0\n\t\t\t\t\t//@ts-ignore\n\t\t\t\t\tif (semiver(config.version || \"2.0.0\", \"3.6\") < 0) {\n\t\t\t\t\t\taddEventListener(\"open\", () =>\n\t\t\t\t\t\t\twebsocket.send(JSON.stringify({ hash: session_hash }))\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t} else if (protocol == \"sse\") {\n\t\t\t\t\tfire_event({\n\t\t\t\t\t\ttype: \"status\",\n\t\t\t\t\t\tstage: \"pending\",\n\t\t\t\t\t\tqueue: true,\n\t\t\t\t\t\tendpoint: _endpoint,\n\t\t\t\t\t\tfn_index,\n\t\t\t\t\t\ttime: new Date()\n\t\t\t\t\t});\n\t\t\t\t\tvar params = new URLSearchParams({\n\t\t\t\t\t\tfn_index: fn_index.toString(),\n\t\t\t\t\t\tsession_hash: session_hash\n\t\t\t\t\t}).toString();\n\t\t\t\t\tlet url = new URL(\n\t\t\t\t\t\t`${config.root}${api_prefix}/${SSE_URL}?${\n\t\t\t\t\t\t\turl_params ? url_params + \"&\" : \"\"\n\t\t\t\t\t\t}${params}`\n\t\t\t\t\t);\n\n\t\t\t\t\tif (this.jwt) {\n\t\t\t\t\t\turl.searchParams.set(\"__sign\", this.jwt);\n\t\t\t\t\t}\n\n\t\t\t\t\tstream = this.stream(url);\n\n\t\t\t\t\tif (!stream) {\n\t\t\t\t\t\treturn Promise.reject(\n\t\t\t\t\t\t\tnew Error(\"Cannot connect to SSE endpoint: \" + url.toString())\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\n\t\t\t\t\tstream.onmessage = async function (event: MessageEvent) {\n\t\t\t\t\t\tconst _data = JSON.parse(event.data);\n\t\t\t\t\t\tconst { type, status, data } = handle_message(\n\t\t\t\t\t\t\t_data,\n\t\t\t\t\t\t\tlast_status[fn_index]\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tif (type === \"update\" && status && !complete) {\n\t\t\t\t\t\t\t// call 'status' listeners\n\t\t\t\t\t\t\tfire_event({\n\t\t\t\t\t\t\t\ttype: \"status\",\n\t\t\t\t\t\t\t\tendpoint: _endpoint,\n\t\t\t\t\t\t\t\tfn_index,\n\t\t\t\t\t\t\t\ttime: new Date(),\n\t\t\t\t\t\t\t\t...status\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tif (status.stage === \"error\") {\n\t\t\t\t\t\t\t\tstream?.close();\n\t\t\t\t\t\t\t\tclose();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else if (type === \"data\") {\n\t\t\t\t\t\t\tlet [_, status] = await post_data(\n\t\t\t\t\t\t\t\t`${config.root}${api_prefix}/queue/data`,\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t...payload,\n\t\t\t\t\t\t\t\t\tsession_hash,\n\t\t\t\t\t\t\t\t\tevent_id\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tif (status !== 200) {\n\t\t\t\t\t\t\t\tfire_event({\n\t\t\t\t\t\t\t\t\ttype: \"status\",\n\t\t\t\t\t\t\t\t\tstage: \"error\",\n\t\t\t\t\t\t\t\t\tmessage: BROKEN_CONNECTION_MSG,\n\t\t\t\t\t\t\t\t\tqueue: true,\n\t\t\t\t\t\t\t\t\tendpoint: _endpoint,\n\t\t\t\t\t\t\t\t\tfn_index,\n\t\t\t\t\t\t\t\t\ttime: new Date()\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tstream?.close();\n\t\t\t\t\t\t\t\tclose();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else if (type === \"complete\") {\n\t\t\t\t\t\t\tcomplete = status;\n\t\t\t\t\t\t} else if (type === \"log\") {\n\t\t\t\t\t\t\tfire_event({\n\t\t\t\t\t\t\t\ttype: \"log\",\n\t\t\t\t\t\t\t\ttitle: data.title,\n\t\t\t\t\t\t\t\tlog: data.log,\n\t\t\t\t\t\t\t\tlevel: data.level,\n\t\t\t\t\t\t\t\tendpoint: _endpoint,\n\t\t\t\t\t\t\t\tduration: data.duration,\n\t\t\t\t\t\t\t\tvisible: data.visible,\n\t\t\t\t\t\t\t\tfn_index\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else if (type === \"generating\" || type === \"streaming\") {\n\t\t\t\t\t\t\tfire_event({\n\t\t\t\t\t\t\t\ttype: \"status\",\n\t\t\t\t\t\t\t\ttime: new Date(),\n\t\t\t\t\t\t\t\t...status,\n\t\t\t\t\t\t\t\tstage: status?.stage!,\n\t\t\t\t\t\t\t\tqueue: true,\n\t\t\t\t\t\t\t\tendpoint: _endpoint,\n\t\t\t\t\t\t\t\tfn_index\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (data) {\n\t\t\t\t\t\t\tfire_event({\n\t\t\t\t\t\t\t\ttype: \"data\",\n\t\t\t\t\t\t\t\ttime: new Date(),\n\t\t\t\t\t\t\t\tdata: handle_payload(\n\t\t\t\t\t\t\t\t\tdata.data,\n\t\t\t\t\t\t\t\t\tdependency,\n\t\t\t\t\t\t\t\t\tconfig.components,\n\t\t\t\t\t\t\t\t\t\"output\",\n\t\t\t\t\t\t\t\t\toptions.with_null_state\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\tendpoint: _endpoint,\n\t\t\t\t\t\t\t\tfn_index,\n\t\t\t\t\t\t\t\tevent_data,\n\t\t\t\t\t\t\t\ttrigger_id\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tif (complete) {\n\t\t\t\t\t\t\t\tfire_event({\n\t\t\t\t\t\t\t\t\ttype: \"status\",\n\t\t\t\t\t\t\t\t\ttime: new Date(),\n\t\t\t\t\t\t\t\t\t...complete,\n\t\t\t\t\t\t\t\t\tstage: status?.stage!,\n\t\t\t\t\t\t\t\t\tqueue: true,\n\t\t\t\t\t\t\t\t\tendpoint: _endpoint,\n\t\t\t\t\t\t\t\t\tfn_index\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tstream?.close();\n\t\t\t\t\t\t\t\tclose();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t} else if (\n\t\t\t\t\tprotocol == \"sse_v1\" ||\n\t\t\t\t\tprotocol == \"sse_v2\" ||\n\t\t\t\t\tprotocol == \"sse_v2.1\" ||\n\t\t\t\t\tprotocol == \"sse_v3\"\n\t\t\t\t) {\n\t\t\t\t\t// latest API format. v2 introduces sending diffs for intermediate outputs in generative functions, which makes payloads lighter.\n\t\t\t\t\t// v3 only closes the stream when the backend sends the close stream message.\n\t\t\t\t\tfire_event({\n\t\t\t\t\t\ttype: \"status\",\n\t\t\t\t\t\tstage: \"pending\",\n\t\t\t\t\t\tqueue: true,\n\t\t\t\t\t\tendpoint: _endpoint,\n\t\t\t\t\t\tfn_index,\n\t\t\t\t\t\ttime: new Date()\n\t\t\t\t\t});\n\t\t\t\t\tlet hostname = \"\";\n\t\t\t\t\tif (\n\t\t\t\t\t\ttypeof window !== \"undefined\" &&\n\t\t\t\t\t\ttypeof document !== \"undefined\"\n\t\t\t\t\t) {\n\t\t\t\t\t\thostname = window?.location?.hostname;\n\t\t\t\t\t}\n\n\t\t\t\t\tlet hfhubdev = \"dev.spaces.huggingface.tech\";\n\t\t\t\t\tconst origin = hostname.includes(\".dev.\")\n\t\t\t\t\t\t? `https://moon-${hostname.split(\".\")[1]}.${hfhubdev}`\n\t\t\t\t\t\t: `https://huggingface.co`;\n\n\t\t\t\t\tconst is_zerogpu_iframe =\n\t\t\t\t\t\ttypeof window !== \"undefined\" &&\n\t\t\t\t\t\ttypeof document !== \"undefined\" &&\n\t\t\t\t\t\twindow.parent != window &&\n\t\t\t\t\t\twindow.supports_zerogpu_headers;\n\t\t\t\t\tconst zerogpu_auth_promise = is_zerogpu_iframe\n\t\t\t\t\t\t? post_message<Map<string, string>>(\"zerogpu-headers\", origin)\n\t\t\t\t\t\t: Promise.resolve(null);\n\t\t\t\t\tconst post_data_promise = zerogpu_auth_promise.then((headers) => {\n\t\t\t\t\t\treturn post_data(\n\t\t\t\t\t\t\t`${config.root}${api_prefix}/${SSE_DATA_URL}?${url_params}`,\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t...payload,\n\t\t\t\t\t\t\t\tsession_hash\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\theaders\n\t\t\t\t\t\t);\n\t\t\t\t\t});\n\t\t\t\t\tpost_data_promise.then(async ([response, status]: any) => {\n\t\t\t\t\t\tif (status === 503) {\n\t\t\t\t\t\t\tfire_event({\n\t\t\t\t\t\t\t\ttype: \"status\",\n\t\t\t\t\t\t\t\tstage: \"error\",\n\t\t\t\t\t\t\t\tmessage: QUEUE_FULL_MSG,\n\t\t\t\t\t\t\t\tqueue: true,\n\t\t\t\t\t\t\t\tendpoint: _endpoint,\n\t\t\t\t\t\t\t\tfn_index,\n\t\t\t\t\t\t\t\ttime: new Date()\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else if (status !== 200) {\n\t\t\t\t\t\t\tfire_event({\n\t\t\t\t\t\t\t\ttype: \"status\",\n\t\t\t\t\t\t\t\tstage: \"error\",\n\t\t\t\t\t\t\t\tbroken: true,\n\t\t\t\t\t\t\t\tmessage: BROKEN_CONNECTION_MSG,\n\t\t\t\t\t\t\t\tqueue: true,\n\t\t\t\t\t\t\t\tendpoint: _endpoint,\n\t\t\t\t\t\t\t\tfn_index,\n\t\t\t\t\t\t\t\ttime: new Date()\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tevent_id = response.event_id as string;\n\t\t\t\t\t\t\tevent_id_final = event_id;\n\t\t\t\t\t\t\tlet callback = async function (_data: object): Promise<void> {\n\t\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t\tconst { type, status, data, original_msg } = handle_message(\n\t\t\t\t\t\t\t\t\t\t_data,\n\t\t\t\t\t\t\t\t\t\tlast_status[fn_index]\n\t\t\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\t\t\tif (type == \"heartbeat\") {\n\t\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\tif (type === \"update\" && status && !complete) {\n\t\t\t\t\t\t\t\t\t\t// call 'status' listeners\n\t\t\t\t\t\t\t\t\t\tfire_event({\n\t\t\t\t\t\t\t\t\t\t\ttype: \"status\",\n\t\t\t\t\t\t\t\t\t\t\tendpoint: _endpoint,\n\t\t\t\t\t\t\t\t\t\t\tfn_index,\n\t\t\t\t\t\t\t\t\t\t\ttime: new Date(),\n\t\t\t\t\t\t\t\t\t\t\toriginal_msg: original_msg,\n\t\t\t\t\t\t\t\t\t\t\t...status\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t} else if (type === \"complete\") {\n\t\t\t\t\t\t\t\t\t\tcomplete = status;\n\t\t\t\t\t\t\t\t\t} else if (\n\t\t\t\t\t\t\t\t\t\ttype == \"unexpected_error\" ||\n\t\t\t\t\t\t\t\t\t\ttype == \"broken_connection\"\n\t\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\t\tconsole.error(\"Unexpected error\", status?.message);\n\t\t\t\t\t\t\t\t\t\tconst broken = type === \"broken_connection\";\n\t\t\t\t\t\t\t\t\t\tfire_event({\n\t\t\t\t\t\t\t\t\t\t\ttype: \"status\",\n\t\t\t\t\t\t\t\t\t\t\tstage: \"error\",\n\t\t\t\t\t\t\t\t\t\t\tmessage:\n\t\t\t\t\t\t\t\t\t\t\t\tstatus?.message || \"An Unexpected Error Occurred!\",\n\t\t\t\t\t\t\t\t\t\t\tqueue: true,\n\t\t\t\t\t\t\t\t\t\t\tendpoint: _endpoint,\n\t\t\t\t\t\t\t\t\t\t\tbroken,\n\t\t\t\t\t\t\t\t\t\t\tsession_not_found: status?.session_not_found,\n\t\t\t\t\t\t\t\t\t\t\tfn_index,\n\t\t\t\t\t\t\t\t\t\t\ttime: new Date()\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t} else if (type === \"log\") {\n\t\t\t\t\t\t\t\t\t\tfire_event({\n\t\t\t\t\t\t\t\t\t\t\ttype: \"log\",\n\t\t\t\t\t\t\t\t\t\t\ttitle: data.title,\n\t\t\t\t\t\t\t\t\t\t\tlog: data.log,\n\t\t\t\t\t\t\t\t\t\t\tlevel: data.level,\n\t\t\t\t\t\t\t\t\t\t\tendpoint: _endpoint,\n\t\t\t\t\t\t\t\t\t\t\tduration: data.duration,\n\t\t\t\t\t\t\t\t\t\t\tvisible: data.visible,\n\t\t\t\t\t\t\t\t\t\t\tfn_index\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t\t} else if (type === \"generating\" || type === \"streaming\") {\n\t\t\t\t\t\t\t\t\t\tfire_event({\n\t\t\t\t\t\t\t\t\t\t\ttype: \"status\",\n\t\t\t\t\t\t\t\t\t\t\ttime: new Date(),\n\t\t\t\t\t\t\t\t\t\t\t...status,\n\t\t\t\t\t\t\t\t\t\t\tstage: status?.stage!,\n\t\t\t\t\t\t\t\t\t\t\tqueue: true,\n\t\t\t\t\t\t\t\t\t\t\tendpoint: _endpoint,\n\t\t\t\t\t\t\t\t\t\t\tfn_index\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\t\t\tdata &&\n\t\t\t\t\t\t\t\t\t\t\tdependency.connection !== \"stream\" &&\n\t\t\t\t\t\t\t\t\t\t\t[\"sse_v2\", \"sse_v2.1\", \"sse_v3\"].includes(protocol)\n\t\t\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\t\t\tapply_diff_stream(pending_diff_streams, event_id!, data);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tif (data) {\n\t\t\t\t\t\t\t\t\t\tfire_event({\n\t\t\t\t\t\t\t\t\t\t\ttype: \"data\",\n\t\t\t\t\t\t\t\t\t\t\ttime: new Date(),\n\t\t\t\t\t\t\t\t\t\t\tdata: handle_payload(\n\t\t\t\t\t\t\t\t\t\t\t\tdata.data,\n\t\t\t\t\t\t\t\t\t\t\t\tdependency,\n\t\t\t\t\t\t\t\t\t\t\t\tconfig.components,\n\t\t\t\t\t\t\t\t\t\t\t\t\"output\",\n\t\t\t\t\t\t\t\t\t\t\t\toptions.with_null_state\n\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t\tendpoint: _endpoint,\n\t\t\t\t\t\t\t\t\t\t\tfn_index\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\tif (data.render_config) {\n\t\t\t\t\t\t\t\t\t\t\tawait handle_render_config(data.render_config);\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\tif (complete) {\n\t\t\t\t\t\t\t\t\t\t\tfire_event({\n\t\t\t\t\t\t\t\t\t\t\t\ttype: \"status\",\n\t\t\t\t\t\t\t\t\t\t\t\ttime: new Date(),\n\t\t\t\t\t\t\t\t\t\t\t\t...complete,\n\t\t\t\t\t\t\t\t\t\t\t\tstage: status?.stage!,\n\t\t\t\t\t\t\t\t\t\t\t\tqueue: true,\n\t\t\t\t\t\t\t\t\t\t\t\tendpoint: _endpoint,\n\t\t\t\t\t\t\t\t\t\t\t\tfn_index\n\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\tclose();\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\t\tstatus?.stage === \"complete\" ||\n\t\t\t\t\t\t\t\t\t\tstatus?.stage === \"error\"\n\t\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\t\tif (event_callbacks[event_id!]) {\n\t\t\t\t\t\t\t\t\t\t\tdelete event_callbacks[event_id!];\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tif (event_id! in pending_diff_streams) {\n\t\t\t\t\t\t\t\t\t\t\tdelete pending_diff_streams[event_id!];\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\t\t\t\tconsole.error(\"Unexpected client exception\", e);\n\t\t\t\t\t\t\t\t\tfire_event({\n\t\t\t\t\t\t\t\t\t\ttype: \"status\",\n\t\t\t\t\t\t\t\t\t\tstage: \"error\",\n\t\t\t\t\t\t\t\t\t\tmessage: \"An Unexpected Error Occurred!\",\n\t\t\t\t\t\t\t\t\t\tqueue: true,\n\t\t\t\t\t\t\t\t\t\tendpoint: _endpoint,\n\t\t\t\t\t\t\t\t\t\tfn_index,\n\t\t\t\t\t\t\t\t\t\ttime: new Date()\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\tif ([\"sse_v2\", \"sse_v2.1\", \"sse_v3\"].includes(protocol)) {\n\t\t\t\t\t\t\t\t\t\tclose_stream(stream_status, that.abort_controller);\n\t\t\t\t\t\t\t\t\t\tstream_status.open = false;\n\t\t\t\t\t\t\t\t\t\tclose();\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\tif (event_id in pending_stream_messages) {\n\t\t\t\t\t\t\t\tpending_stream_messages[event_id].forEach((msg) =>\n\t\t\t\t\t\t\t\t\tcallback(msg)\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\tdelete pending_stream_messages[event_id];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t// @ts-ignore\n\t\t\t\t\t\t\tevent_callbacks[event_id] = callback;\n\t\t\t\t\t\t\tunclosed_events.add(event_id);\n\t\t\t\t\t\t\tif (!stream_status.open) {\n\t\t\t\t\t\t\t\tawait this.open_stream();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t);\n\n\t\tlet done = false;\n\t\tconst values: (IteratorResult<GradioEvent> | PromiseLike<never>)[] = [];\n\t\tconst resolvers: ((\n\t\t\tvalue: IteratorResult<GradioEvent> | PromiseLike<never>\n\t\t) => void)[] = [];\n\n\t\tfunction close(): void {\n\t\t\tdone = true;\n\t\t\twhile (resolvers.length > 0)\n\t\t\t\t(resolvers.shift() as (typeof resolvers)[0])({\n\t\t\t\t\tvalue: undefined,\n\t\t\t\t\tdone: true\n\t\t\t\t});\n\t\t}\n\n\t\tfunction push(\n\t\t\tdata: { value: GradioEvent; done: boolean } | PromiseLike<never>\n\t\t): void {\n\t\t\tif (resolvers.length > 0) {\n\t\t\t\t(resolvers.shift() as (typeof resolvers)[0])(data);\n\t\t\t} else {\n\t\t\t\tvalues.push(data);\n\t\t\t}\n\t\t}\n\n\t\tfunction push_error(error: unknown): void {\n\t\t\tpush(thenable_reject(error));\n\t\t\tclose();\n\t\t}\n\n\t\tfunction push_event(event: GradioEvent): void {\n\t\t\tpush({ value: event, done: false });\n\t\t}\n\n\t\tfunction next(): Promise<IteratorResult<GradioEvent, unknown>> {\n\t\t\tif (values.length > 0) {\n\t\t\t\treturn Promise.resolve(values.shift() as (typeof values)[0]);\n\t\t\t}\n\t\t\treturn new Promise((resolve) => resolvers.push(resolve));\n\t\t}\n\n\t\tconst iterator = {\n\t\t\t[Symbol.asyncIterator]: () => iterator,\n\t\t\tnext,\n\t\t\tthrow: async (value: unknown) => {\n\t\t\t\tpush_error(value);\n\t\t\t\treturn next();\n\t\t\t},\n\t\t\treturn: async () => {\n\t\t\t\tclose();\n\t\t\t\treturn next();\n\t\t\t},\n\t\t\tcancel,\n\t\t\tevent_id: event_id_cb\n\t\t};\n\n\t\treturn iterator;\n\t} catch (error) {\n\t\tconsole.error(\"Submit function encountered an error:\", error);\n\t\tthrow error;\n\t}\n}\n\nfunction thenable_reject<T>(error: T): PromiseLike<never> {\n\treturn {\n\t\tthen: (\n\t\t\tresolve: (value: never) => PromiseLike<never>,\n\t\t\treject: (error: T) => PromiseLike<never>\n\t\t) => reject(error)\n\t};\n}\n\nfunction get_endpoint_info(\n\tapi_info: ApiInfo<JsApiData>,\n\tendpoint: string | number,\n\tapi_map: Record<string, number>,\n\tconfig: Config\n): {\n\tfn_index: number;\n\tendpoint_info: EndpointInfo<JsApiData>;\n\tdependency: Dependency;\n} {\n\tlet fn_index: number;\n\tlet endpoint_info: EndpointInfo<JsApiData>;\n\tlet dependency: Dependency;\n\n\tif (typeof endpoint === \"number\") {\n\t\tfn_index = endpoint;\n\t\tendpoint_info = api_info.unnamed_endpoints[fn_index];\n\t\tdependency = config.dependencies.find((dep) => dep.id == endpoint)!;\n\t} else {\n\t\tconst trimmed_endpoint = endpoint.replace(/^\\//, \"\");\n\n\t\tfn_index = api_map[trimmed_endpoint];\n\t\tendpoint_info = api_info.named_endpoints[endpoint.trim()];\n\t\tdependency = config.dependencies.find(\n\t\t\t(dep) => dep.id == api_map[trimmed_endpoint]\n\t\t)!;\n\t}\n\n\tif (typeof fn_index !== \"number\") {\n\t\tthrow new Error(\n\t\t\t\"There is no endpoint matching that name of fn_index matching that number.\"\n\t\t);\n\t}\n\treturn { fn_index, endpoint_info, dependency };\n}\n","import type {\n\tApiData,\n\tApiInfo,\n\tClientOptions,\n\tConfig,\n\tDuplicateOptions,\n\tEndpointInfo,\n\tJsApiData,\n\tPredictReturn,\n\tSpaceStatus,\n\tStatus,\n\tUploadResponse,\n\tclient_return,\n\tSubmitIterable,\n\tGradioEvent\n} from \"./types\";\nimport { view_api } from \"./utils/view_api\";\nimport { upload_files } from \"./utils/upload_files\";\nimport { upload, FileData } from \"./upload\";\nimport { handle_blob } from \"./utils/handle_blob\";\nimport { post_data } from \"./utils/post_data\";\nimport { predict } from \"./utils/predict\";\nimport { duplicate } from \"./utils/duplicate\";\nimport { submit } from \"./utils/submit\";\nimport { RE_SPACE_NAME, process_endpoint } from \"./helpers/api_info\";\nimport {\n\tmap_names_to_ids,\n\tresolve_cookies,\n\tresolve_config,\n\tget_jwt,\n\tparse_and_set_cookies\n} from \"./helpers/init_helpers\";\nimport { check_and_wake_space, check_space_status } from \"./helpers/spaces\";\nimport { open_stream, readable_stream, close_stream } from \"./utils/stream\";\nimport {\n\tAPI_INFO_ERROR_MSG,\n\tAPP_ID_URL,\n\tCONFIG_ERROR_MSG,\n\tHEARTBEAT_URL,\n\tCOMPONENT_SERVER_URL\n} from \"./constants\";\n\ndeclare const BROWSER_BUILD: boolean;\n\nexport class Client {\n\tapp_reference: string;\n\toptions: ClientOptions;\n\tdeep_link: string | null = null;\n\n\tconfig: Config | undefined;\n\tapi_prefix = \"\";\n\tapi_info: ApiInfo<JsApiData> | undefined;\n\tapi_map: Record<string, number> = {};\n\tsession_hash: string = Math.random().toString(36).substring(2);\n\tjwt: string | false = false;\n\tlast_status: Record<string, Status[\"stage\"]> = {};\n\n\tprivate cookies: string | null = null;\n\n\t// streaming\n\tstream_status = { open: false };\n\tclosed = false;\n\tpending_stream_messages: Record<string, any[][]> = {};\n\tpending_diff_streams: Record<string, any[][]> = {};\n\tevent_callbacks: Record<string, (data?: unknown) => Promise<void>> = {};\n\tunclosed_events: Set<string> = new Set();\n\theartbeat_event: EventSource | null = null;\n\tabort_controller: AbortController | null = null;\n\tstream_instance: EventSource | null = null;\n\tcurrent_payload: any;\n\tws_map: Record<string, WebSocket | \"pending\" | \"failed\" | \"closed\"> = {};\n\n\tget_url_config(url: string | null = null): Config {\n\t\tif (!this.config) {\n\t\t\tthrow new Error(CONFIG_ERROR_MSG);\n\t\t}\n\t\tif (url === null) {\n\t\t\turl = window.location.href;\n\t\t}\n\t\tconst stripSlashes = (str: string): string => str.replace(/^\\/+|\\/+$/g, \"\");\n\t\tlet root_path = stripSlashes(new URL(this.config.root).pathname);\n\t\tlet url_path = stripSlashes(new URL(url).pathname);\n\t\tlet page: string;\n\t\tif (!url_path.startsWith(root_path)) {\n\t\t\tpage = \"\";\n\t\t} else {\n\t\t\tpage = stripSlashes(url_path.substring(root_path.length));\n\t\t}\n\t\treturn this.get_page_config(page);\n\t}\n\tget_page_config(page: string): Config {\n\t\tif (!this.config) {\n\t\t\tthrow new Error(CONFIG_ERROR_MSG);\n\t\t}\n\t\tlet config = this.config;\n\t\tif (!(page in config.page)) {\n\t\t\tpage = \"\";\n\t\t}\n\t\treturn {\n\t\t\t...config,\n\t\t\tcurrent_page: page,\n\t\t\tlayout: config.page[page].layout,\n\t\t\tcomponents: config.components.filter((c) =>\n\t\t\t\tconfig.page[page].components.includes(c.id)\n\t\t\t),\n\t\t\tdependencies: this.config.dependencies.filter((d) =>\n\t\t\t\tconfig.page[page].dependencies.includes(d.id)\n\t\t\t)\n\t\t};\n\t}\n\n\tfetch(input: RequestInfo | URL, init?: RequestInit): Promise<Response> {\n\t\tconst headers = new Headers(init?.headers || {});\n\t\tif (this && this.cookies) {\n\t\t\theaders.append(\"Cookie\", this.cookies);\n\t\t}\n\t\tif (this && this.options.headers) {\n\t\t\tfor (const name in this.options.headers) {\n\t\t\t\theaders.append(name, this.options.headers[name]);\n\t\t\t}\n\t\t}\n\n\t\treturn fetch(input, { ...init, headers });\n\t}\n\n\tstream(url: URL): EventSource {\n\t\tconst headers = new Headers();\n\t\tif (this && this.cookies) {\n\t\t\theaders.append(\"Cookie\", this.cookies);\n\t\t}\n\t\tif (this && this.options.headers) {\n\t\t\tfor (const name in this.options.headers) {\n\t\t\t\theaders.append(name, this.options.headers[name]);\n\t\t\t}\n\t\t}\n\t\tif (this && this.options.hf_token) {\n\t\t\theaders.append(\"Authorization\", `Bearer ${this.options.hf_token}`);\n\t\t}\n\n\t\tthis.abort_controller = new AbortController();\n\n\t\tthis.stream_instance = readable_stream(url.toString(), {\n\t\t\tcredentials: \"include\",\n\t\t\theaders: headers,\n\t\t\tsignal: this.abort_controller.signal\n\t\t});\n\n\t\treturn this.stream_instance;\n\t}\n\n\tview_api: () => Promise<ApiInfo<JsApiData>>;\n\tupload_files: (\n\t\troot_url: string,\n\t\tfiles: (Blob | File)[],\n\t\tupload_id?: string\n\t) => Promise<UploadResponse>;\n\tupload: (\n\t\tfile_data: FileData[],\n\t\troot_url: string,\n\t\tupload_id?: string,\n\t\tmax_file_size?: number\n\t) => Promise<(FileData | null)[] | null>;\n\thandle_blob: (\n\t\tendpoint: string,\n\t\tdata: unknown[],\n\t\tendpoint_info: EndpointInfo<ApiData | JsApiData>\n\t) => Promise<unknown[]>;\n\tpost_data: (\n\t\turl: string,\n\t\tbody: unknown,\n\t\tadditional_headers?: any\n\t) => Promise<unknown[]>;\n\tsubmit: (\n\t\tendpoint: string | number,\n\t\tdata: unknown[] | Record<string, unknown> | undefined,\n\t\tevent_data?: unknown,\n\t\ttrigger_id?: number | null,\n\t\tall_events?: boolean\n\t) => SubmitIterable<GradioEvent>;\n\tpredict: (\n\t\tendpoint: string | number,\n\t\tdata: unknown[] | Record<string, unknown> | undefined,\n\t\tevent_data?: unknown\n\t) => Promise<PredictReturn>;\n\topen_stream: () => Promise<void>;\n\tprivate resolve_config: (endpoint: string) => Promise<Config | undefined>;\n\tprivate resolve_cookies: () => Promise<void>;\n\tconstructor(\n\t\tapp_reference: string,\n\t\toptions: ClientOptions = { events: [\"data\"] }\n\t) {\n\t\tthis.app_reference = app_reference;\n\t\tthis.deep_link = options.query_params?.deep_link || null;\n\t\tif (!options.events) {\n\t\t\toptions.events = [\"data\"];\n\t\t}\n\n\t\tthis.options = options;\n\t\tthis.current_payload = {};\n\t\tthis.view_api = view_api.bind(this);\n\t\tthis.upload_files = upload_files.bind(this);\n\t\tthis.handle_blob = handle_blob.bind(this);\n\t\tthis.post_data = post_data.bind(this);\n\t\tthis.submit = submit.bind(this);\n\t\tthis.predict = predict.bind(this);\n\t\tthis.open_stream = open_stream.bind(this);\n\t\tthis.resolve_config = resolve_config.bind(this);\n\t\tthis.resolve_cookies = resolve_cookies.bind(this);\n\t\tthis.upload = upload.bind(this);\n\t\tthis.fetch = this.fetch.bind(this);\n\t\tthis.handle_space_success = this.handle_space_success.bind(this);\n\t\tthis.stream = this.stream.bind(this);\n\t}\n\n\tprivate async init(): Promise<void> {\n\t\tif (\n\t\t\t(typeof window === \"undefined\" || !(\"WebSocket\" in window)) &&\n\t\t\t!global.WebSocket\n\t\t) {\n\t\t\tif (!BROWSER_BUILD) {\n\t\t\t\tconst ws = await import(\"ws\");\n\t\t\t\tglobal.WebSocket = ws.WebSocket as unknown as typeof WebSocket;\n\t\t\t}\n\t\t}\n\n\t\tif (this.options.auth) {\n\t\t\tawait this.resolve_cookies();\n\t\t}\n\n\t\tawait this._resolve_config().then(({ config }) =>\n\t\t\tthis._resolve_heartbeat(config)\n\t\t);\n\n\t\tthis.api_info = await this.view_api();\n\t\tthis.api_map = map_names_to_ids(this.config?.dependencies || []);\n\t}\n\n\tasync _resolve_heartbeat(_config: Config): Promise<void> {\n\t\tif (_config) {\n\t\t\tthis.config = _config;\n\t\t\tthis.api_prefix = _config.api_prefix || \"\";\n\n\t\t\tif (this.config && this.config.connect_heartbeat) {\n\t\t\t\tif (this.config.space_id && this.options.hf_token) {\n\t\t\t\t\tthis.jwt = await get_jwt(\n\t\t\t\t\t\tthis.config.space_id,\n\t\t\t\t\t\tthis.options.hf_token,\n\t\t\t\t\t\tthis.cookies\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (_config.space_id && this.options.hf_token) {\n\t\t\tthis.jwt = await get_jwt(_config.space_id, this.options.hf_token);\n\t\t}\n\n\t\tif (this.config && this.config.connect_heartbeat) {\n\t\t\t// connect to the heartbeat endpoint via GET request\n\t\t\tconst heartbeat_url = new URL(\n\t\t\t\t`${this.config.root}${this.api_prefix}/${HEARTBEAT_URL}/${this.session_hash}`\n\t\t\t);\n\n\t\t\t// if the jwt is available, add it to the query params\n\t\t\tif (this.jwt) {\n\t\t\t\theartbeat_url.searchParams.set(\"__sign\", this.jwt);\n\t\t\t}\n\n\t\t\t// Just connect to the endpoint without parsing the response. Ref: https://github.com/gradio-app/gradio/pull/7974#discussion_r1557717540\n\t\t\tif (!this.heartbeat_event) {\n\t\t\t\tthis.heartbeat_event = this.stream(heartbeat_url);\n\t\t\t}\n\t\t}\n\t}\n\n\tstatic async connect(\n\t\tapp_reference: string,\n\t\toptions: ClientOptions = {\n\t\t\tevents: [\"data\"]\n\t\t}\n\t): Promise<Client> {\n\t\tconst client = new this(app_reference, options); // this refers to the class itself, not the instance\n\t\tif (options.session_hash) {\n\t\t\tclient.session_hash = options.session_hash;\n\t\t}\n\t\tawait client.init();\n\t\treturn client;\n\t}\n\n\tasync reconnect(): Promise<\"connected\" | \"broken\" | \"changed\"> {\n\t\tconst app_id_url = new URL(\n\t\t\t`${this.config!.root}${this.api_prefix}/${APP_ID_URL}`\n\t\t);\n\t\tlet app_id: string;\n\t\ttry {\n\t\t\tconst response = await this.fetch(app_id_url);\n\t\t\tif (!response.ok) {\n\t\t\t\tthrow new Error();\n\t\t\t}\n\t\t\tapp_id = ((await response.json()) as any).app_id;\n\t\t} catch (e) {\n\t\t\treturn \"broken\";\n\t\t}\n\t\tif (app_id !== this.config!.app_id) {\n\t\t\treturn \"changed\";\n\t\t}\n\t\treturn \"connected\";\n\t}\n\n\tclose(): void {\n\t\tthis.closed = true;\n\t\tclose_stream(this.stream_status, this.abort_controller);\n\t}\n\n\tset_current_payload(payload: any): void {\n\t\tthis.current_payload = payload;\n\t}\n\n\tstatic async duplicate(\n\t\tapp_reference: string,\n\t\toptions: DuplicateOptions = {\n\t\t\tevents: [\"data\"]\n\t\t}\n\t): Promise<Client> {\n\t\treturn duplicate(app_reference, options);\n\t}\n\n\tprivate async _resolve_config(): Promise<any> {\n\t\tconst { http_protocol, host, space_id } = await process_endpoint(\n\t\t\tthis.app_reference,\n\t\t\tthis.options.hf_token\n\t\t);\n\n\t\tconst { status_callback } = this.options;\n\n\t\tif (space_id && status_callback) {\n\t\t\tawait check_and_wake_space(space_id, status_callback);\n\t\t}\n\n\t\tlet config: Config | undefined;\n\n\t\ttry {\n\t\t\t// Create base URL\n\t\t\tlet configUrl = `${http_protocol}//${host}`;\n\t\t\tconfig = await this.resolve_config(configUrl);\n\n\t\t\tif (!config) {\n\t\t\t\tthrow new Error(CONFIG_ERROR_MSG);\n\t\t\t}\n\n\t\t\treturn this.config_success(config);\n\t\t} catch (e: any) {\n\t\t\tif (space_id && status_callback) {\n\t\t\t\tcheck_space_status(\n\t\t\t\t\tspace_id,\n\t\t\t\t\tRE_SPACE_NAME.test(space_id) ? \"space_name\" : \"subdomain\",\n\t\t\t\t\tthis.handle_space_success\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tif (status_callback)\n\t\t\t\t\tstatus_callback({\n\t\t\t\t\t\tstatus: \"error\",\n\t\t\t\t\t\tmessage: \"Could not load this space.\",\n\t\t\t\t\t\tload_status: \"error\",\n\t\t\t\t\t\tdetail: \"NOT_FOUND\"\n\t\t\t\t\t});\n\t\t\t\tthrow Error(e);\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate async config_success(\n\t\t_config: Config\n\t): Promise<Config | client_return> {\n\t\tthis.config = _config;\n\t\tthis.api_prefix = _config.api_prefix || \"\";\n\n\t\tif (this.config.auth_required) {\n\t\t\treturn this.prepare_return_obj();\n\t\t}\n\n\t\ttry {\n\t\t\tthis.api_info = await this.view_api();\n\t\t} catch (e) {\n\t\t\tconsole.error(API_INFO_ERROR_MSG + (e as Error).message);\n\t\t}\n\n\t\treturn this.prepare_return_obj();\n\t}\n\n\tasync handle_space_success(status: SpaceStatus): Promise<Config | void> {\n\t\tif (!this) {\n\t\t\tthrow new Error(CONFIG_ERROR_MSG);\n\t\t}\n\t\tconst { status_callback } = this.options;\n\t\tif (status_callback) status_callback(status);\n\t\tif (status.status === \"running\") {\n\t\t\ttry {\n\t\t\t\tthis.config = await this._resolve_config();\n\t\t\t\tthis.api_prefix = this?.config?.api_prefix || \"\";\n\n\t\t\t\tif (!this.config) {\n\t\t\t\t\tthrow new Error(CONFIG_ERROR_MSG);\n\t\t\t\t}\n\n\t\t\t\tconst _config = await this.config_success(this.config);\n\n\t\t\t\treturn _config as Config;\n\t\t\t} catch (e) {\n\t\t\t\tif (status_callback) {\n\t\t\t\t\tstatus_callback({\n\t\t\t\t\t\tstatus: \"error\",\n\t\t\t\t\t\tmessage: \"Could not load this space.\",\n\t\t\t\t\t\tload_status: \"error\",\n\t\t\t\t\t\tdetail: \"NOT_FOUND\"\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tthrow e;\n\t\t\t}\n\t\t}\n\t}\n\n\tpublic async component_server(\n\t\tcomponent_id: number,\n\t\tfn_name: string,\n\t\tdata: unknown[] | { binary: boolean; data: Record<string, any> }\n\t): Promise<unknown> {\n\t\tif (!this.config) {\n\t\t\tthrow new Error(CONFIG_ERROR_MSG);\n\t\t}\n\n\t\tconst headers: {\n\t\t\tAuthorization?: string;\n\t\t\t\"Content-Type\"?: \"application/json\";\n\t\t} = {};\n\n\t\tconst { hf_token } = this.options;\n\t\tconst { session_hash } = this;\n\n\t\tif (hf_token) {\n\t\t\theaders.Authorization = `Bearer ${this.options.hf_token}`;\n\t\t}\n\n\t\tlet root_url: string;\n\t\tlet component = this.config.components.find(\n\t\t\t(comp) => comp.id === component_id\n\t\t);\n\t\tif (component?.props?.root_url) {\n\t\t\troot_url = component.props.root_url;\n\t\t} else {\n\t\t\troot_url = this.config.root;\n\t\t}\n\n\t\tlet body: FormData | string;\n\n\t\tif (\"binary\" in data) {\n\t\t\tbody = new FormData();\n\t\t\tfor (const key in data.data) {\n\t\t\t\tif (key === \"binary\") continue;\n\t\t\t\tbody.append(key, data.data[key]);\n\t\t\t}\n\t\t\tbody.set(\"component_id\", component_id.toString());\n\t\t\tbody.set(\"fn_name\", fn_name);\n\t\t\tbody.set(\"session_hash\", session_hash);\n\t\t} else {\n\t\t\tbody = JSON.stringify({\n\t\t\t\tdata: data,\n\t\t\t\tcomponent_id,\n\t\t\t\tfn_name,\n\t\t\t\tsession_hash\n\t\t\t});\n\n\t\t\theaders[\"Content-Type\"] = \"application/json\";\n\t\t}\n\n\t\tif (hf_token) {\n\t\t\theaders.Authorization = `Bearer ${hf_token}`;\n\t\t}\n\n\t\ttry {\n\t\t\tconst response = await this.fetch(\n\t\t\t\t`${root_url}${this.api_prefix}/${COMPONENT_SERVER_URL}/`,\n\t\t\t\t{\n\t\t\t\t\tmethod: \"POST\",\n\t\t\t\t\tbody: body,\n\t\t\t\t\theaders,\n\t\t\t\t\tcredentials: \"include\"\n\t\t\t\t}\n\t\t\t);\n\n\t\t\tif (!response.ok) {\n\t\t\t\tthrow new Error(\n\t\t\t\t\t\"Could not connect to component server: \" + response.statusText\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tconst output = await response.json();\n\t\t\treturn output;\n\t\t} catch (e) {\n\t\t\tconsole.warn(e);\n\t\t}\n\t}\n\n\tpublic set_cookies(raw_cookies: string): void {\n\t\tthis.cookies = parse_and_set_cookies(raw_cookies).join(\"; \");\n\t}\n\n\tprivate prepare_return_obj(): client_return {\n\t\treturn {\n\t\t\tconfig: this.config,\n\t\t\tpredict: this.predict,\n\t\t\tsubmit: this.submit,\n\t\t\tview_api: this.view_api,\n\t\t\tcomponent_server: this.component_server\n\t\t};\n\t}\n\n\tprivate async connect_ws(url: string): Promise<void> {\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tlet ws;\n\t\t\ttry {\n\t\t\t\tws = new WebSocket(url);\n\t\t\t} catch (e) {\n\t\t\t\tthis.ws_map[url] = \"failed\";\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.ws_map[url] = \"pending\";\n\t\t\tws.onopen = () => {\n\t\t\t\tthis.ws_map[url] = ws;\n\t\t\t\tresolve();\n\t\t\t};\n\n\t\t\tws.onerror = (error) => {\n\t\t\t\tconsole.error(\"WebSocket error:\", error);\n\t\t\t\tthis.close_ws(url);\n\t\t\t\tthis.ws_map[url] = \"failed\";\n\t\t\t\tresolve();\n\t\t\t};\n\n\t\t\tws.onclose = () => {\n\t\t\t\tthis.ws_map[url] = \"closed\";\n\t\t\t};\n\n\t\t\tws.onmessage = (event) => {};\n\t\t});\n\t}\n\n\tasync send_ws_message(url: string, data: any): Promise<void> {\n\t\t// connect if not connected\n\t\tif (!(url in this.ws_map)) {\n\t\t\tawait this.connect_ws(url);\n\t\t} else if (\n\t\t\tthis.ws_map[url] === \"pending\" ||\n\t\t\tthis.ws_map[url] === \"closed\" ||\n\t\t\tthis.ws_map[url] === \"failed\"\n\t\t) {\n\t\t\treturn;\n\t\t}\n\t\tconst ws = this.ws_map[url];\n\t\tif (ws instanceof WebSocket) {\n\t\t\tws.send(JSON.stringify(data));\n\t\t} else {\n\t\t\tthis.post_data(url, data);\n\t\t}\n\t}\n\n\tasync close_ws(url: string): Promise<void> {\n\t\tif (url in this.ws_map) {\n\t\t\tconst ws = this.ws_map[url];\n\t\t\tif (ws instanceof WebSocket) {\n\t\t\t\tws.close();\n\t\t\t\tdelete this.ws_map[url];\n\t\t\t}\n\t\t}\n\t}\n}\n\n/**\n * @deprecated This method will be removed in v1.0. Use `Client.connect()` instead.\n * Creates a client instance for interacting with Gradio apps.\n *\n * @param {string} app_reference - The reference or URL to a Gradio space or app.\n * @param {ClientOptions} options - Configuration options for the client.\n * @returns {Promise<Client>} A promise that resolves to a `Client` instance.\n */\nexport async function client(\n\tapp_reference: string,\n\toptions: ClientOptions = {\n\t\tevents: [\"data\"]\n\t}\n): Promise<Client> {\n\treturn await Client.connect(app_reference, options);\n}\n\n/**\n * @deprecated This method will be removed in v1.0. Use `Client.duplicate()` instead.\n * Creates a duplicate of a space and returns a client instance for the duplicated space.\n *\n * @param {string} app_reference - The reference or URL to a Gradio space or app to duplicate.\n * @param {DuplicateOptions} options - Configuration options for the client.\n * @returns {Promise<Client>} A promise that resolves to a `Client` instance.\n */\nexport async function duplicate_space(\n\tapp_reference: string,\n\toptions: DuplicateOptions\n): Promise<Client> {\n\treturn await Client.duplicate(app_reference, options);\n}\n\nexport type ClientInstance = Client;\n","export function pretty_si(num: number): string {\n\tlet units = [\"\", \"k\", \"M\", \"G\", \"T\", \"P\", \"E\", \"Z\"];\n\tlet i = 0;\n\twhile (num > 1000 && i < units.length - 1) {\n\t\tnum /= 1000;\n\t\ti++;\n\t}\n\tlet unit = units[i];\n\treturn (Number.isInteger(num) ? num : num.toFixed(1)) + unit;\n}\n","<script lang=\"ts\">\n\timport { onMount } from \"svelte\";\n\timport { spring } from \"svelte/motion\";\n\n\texport let margin = true;\n\n\tconst top = spring([0, 0]);\n\tconst bottom = spring([0, 0]);\n\n\tlet dismounted: boolean;\n\n\tasync function animate(): Promise<void> {\n\t\tawait Promise.all([top.set([125, 140]), bottom.set([-125, -140])]);\n\t\tawait Promise.all([top.set([-125, 140]), bottom.set([125, -140])]);\n\t\tawait Promise.all([top.set([-125, 0]), bottom.set([125, -0])]);\n\t\tawait Promise.all([top.set([125, 0]), bottom.set([-125, 0])]);\n\t}\n\n\tasync function run(): Promise<void> {\n\t\tawait animate();\n\t\tif (!dismounted) run();\n\t}\n\n\tasync function loading(): Promise<void> {\n\t\tawait Promise.all([top.set([125, 0]), bottom.set([-125, 0])]);\n\n\t\trun();\n\t}\n\n\tonMount(() => {\n\t\tloading();\n\t\treturn (): boolean => (dismounted = true);\n\t});\n</script>\n\n<div class:margin>\n\t<svg\n\t\tviewBox=\"-1200 -1200 3000 3000\"\n\t\tfill=\"none\"\n\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t>\n\t\t<g style=\"transform: translate({$top[0]}px, {$top[1]}px);\">\n\t\t\t<path\n\t\t\t\td=\"M255.926 0.754768L509.702 139.936V221.027L255.926 81.8465V0.754768Z\"\n\t\t\t\tfill=\"#FF7C00\"\n\t\t\t\tfill-opacity=\"0.4\"\n\t\t\t/>\n\t\t\t<path\n\t\t\t\td=\"M509.69 139.936L254.981 279.641V361.255L509.69 221.55V139.936Z\"\n\t\t\t\tfill=\"#FF7C00\"\n\t\t\t/>\n\t\t\t<path\n\t\t\t\td=\"M0.250138 139.937L254.981 279.641V361.255L0.250138 221.55V139.937Z\"\n\t\t\t\tfill=\"#FF7C00\"\n\t\t\t\tfill-opacity=\"0.4\"\n\t\t\t/>\n\t\t\t<path\n\t\t\t\td=\"M255.923 0.232622L0.236328 139.936V221.55L255.923 81.8469V0.232622Z\"\n\t\t\t\tfill=\"#FF7C00\"\n\t\t\t/>\n\t\t</g>\n\t\t<g style=\"transform: translate({$bottom[0]}px, {$bottom[1]}px);\">\n\t\t\t<path\n\t\t\t\td=\"M255.926 141.5L509.702 280.681V361.773L255.926 222.592V141.5Z\"\n\t\t\t\tfill=\"#FF7C00\"\n\t\t\t\tfill-opacity=\"0.4\"\n\t\t\t/>\n\t\t\t<path\n\t\t\t\td=\"M509.69 280.679L254.981 420.384V501.998L509.69 362.293V280.679Z\"\n\t\t\t\tfill=\"#FF7C00\"\n\t\t\t/>\n\t\t\t<path\n\t\t\t\td=\"M0.250138 280.681L254.981 420.386V502L0.250138 362.295V280.681Z\"\n\t\t\t\tfill=\"#FF7C00\"\n\t\t\t\tfill-opacity=\"0.4\"\n\t\t\t/>\n\t\t\t<path\n\t\t\t\td=\"M255.923 140.977L0.236328 280.68V362.294L255.923 222.591V140.977Z\"\n\t\t\t\tfill=\"#FF7C00\"\n\t\t\t/>\n\t\t</g>\n\t</svg>\n</div>\n\n<style>\n\tsvg {\n\t\twidth: var(--size-20);\n\t\theight: var(--size-20);\n\t}\n\n\tsvg path {\n\t\tfill: var(--loader-color);\n\t}\n\n\tdiv {\n\t\tz-index: var(--layer-2);\n\t}\n\n\t.margin {\n\t\tmargin: var(--size-4);\n\t}\n</style>\n","<script lang=\"ts\">\n\texport let height: number | string | undefined = undefined;\n\texport let min_height: number | string | undefined = undefined;\n\texport let max_height: number | string | undefined = undefined;\n\texport let width: number | string | undefined = undefined;\n\texport let elem_id = \"\";\n\texport let elem_classes: string[] = [];\n\texport let variant: \"solid\" | \"dashed\" | \"none\" = \"solid\";\n\texport let border_mode: \"base\" | \"focus\" | \"contrast\" = \"base\";\n\texport let padding = true;\n\texport let type: \"normal\" | \"fieldset\" = \"normal\";\n\texport let test_id: string | undefined = undefined;\n\texport let explicit_call = false;\n\texport let container = true;\n\texport let visible = true;\n\texport let allow_overflow = true;\n\texport let overflow_behavior: \"visible\" | \"auto\" = \"auto\";\n\texport let scale: number | null = null;\n\texport let min_width = 0;\n\texport let flex = false;\n\texport let resizable = false;\n\texport let rtl = false;\n\texport let fullscreen = false;\n\tlet old_fullscreen = fullscreen;\n\n\tlet element: HTMLElement;\n\n\tlet tag = type === \"fieldset\" ? \"fieldset\" : \"div\";\n\n\tlet placeholder_height = 0;\n\tlet placeholder_width = 0;\n\tlet preexpansionBoundingRect: DOMRect | null = null;\n\n\tfunction handleKeydown(event: KeyboardEvent): void {\n\t\tif (fullscreen && event.key === \"Escape\") {\n\t\t\tfullscreen = false;\n\t\t}\n\t}\n\n\t$: if (fullscreen !== old_fullscreen) {\n\t\told_fullscreen = fullscreen;\n\t\tif (fullscreen) {\n\t\t\tpreexpansionBoundingRect = element.getBoundingClientRect();\n\t\t\tplaceholder_height = element.offsetHeight;\n\t\t\tplaceholder_width = element.offsetWidth;\n\t\t\twindow.addEventListener(\"keydown\", handleKeydown);\n\t\t} else {\n\t\t\tpreexpansionBoundingRect = null;\n\t\t\twindow.removeEventListener(\"keydown\", handleKeydown);\n\t\t}\n\t}\n\n\tconst get_dimension = (\n\t\tdimension_value: string | number | undefined\n\t): string | undefined => {\n\t\tif (dimension_value === undefined) {\n\t\t\treturn undefined;\n\t\t}\n\t\tif (typeof dimension_value === \"number\") {\n\t\t\treturn dimension_value + \"px\";\n\t\t} else if (typeof dimension_value === \"string\") {\n\t\t\treturn dimension_value;\n\t\t}\n\t};\n\n\t$: if (!visible) {\n\t\tflex = false;\n\t}\n\n\tconst resize = (e: MouseEvent): void => {\n\t\tlet prevY = e.clientY;\n\t\tconst onMouseMove = (e: MouseEvent): void => {\n\t\t\tconst dy: number = e.clientY - prevY;\n\t\t\tprevY = e.clientY;\n\t\t\telement.style.height = `${element.offsetHeight + dy}px`;\n\t\t};\n\t\tconst onMouseUp = (): void => {\n\t\t\twindow.removeEventListener(\"mousemove\", onMouseMove);\n\t\t\twindow.removeEventListener(\"mouseup\", onMouseUp);\n\t\t};\n\t\twindow.addEventListener(\"mousemove\", onMouseMove);\n\t\twindow.addEventListener(\"mouseup\", onMouseUp);\n\t};\n</script>\n\n<svelte:element\n\tthis={tag}\n\tbind:this={element}\n\tdata-testid={test_id}\n\tid={elem_id}\n\tclass:hidden={visible === false}\n\tclass=\"block {elem_classes?.join(' ') || ''}\"\n\tclass:padded={padding}\n\tclass:flex\n\tclass:border_focus={border_mode === \"focus\"}\n\tclass:border_contrast={border_mode === \"contrast\"}\n\tclass:hide-container={!explicit_call && !container}\n\tstyle:height={fullscreen ? undefined : get_dimension(height)}\n\tstyle:min-height={fullscreen ? undefined : get_dimension(min_height)}\n\tstyle:max-height={fullscreen ? undefined : get_dimension(max_height)}\n\tclass:fullscreen\n\tclass:animating={fullscreen && preexpansionBoundingRect !== null}\n\tstyle:--start-top={preexpansionBoundingRect\n\t\t? `${preexpansionBoundingRect.top}px`\n\t\t: \"0px\"}\n\tstyle:--start-left={preexpansionBoundingRect\n\t\t? `${preexpansionBoundingRect.left}px`\n\t\t: \"0px\"}\n\tstyle:--start-width={preexpansionBoundingRect\n\t\t? `${preexpansionBoundingRect.width}px`\n\t\t: \"0px\"}\n\tstyle:--start-height={preexpansionBoundingRect\n\t\t? `${preexpansionBoundingRect.height}px`\n\t\t: \"0px\"}\n\tstyle:width={fullscreen\n\t\t? undefined\n\t\t: typeof width === \"number\"\n\t\t\t? `calc(min(${width}px, 100%))`\n\t\t\t: get_dimension(width)}\n\tstyle:border-style={variant}\n\tstyle:overflow={allow_overflow ? overflow_behavior : \"hidden\"}\n\tstyle:flex-grow={scale}\n\tstyle:min-width={`calc(min(${min_width}px, 100%))`}\n\tstyle:border-width=\"var(--block-border-width)\"\n\tclass:auto-margin={scale === null}\n\tdir={rtl ? \"rtl\" : \"ltr\"}\n>\n\t<slot />\n\t{#if resizable}\n\t\t<!-- svelte-ignore a11y-no-static-element-interactions -->\n\t\t<svg\n\t\t\tclass=\"resize-handle\"\n\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\tviewBox=\"0 0 10 10\"\n\t\t\ton:mousedown={resize}\n\t\t>\n\t\t\t<line x1=\"1\" y1=\"9\" x2=\"9\" y2=\"1\" stroke=\"gray\" stroke-width=\"0.5\" />\n\t\t\t<line x1=\"5\" y1=\"9\" x2=\"9\" y2=\"5\" stroke=\"gray\" stroke-width=\"0.5\" />\n\t\t</svg>\n\t{/if}\n</svelte:element>\n{#if fullscreen}\n\t<div\n\t\tclass=\"placeholder\"\n\t\tstyle:height={placeholder_height + \"px\"}\n\t\tstyle:width={placeholder_width + \"px\"}\n\t></div>\n{/if}\n\n<style>\n\t.block {\n\t\tposition: relative;\n\t\tmargin: 0;\n\t\tbox-shadow: var(--block-shadow);\n\t\tborder-width: var(--block-border-width);\n\t\tborder-color: var(--block-border-color);\n\t\tborder-radius: var(--block-radius);\n\t\tbackground: var(--block-background-fill);\n\t\twidth: 100%;\n\t\tline-height: var(--line-sm);\n\t}\n\t.block.fullscreen {\n\t\tborder-radius: 0;\n\t}\n\n\t.auto-margin {\n\t\tmargin-left: auto;\n\t\tmargin-right: auto;\n\t}\n\n\t.block.border_focus {\n\t\tborder-color: var(--color-accent);\n\t}\n\n\t.block.border_contrast {\n\t\tborder-color: var(--body-text-color);\n\t}\n\n\t.padded {\n\t\tpadding: var(--block-padding);\n\t}\n\n\t.hidden {\n\t\tdisplay: none;\n\t}\n\n\t.flex {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t}\n\t.hide-container:not(.fullscreen) {\n\t\tmargin: 0;\n\t\tbox-shadow: none;\n\t\t--block-border-width: 0;\n\t\tbackground: transparent;\n\t\tpadding: 0;\n\t\toverflow: visible;\n\t}\n\t.resize-handle {\n\t\tposition: absolute;\n\t\tbottom: 0;\n\t\tright: 0;\n\t\twidth: 10px;\n\t\theight: 10px;\n\t\tfill: var(--block-border-color);\n\t\tcursor: nwse-resize;\n\t}\n\t.fullscreen {\n\t\tposition: fixed;\n\t\ttop: 0;\n\t\tleft: 0;\n\t\twidth: 100vw;\n\t\theight: 100vh;\n\t\tz-index: 1000;\n\t\toverflow: auto;\n\t}\n\n\t.animating {\n\t\tanimation: pop-out 0.1s ease-out forwards;\n\t}\n\n\t@keyframes pop-out {\n\t\t0% {\n\t\t\tposition: fixed;\n\t\t\ttop: var(--start-top);\n\t\t\tleft: var(--start-left);\n\t\t\twidth: var(--start-width);\n\t\t\theight: var(--start-height);\n\t\t\tz-index: 100;\n\t\t}\n\t\t100% {\n\t\t\tposition: fixed;\n\t\t\ttop: 0vh;\n\t\t\tleft: 0vw;\n\t\t\twidth: 100vw;\n\t\t\theight: 100vh;\n\t\t\tz-index: 1000;\n\t\t}\n\t}\n\n\t.placeholder {\n\t\tborder-radius: var(--block-radius);\n\t\tborder-width: var(--block-border-width);\n\t\tborder-color: var(--block-border-color);\n\t\tborder-style: dashed;\n\t}\n</style>\n","/**\n * marked v12.0.0 - a markdown parser\n * Copyright (c) 2011-2024, Christopher Jeffrey. (MIT Licensed)\n * https://github.com/markedjs/marked\n */\n\n/**\n * DO NOT EDIT THIS FILE\n * The code in this file is generated from files in ./src/\n */\n\n/**\n * Gets the original marked default options.\n */\nfunction _getDefaults() {\n    return {\n        async: false,\n        breaks: false,\n        extensions: null,\n        gfm: true,\n        hooks: null,\n        pedantic: false,\n        renderer: null,\n        silent: false,\n        tokenizer: null,\n        walkTokens: null\n    };\n}\nlet _defaults = _getDefaults();\nfunction changeDefaults(newDefaults) {\n    _defaults = newDefaults;\n}\n\n/**\n * Helpers\n */\nconst escapeTest = /[&<>\"']/;\nconst escapeReplace = new RegExp(escapeTest.source, 'g');\nconst escapeTestNoEncode = /[<>\"']|&(?!(#\\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\\w+);)/;\nconst escapeReplaceNoEncode = new RegExp(escapeTestNoEncode.source, 'g');\nconst escapeReplacements = {\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;',\n    '\"': '&quot;',\n    \"'\": '&#39;'\n};\nconst getEscapeReplacement = (ch) => escapeReplacements[ch];\nfunction escape$1(html, encode) {\n    if (encode) {\n        if (escapeTest.test(html)) {\n            return html.replace(escapeReplace, getEscapeReplacement);\n        }\n    }\n    else {\n        if (escapeTestNoEncode.test(html)) {\n            return html.replace(escapeReplaceNoEncode, getEscapeReplacement);\n        }\n    }\n    return html;\n}\nconst unescapeTest = /&(#(?:\\d+)|(?:#x[0-9A-Fa-f]+)|(?:\\w+));?/ig;\nfunction unescape(html) {\n    // explicitly match decimal, hex, and named HTML entities\n    return html.replace(unescapeTest, (_, n) => {\n        n = n.toLowerCase();\n        if (n === 'colon')\n            return ':';\n        if (n.charAt(0) === '#') {\n            return n.charAt(1) === 'x'\n                ? String.fromCharCode(parseInt(n.substring(2), 16))\n                : String.fromCharCode(+n.substring(1));\n        }\n        return '';\n    });\n}\nconst caret = /(^|[^\\[])\\^/g;\nfunction edit(regex, opt) {\n    let source = typeof regex === 'string' ? regex : regex.source;\n    opt = opt || '';\n    const obj = {\n        replace: (name, val) => {\n            let valSource = typeof val === 'string' ? val : val.source;\n            valSource = valSource.replace(caret, '$1');\n            source = source.replace(name, valSource);\n            return obj;\n        },\n        getRegex: () => {\n            return new RegExp(source, opt);\n        }\n    };\n    return obj;\n}\nfunction cleanUrl(href) {\n    try {\n        href = encodeURI(href).replace(/%25/g, '%');\n    }\n    catch (e) {\n        return null;\n    }\n    return href;\n}\nconst noopTest = { exec: () => null };\nfunction splitCells(tableRow, count) {\n    // ensure that every cell-delimiting pipe has a space\n    // before it to distinguish it from an escaped pipe\n    const row = tableRow.replace(/\\|/g, (match, offset, str) => {\n        let escaped = false;\n        let curr = offset;\n        while (--curr >= 0 && str[curr] === '\\\\')\n            escaped = !escaped;\n        if (escaped) {\n            // odd number of slashes means | is escaped\n            // so we leave it alone\n            return '|';\n        }\n        else {\n            // add space before unescaped |\n            return ' |';\n        }\n    }), cells = row.split(/ \\|/);\n    let i = 0;\n    // First/last cell in a row cannot be empty if it has no leading/trailing pipe\n    if (!cells[0].trim()) {\n        cells.shift();\n    }\n    if (cells.length > 0 && !cells[cells.length - 1].trim()) {\n        cells.pop();\n    }\n    if (count) {\n        if (cells.length > count) {\n            cells.splice(count);\n        }\n        else {\n            while (cells.length < count)\n                cells.push('');\n        }\n    }\n    for (; i < cells.length; i++) {\n        // leading or trailing whitespace is ignored per the gfm spec\n        cells[i] = cells[i].trim().replace(/\\\\\\|/g, '|');\n    }\n    return cells;\n}\n/**\n * Remove trailing 'c's. Equivalent to str.replace(/c*$/, '').\n * /c*$/ is vulnerable to REDOS.\n *\n * @param str\n * @param c\n * @param invert Remove suffix of non-c chars instead. Default falsey.\n */\nfunction rtrim(str, c, invert) {\n    const l = str.length;\n    if (l === 0) {\n        return '';\n    }\n    // Length of suffix matching the invert condition.\n    let suffLen = 0;\n    // Step left until we fail to match the invert condition.\n    while (suffLen < l) {\n        const currChar = str.charAt(l - suffLen - 1);\n        if (currChar === c && !invert) {\n            suffLen++;\n        }\n        else if (currChar !== c && invert) {\n            suffLen++;\n        }\n        else {\n            break;\n        }\n    }\n    return str.slice(0, l - suffLen);\n}\nfunction findClosingBracket(str, b) {\n    if (str.indexOf(b[1]) === -1) {\n        return -1;\n    }\n    let level = 0;\n    for (let i = 0; i < str.length; i++) {\n        if (str[i] === '\\\\') {\n            i++;\n        }\n        else if (str[i] === b[0]) {\n            level++;\n        }\n        else if (str[i] === b[1]) {\n            level--;\n            if (level < 0) {\n                return i;\n            }\n        }\n    }\n    return -1;\n}\n\nfunction outputLink(cap, link, raw, lexer) {\n    const href = link.href;\n    const title = link.title ? escape$1(link.title) : null;\n    const text = cap[1].replace(/\\\\([\\[\\]])/g, '$1');\n    if (cap[0].charAt(0) !== '!') {\n        lexer.state.inLink = true;\n        const token = {\n            type: 'link',\n            raw,\n            href,\n            title,\n            text,\n            tokens: lexer.inlineTokens(text)\n        };\n        lexer.state.inLink = false;\n        return token;\n    }\n    return {\n        type: 'image',\n        raw,\n        href,\n        title,\n        text: escape$1(text)\n    };\n}\nfunction indentCodeCompensation(raw, text) {\n    const matchIndentToCode = raw.match(/^(\\s+)(?:```)/);\n    if (matchIndentToCode === null) {\n        return text;\n    }\n    const indentToCode = matchIndentToCode[1];\n    return text\n        .split('\\n')\n        .map(node => {\n        const matchIndentInNode = node.match(/^\\s+/);\n        if (matchIndentInNode === null) {\n            return node;\n        }\n        const [indentInNode] = matchIndentInNode;\n        if (indentInNode.length >= indentToCode.length) {\n            return node.slice(indentToCode.length);\n        }\n        return node;\n    })\n        .join('\\n');\n}\n/**\n * Tokenizer\n */\nclass _Tokenizer {\n    options;\n    rules; // set by the lexer\n    lexer; // set by the lexer\n    constructor(options) {\n        this.options = options || _defaults;\n    }\n    space(src) {\n        const cap = this.rules.block.newline.exec(src);\n        if (cap && cap[0].length > 0) {\n            return {\n                type: 'space',\n                raw: cap[0]\n            };\n        }\n    }\n    code(src) {\n        const cap = this.rules.block.code.exec(src);\n        if (cap) {\n            const text = cap[0].replace(/^ {1,4}/gm, '');\n            return {\n                type: 'code',\n                raw: cap[0],\n                codeBlockStyle: 'indented',\n                text: !this.options.pedantic\n                    ? rtrim(text, '\\n')\n                    : text\n            };\n        }\n    }\n    fences(src) {\n        const cap = this.rules.block.fences.exec(src);\n        if (cap) {\n            const raw = cap[0];\n            const text = indentCodeCompensation(raw, cap[3] || '');\n            return {\n                type: 'code',\n                raw,\n                lang: cap[2] ? cap[2].trim().replace(this.rules.inline.anyPunctuation, '$1') : cap[2],\n                text\n            };\n        }\n    }\n    heading(src) {\n        const cap = this.rules.block.heading.exec(src);\n        if (cap) {\n            let text = cap[2].trim();\n            // remove trailing #s\n            if (/#$/.test(text)) {\n                const trimmed = rtrim(text, '#');\n                if (this.options.pedantic) {\n                    text = trimmed.trim();\n                }\n                else if (!trimmed || / $/.test(trimmed)) {\n                    // CommonMark requires space before trailing #s\n                    text = trimmed.trim();\n                }\n            }\n            return {\n                type: 'heading',\n                raw: cap[0],\n                depth: cap[1].length,\n                text,\n                tokens: this.lexer.inline(text)\n            };\n        }\n    }\n    hr(src) {\n        const cap = this.rules.block.hr.exec(src);\n        if (cap) {\n            return {\n                type: 'hr',\n                raw: cap[0]\n            };\n        }\n    }\n    blockquote(src) {\n        const cap = this.rules.block.blockquote.exec(src);\n        if (cap) {\n            const text = rtrim(cap[0].replace(/^ *>[ \\t]?/gm, ''), '\\n');\n            const top = this.lexer.state.top;\n            this.lexer.state.top = true;\n            const tokens = this.lexer.blockTokens(text);\n            this.lexer.state.top = top;\n            return {\n                type: 'blockquote',\n                raw: cap[0],\n                tokens,\n                text\n            };\n        }\n    }\n    list(src) {\n        let cap = this.rules.block.list.exec(src);\n        if (cap) {\n            let bull = cap[1].trim();\n            const isordered = bull.length > 1;\n            const list = {\n                type: 'list',\n                raw: '',\n                ordered: isordered,\n                start: isordered ? +bull.slice(0, -1) : '',\n                loose: false,\n                items: []\n            };\n            bull = isordered ? `\\\\d{1,9}\\\\${bull.slice(-1)}` : `\\\\${bull}`;\n            if (this.options.pedantic) {\n                bull = isordered ? bull : '[*+-]';\n            }\n            // Get next list item\n            const itemRegex = new RegExp(`^( {0,3}${bull})((?:[\\t ][^\\\\n]*)?(?:\\\\n|$))`);\n            let raw = '';\n            let itemContents = '';\n            let endsWithBlankLine = false;\n            // Check if current bullet point can start a new List Item\n            while (src) {\n                let endEarly = false;\n                if (!(cap = itemRegex.exec(src))) {\n                    break;\n                }\n                if (this.rules.block.hr.test(src)) { // End list if bullet was actually HR (possibly move into itemRegex?)\n                    break;\n                }\n                raw = cap[0];\n                src = src.substring(raw.length);\n                let line = cap[2].split('\\n', 1)[0].replace(/^\\t+/, (t) => ' '.repeat(3 * t.length));\n                let nextLine = src.split('\\n', 1)[0];\n                let indent = 0;\n                if (this.options.pedantic) {\n                    indent = 2;\n                    itemContents = line.trimStart();\n                }\n                else {\n                    indent = cap[2].search(/[^ ]/); // Find first non-space char\n                    indent = indent > 4 ? 1 : indent; // Treat indented code blocks (> 4 spaces) as having only 1 indent\n                    itemContents = line.slice(indent);\n                    indent += cap[1].length;\n                }\n                let blankLine = false;\n                if (!line && /^ *$/.test(nextLine)) { // Items begin with at most one blank line\n                    raw += nextLine + '\\n';\n                    src = src.substring(nextLine.length + 1);\n                    endEarly = true;\n                }\n                if (!endEarly) {\n                    const nextBulletRegex = new RegExp(`^ {0,${Math.min(3, indent - 1)}}(?:[*+-]|\\\\d{1,9}[.)])((?:[ \\t][^\\\\n]*)?(?:\\\\n|$))`);\n                    const hrRegex = new RegExp(`^ {0,${Math.min(3, indent - 1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\\\* *){3,})(?:\\\\n+|$)`);\n                    const fencesBeginRegex = new RegExp(`^ {0,${Math.min(3, indent - 1)}}(?:\\`\\`\\`|~~~)`);\n                    const headingBeginRegex = new RegExp(`^ {0,${Math.min(3, indent - 1)}}#`);\n                    // Check if following lines should be included in List Item\n                    while (src) {\n                        const rawLine = src.split('\\n', 1)[0];\n                        nextLine = rawLine;\n                        // Re-align to follow commonmark nesting rules\n                        if (this.options.pedantic) {\n                            nextLine = nextLine.replace(/^ {1,4}(?=( {4})*[^ ])/g, '  ');\n                        }\n                        // End list item if found code fences\n                        if (fencesBeginRegex.test(nextLine)) {\n                            break;\n                        }\n                        // End list item if found start of new heading\n                        if (headingBeginRegex.test(nextLine)) {\n                            break;\n                        }\n                        // End list item if found start of new bullet\n                        if (nextBulletRegex.test(nextLine)) {\n                            break;\n                        }\n                        // Horizontal rule found\n                        if (hrRegex.test(src)) {\n                            break;\n                        }\n                        if (nextLine.search(/[^ ]/) >= indent || !nextLine.trim()) { // Dedent if possible\n                            itemContents += '\\n' + nextLine.slice(indent);\n                        }\n                        else {\n                            // not enough indentation\n                            if (blankLine) {\n                                break;\n                            }\n                            // paragraph continuation unless last line was a different block level element\n                            if (line.search(/[^ ]/) >= 4) { // indented code block\n                                break;\n                            }\n                            if (fencesBeginRegex.test(line)) {\n                                break;\n                            }\n                            if (headingBeginRegex.test(line)) {\n                                break;\n                            }\n                            if (hrRegex.test(line)) {\n                                break;\n                            }\n                            itemContents += '\\n' + nextLine;\n                        }\n                        if (!blankLine && !nextLine.trim()) { // Check if current line is blank\n                            blankLine = true;\n                        }\n                        raw += rawLine + '\\n';\n                        src = src.substring(rawLine.length + 1);\n                        line = nextLine.slice(indent);\n                    }\n                }\n                if (!list.loose) {\n                    // If the previous item ended with a blank line, the list is loose\n                    if (endsWithBlankLine) {\n                        list.loose = true;\n                    }\n                    else if (/\\n *\\n *$/.test(raw)) {\n                        endsWithBlankLine = true;\n                    }\n                }\n                let istask = null;\n                let ischecked;\n                // Check for task list items\n                if (this.options.gfm) {\n                    istask = /^\\[[ xX]\\] /.exec(itemContents);\n                    if (istask) {\n                        ischecked = istask[0] !== '[ ] ';\n                        itemContents = itemContents.replace(/^\\[[ xX]\\] +/, '');\n                    }\n                }\n                list.items.push({\n                    type: 'list_item',\n                    raw,\n                    task: !!istask,\n                    checked: ischecked,\n                    loose: false,\n                    text: itemContents,\n                    tokens: []\n                });\n                list.raw += raw;\n            }\n            // Do not consume newlines at end of final item. Alternatively, make itemRegex *start* with any newlines to simplify/speed up endsWithBlankLine logic\n            list.items[list.items.length - 1].raw = raw.trimEnd();\n            (list.items[list.items.length - 1]).text = itemContents.trimEnd();\n            list.raw = list.raw.trimEnd();\n            // Item child tokens handled here at end because we needed to have the final item to trim it first\n            for (let i = 0; i < list.items.length; i++) {\n                this.lexer.state.top = false;\n                list.items[i].tokens = this.lexer.blockTokens(list.items[i].text, []);\n                if (!list.loose) {\n                    // Check if list should be loose\n                    const spacers = list.items[i].tokens.filter(t => t.type === 'space');\n                    const hasMultipleLineBreaks = spacers.length > 0 && spacers.some(t => /\\n.*\\n/.test(t.raw));\n                    list.loose = hasMultipleLineBreaks;\n                }\n            }\n            // Set all items to loose if list is loose\n            if (list.loose) {\n                for (let i = 0; i < list.items.length; i++) {\n                    list.items[i].loose = true;\n                }\n            }\n            return list;\n        }\n    }\n    html(src) {\n        const cap = this.rules.block.html.exec(src);\n        if (cap) {\n            const token = {\n                type: 'html',\n                block: true,\n                raw: cap[0],\n                pre: cap[1] === 'pre' || cap[1] === 'script' || cap[1] === 'style',\n                text: cap[0]\n            };\n            return token;\n        }\n    }\n    def(src) {\n        const cap = this.rules.block.def.exec(src);\n        if (cap) {\n            const tag = cap[1].toLowerCase().replace(/\\s+/g, ' ');\n            const href = cap[2] ? cap[2].replace(/^<(.*)>$/, '$1').replace(this.rules.inline.anyPunctuation, '$1') : '';\n            const title = cap[3] ? cap[3].substring(1, cap[3].length - 1).replace(this.rules.inline.anyPunctuation, '$1') : cap[3];\n            return {\n                type: 'def',\n                tag,\n                raw: cap[0],\n                href,\n                title\n            };\n        }\n    }\n    table(src) {\n        const cap = this.rules.block.table.exec(src);\n        if (!cap) {\n            return;\n        }\n        if (!/[:|]/.test(cap[2])) {\n            // delimiter row must have a pipe (|) or colon (:) otherwise it is a setext heading\n            return;\n        }\n        const headers = splitCells(cap[1]);\n        const aligns = cap[2].replace(/^\\||\\| *$/g, '').split('|');\n        const rows = cap[3] && cap[3].trim() ? cap[3].replace(/\\n[ \\t]*$/, '').split('\\n') : [];\n        const item = {\n            type: 'table',\n            raw: cap[0],\n            header: [],\n            align: [],\n            rows: []\n        };\n        if (headers.length !== aligns.length) {\n            // header and align columns must be equal, rows can be different.\n            return;\n        }\n        for (const align of aligns) {\n            if (/^ *-+: *$/.test(align)) {\n                item.align.push('right');\n            }\n            else if (/^ *:-+: *$/.test(align)) {\n                item.align.push('center');\n            }\n            else if (/^ *:-+ *$/.test(align)) {\n                item.align.push('left');\n            }\n            else {\n                item.align.push(null);\n            }\n        }\n        for (const header of headers) {\n            item.header.push({\n                text: header,\n                tokens: this.lexer.inline(header)\n            });\n        }\n        for (const row of rows) {\n            item.rows.push(splitCells(row, item.header.length).map(cell => {\n                return {\n                    text: cell,\n                    tokens: this.lexer.inline(cell)\n                };\n            }));\n        }\n        return item;\n    }\n    lheading(src) {\n        const cap = this.rules.block.lheading.exec(src);\n        if (cap) {\n            return {\n                type: 'heading',\n                raw: cap[0],\n                depth: cap[2].charAt(0) === '=' ? 1 : 2,\n                text: cap[1],\n                tokens: this.lexer.inline(cap[1])\n            };\n        }\n    }\n    paragraph(src) {\n        const cap = this.rules.block.paragraph.exec(src);\n        if (cap) {\n            const text = cap[1].charAt(cap[1].length - 1) === '\\n'\n                ? cap[1].slice(0, -1)\n                : cap[1];\n            return {\n                type: 'paragraph',\n                raw: cap[0],\n                text,\n                tokens: this.lexer.inline(text)\n            };\n        }\n    }\n    text(src) {\n        const cap = this.rules.block.text.exec(src);\n        if (cap) {\n            return {\n                type: 'text',\n                raw: cap[0],\n                text: cap[0],\n                tokens: this.lexer.inline(cap[0])\n            };\n        }\n    }\n    escape(src) {\n        const cap = this.rules.inline.escape.exec(src);\n        if (cap) {\n            return {\n                type: 'escape',\n                raw: cap[0],\n                text: escape$1(cap[1])\n            };\n        }\n    }\n    tag(src) {\n        const cap = this.rules.inline.tag.exec(src);\n        if (cap) {\n            if (!this.lexer.state.inLink && /^<a /i.test(cap[0])) {\n                this.lexer.state.inLink = true;\n            }\n            else if (this.lexer.state.inLink && /^<\\/a>/i.test(cap[0])) {\n                this.lexer.state.inLink = false;\n            }\n            if (!this.lexer.state.inRawBlock && /^<(pre|code|kbd|script)(\\s|>)/i.test(cap[0])) {\n                this.lexer.state.inRawBlock = true;\n            }\n            else if (this.lexer.state.inRawBlock && /^<\\/(pre|code|kbd|script)(\\s|>)/i.test(cap[0])) {\n                this.lexer.state.inRawBlock = false;\n            }\n            return {\n                type: 'html',\n                raw: cap[0],\n                inLink: this.lexer.state.inLink,\n                inRawBlock: this.lexer.state.inRawBlock,\n                block: false,\n                text: cap[0]\n            };\n        }\n    }\n    link(src) {\n        const cap = this.rules.inline.link.exec(src);\n        if (cap) {\n            const trimmedUrl = cap[2].trim();\n            if (!this.options.pedantic && /^</.test(trimmedUrl)) {\n                // commonmark requires matching angle brackets\n                if (!(/>$/.test(trimmedUrl))) {\n                    return;\n                }\n                // ending angle bracket cannot be escaped\n                const rtrimSlash = rtrim(trimmedUrl.slice(0, -1), '\\\\');\n                if ((trimmedUrl.length - rtrimSlash.length) % 2 === 0) {\n                    return;\n                }\n            }\n            else {\n                // find closing parenthesis\n                const lastParenIndex = findClosingBracket(cap[2], '()');\n                if (lastParenIndex > -1) {\n                    const start = cap[0].indexOf('!') === 0 ? 5 : 4;\n                    const linkLen = start + cap[1].length + lastParenIndex;\n                    cap[2] = cap[2].substring(0, lastParenIndex);\n                    cap[0] = cap[0].substring(0, linkLen).trim();\n                    cap[3] = '';\n                }\n            }\n            let href = cap[2];\n            let title = '';\n            if (this.options.pedantic) {\n                // split pedantic href and title\n                const link = /^([^'\"]*[^\\s])\\s+(['\"])(.*)\\2/.exec(href);\n                if (link) {\n                    href = link[1];\n                    title = link[3];\n                }\n            }\n            else {\n                title = cap[3] ? cap[3].slice(1, -1) : '';\n            }\n            href = href.trim();\n            if (/^</.test(href)) {\n                if (this.options.pedantic && !(/>$/.test(trimmedUrl))) {\n                    // pedantic allows starting angle bracket without ending angle bracket\n                    href = href.slice(1);\n                }\n                else {\n                    href = href.slice(1, -1);\n                }\n            }\n            return outputLink(cap, {\n                href: href ? href.replace(this.rules.inline.anyPunctuation, '$1') : href,\n                title: title ? title.replace(this.rules.inline.anyPunctuation, '$1') : title\n            }, cap[0], this.lexer);\n        }\n    }\n    reflink(src, links) {\n        let cap;\n        if ((cap = this.rules.inline.reflink.exec(src))\n            || (cap = this.rules.inline.nolink.exec(src))) {\n            const linkString = (cap[2] || cap[1]).replace(/\\s+/g, ' ');\n            const link = links[linkString.toLowerCase()];\n            if (!link) {\n                const text = cap[0].charAt(0);\n                return {\n                    type: 'text',\n                    raw: text,\n                    text\n                };\n            }\n            return outputLink(cap, link, cap[0], this.lexer);\n        }\n    }\n    emStrong(src, maskedSrc, prevChar = '') {\n        let match = this.rules.inline.emStrongLDelim.exec(src);\n        if (!match)\n            return;\n        // _ can't be between two alphanumerics. \\p{L}\\p{N} includes non-english alphabet/numbers as well\n        if (match[3] && prevChar.match(/[\\p{L}\\p{N}]/u))\n            return;\n        const nextChar = match[1] || match[2] || '';\n        if (!nextChar || !prevChar || this.rules.inline.punctuation.exec(prevChar)) {\n            // unicode Regex counts emoji as 1 char; spread into array for proper count (used multiple times below)\n            const lLength = [...match[0]].length - 1;\n            let rDelim, rLength, delimTotal = lLength, midDelimTotal = 0;\n            const endReg = match[0][0] === '*' ? this.rules.inline.emStrongRDelimAst : this.rules.inline.emStrongRDelimUnd;\n            endReg.lastIndex = 0;\n            // Clip maskedSrc to same section of string as src (move to lexer?)\n            maskedSrc = maskedSrc.slice(-1 * src.length + lLength);\n            while ((match = endReg.exec(maskedSrc)) != null) {\n                rDelim = match[1] || match[2] || match[3] || match[4] || match[5] || match[6];\n                if (!rDelim)\n                    continue; // skip single * in __abc*abc__\n                rLength = [...rDelim].length;\n                if (match[3] || match[4]) { // found another Left Delim\n                    delimTotal += rLength;\n                    continue;\n                }\n                else if (match[5] || match[6]) { // either Left or Right Delim\n                    if (lLength % 3 && !((lLength + rLength) % 3)) {\n                        midDelimTotal += rLength;\n                        continue; // CommonMark Emphasis Rules 9-10\n                    }\n                }\n                delimTotal -= rLength;\n                if (delimTotal > 0)\n                    continue; // Haven't found enough closing delimiters\n                // Remove extra characters. *a*** -> *a*\n                rLength = Math.min(rLength, rLength + delimTotal + midDelimTotal);\n                // char length can be >1 for unicode characters;\n                const lastCharLength = [...match[0]][0].length;\n                const raw = src.slice(0, lLength + match.index + lastCharLength + rLength);\n                // Create `em` if smallest delimiter has odd char count. *a***\n                if (Math.min(lLength, rLength) % 2) {\n                    const text = raw.slice(1, -1);\n                    return {\n                        type: 'em',\n                        raw,\n                        text,\n                        tokens: this.lexer.inlineTokens(text)\n                    };\n                }\n                // Create 'strong' if smallest delimiter has even char count. **a***\n                const text = raw.slice(2, -2);\n                return {\n                    type: 'strong',\n                    raw,\n                    text,\n                    tokens: this.lexer.inlineTokens(text)\n                };\n            }\n        }\n    }\n    codespan(src) {\n        const cap = this.rules.inline.code.exec(src);\n        if (cap) {\n            let text = cap[2].replace(/\\n/g, ' ');\n            const hasNonSpaceChars = /[^ ]/.test(text);\n            const hasSpaceCharsOnBothEnds = /^ /.test(text) && / $/.test(text);\n            if (hasNonSpaceChars && hasSpaceCharsOnBothEnds) {\n                text = text.substring(1, text.length - 1);\n            }\n            text = escape$1(text, true);\n            return {\n                type: 'codespan',\n                raw: cap[0],\n                text\n            };\n        }\n    }\n    br(src) {\n        const cap = this.rules.inline.br.exec(src);\n        if (cap) {\n            return {\n                type: 'br',\n                raw: cap[0]\n            };\n        }\n    }\n    del(src) {\n        const cap = this.rules.inline.del.exec(src);\n        if (cap) {\n            return {\n                type: 'del',\n                raw: cap[0],\n                text: cap[2],\n                tokens: this.lexer.inlineTokens(cap[2])\n            };\n        }\n    }\n    autolink(src) {\n        const cap = this.rules.inline.autolink.exec(src);\n        if (cap) {\n            let text, href;\n            if (cap[2] === '@') {\n                text = escape$1(cap[1]);\n                href = 'mailto:' + text;\n            }\n            else {\n                text = escape$1(cap[1]);\n                href = text;\n            }\n            return {\n                type: 'link',\n                raw: cap[0],\n                text,\n                href,\n                tokens: [\n                    {\n                        type: 'text',\n                        raw: text,\n                        text\n                    }\n                ]\n            };\n        }\n    }\n    url(src) {\n        let cap;\n        if (cap = this.rules.inline.url.exec(src)) {\n            let text, href;\n            if (cap[2] === '@') {\n                text = escape$1(cap[0]);\n                href = 'mailto:' + text;\n            }\n            else {\n                // do extended autolink path validation\n                let prevCapZero;\n                do {\n                    prevCapZero = cap[0];\n                    cap[0] = this.rules.inline._backpedal.exec(cap[0])?.[0] ?? '';\n                } while (prevCapZero !== cap[0]);\n                text = escape$1(cap[0]);\n                if (cap[1] === 'www.') {\n                    href = 'http://' + cap[0];\n                }\n                else {\n                    href = cap[0];\n                }\n            }\n            return {\n                type: 'link',\n                raw: cap[0],\n                text,\n                href,\n                tokens: [\n                    {\n                        type: 'text',\n                        raw: text,\n                        text\n                    }\n                ]\n            };\n        }\n    }\n    inlineText(src) {\n        const cap = this.rules.inline.text.exec(src);\n        if (cap) {\n            let text;\n            if (this.lexer.state.inRawBlock) {\n                text = cap[0];\n            }\n            else {\n                text = escape$1(cap[0]);\n            }\n            return {\n                type: 'text',\n                raw: cap[0],\n                text\n            };\n        }\n    }\n}\n\n/**\n * Block-Level Grammar\n */\nconst newline = /^(?: *(?:\\n|$))+/;\nconst blockCode = /^( {4}[^\\n]+(?:\\n(?: *(?:\\n|$))*)?)+/;\nconst fences = /^ {0,3}(`{3,}(?=[^`\\n]*(?:\\n|$))|~{3,})([^\\n]*)(?:\\n|$)(?:|([\\s\\S]*?)(?:\\n|$))(?: {0,3}\\1[~`]* *(?=\\n|$)|$)/;\nconst hr = /^ {0,3}((?:-[\\t ]*){3,}|(?:_[ \\t]*){3,}|(?:\\*[ \\t]*){3,})(?:\\n+|$)/;\nconst heading = /^ {0,3}(#{1,6})(?=\\s|$)(.*)(?:\\n+|$)/;\nconst bullet = /(?:[*+-]|\\d{1,9}[.)])/;\nconst lheading = edit(/^(?!bull )((?:.|\\n(?!\\s*?\\n|bull ))+?)\\n {0,3}(=+|-+) *(?:\\n+|$)/)\n    .replace(/bull/g, bullet) // lists can interrupt\n    .getRegex();\nconst _paragraph = /^([^\\n]+(?:\\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\\n)[^\\n]+)*)/;\nconst blockText = /^[^\\n]+/;\nconst _blockLabel = /(?!\\s*\\])(?:\\\\.|[^\\[\\]\\\\])+/;\nconst def = edit(/^ {0,3}\\[(label)\\]: *(?:\\n *)?([^<\\s][^\\s]*|<.*?>)(?:(?: +(?:\\n *)?| *\\n *)(title))? *(?:\\n+|$)/)\n    .replace('label', _blockLabel)\n    .replace('title', /(?:\"(?:\\\\\"?|[^\"\\\\])*\"|'[^'\\n]*(?:\\n[^'\\n]+)*\\n?'|\\([^()]*\\))/)\n    .getRegex();\nconst list = edit(/^( {0,3}bull)([ \\t][^\\n]+?)?(?:\\n|$)/)\n    .replace(/bull/g, bullet)\n    .getRegex();\nconst _tag = 'address|article|aside|base|basefont|blockquote|body|caption'\n    + '|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption'\n    + '|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe'\n    + '|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option'\n    + '|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title'\n    + '|tr|track|ul';\nconst _comment = /<!--(?:-?>|[\\s\\S]*?(?:-->|$))/;\nconst html = edit('^ {0,3}(?:' // optional indentation\n    + '<(script|pre|style|textarea)[\\\\s>][\\\\s\\\\S]*?(?:</\\\\1>[^\\\\n]*\\\\n+|$)' // (1)\n    + '|comment[^\\\\n]*(\\\\n+|$)' // (2)\n    + '|<\\\\?[\\\\s\\\\S]*?(?:\\\\?>\\\\n*|$)' // (3)\n    + '|<![A-Z][\\\\s\\\\S]*?(?:>\\\\n*|$)' // (4)\n    + '|<!\\\\[CDATA\\\\[[\\\\s\\\\S]*?(?:\\\\]\\\\]>\\\\n*|$)' // (5)\n    + '|</?(tag)(?: +|\\\\n|/?>)[\\\\s\\\\S]*?(?:(?:\\\\n *)+\\\\n|$)' // (6)\n    + '|<(?!script|pre|style|textarea)([a-z][\\\\w-]*)(?:attribute)*? */?>(?=[ \\\\t]*(?:\\\\n|$))[\\\\s\\\\S]*?(?:(?:\\\\n *)+\\\\n|$)' // (7) open tag\n    + '|</(?!script|pre|style|textarea)[a-z][\\\\w-]*\\\\s*>(?=[ \\\\t]*(?:\\\\n|$))[\\\\s\\\\S]*?(?:(?:\\\\n *)+\\\\n|$)' // (7) closing tag\n    + ')', 'i')\n    .replace('comment', _comment)\n    .replace('tag', _tag)\n    .replace('attribute', / +[a-zA-Z:_][\\w.:-]*(?: *= *\"[^\"\\n]*\"| *= *'[^'\\n]*'| *= *[^\\s\"'=<>`]+)?/)\n    .getRegex();\nconst paragraph = edit(_paragraph)\n    .replace('hr', hr)\n    .replace('heading', ' {0,3}#{1,6}(?:\\\\s|$)')\n    .replace('|lheading', '') // setex headings don't interrupt commonmark paragraphs\n    .replace('|table', '')\n    .replace('blockquote', ' {0,3}>')\n    .replace('fences', ' {0,3}(?:`{3,}(?=[^`\\\\n]*\\\\n)|~{3,})[^\\\\n]*\\\\n')\n    .replace('list', ' {0,3}(?:[*+-]|1[.)]) ') // only lists starting from 1 can interrupt\n    .replace('html', '</?(?:tag)(?: +|\\\\n|/?>)|<(?:script|pre|style|textarea|!--)')\n    .replace('tag', _tag) // pars can be interrupted by type (6) html blocks\n    .getRegex();\nconst blockquote = edit(/^( {0,3}> ?(paragraph|[^\\n]*)(?:\\n|$))+/)\n    .replace('paragraph', paragraph)\n    .getRegex();\n/**\n * Normal Block Grammar\n */\nconst blockNormal = {\n    blockquote,\n    code: blockCode,\n    def,\n    fences,\n    heading,\n    hr,\n    html,\n    lheading,\n    list,\n    newline,\n    paragraph,\n    table: noopTest,\n    text: blockText\n};\n/**\n * GFM Block Grammar\n */\nconst gfmTable = edit('^ *([^\\\\n ].*)\\\\n' // Header\n    + ' {0,3}((?:\\\\| *)?:?-+:? *(?:\\\\| *:?-+:? *)*(?:\\\\| *)?)' // Align\n    + '(?:\\\\n((?:(?! *\\\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\\\n|$))*)\\\\n*|$)') // Cells\n    .replace('hr', hr)\n    .replace('heading', ' {0,3}#{1,6}(?:\\\\s|$)')\n    .replace('blockquote', ' {0,3}>')\n    .replace('code', ' {4}[^\\\\n]')\n    .replace('fences', ' {0,3}(?:`{3,}(?=[^`\\\\n]*\\\\n)|~{3,})[^\\\\n]*\\\\n')\n    .replace('list', ' {0,3}(?:[*+-]|1[.)]) ') // only lists starting from 1 can interrupt\n    .replace('html', '</?(?:tag)(?: +|\\\\n|/?>)|<(?:script|pre|style|textarea|!--)')\n    .replace('tag', _tag) // tables can be interrupted by type (6) html blocks\n    .getRegex();\nconst blockGfm = {\n    ...blockNormal,\n    table: gfmTable,\n    paragraph: edit(_paragraph)\n        .replace('hr', hr)\n        .replace('heading', ' {0,3}#{1,6}(?:\\\\s|$)')\n        .replace('|lheading', '') // setex headings don't interrupt commonmark paragraphs\n        .replace('table', gfmTable) // interrupt paragraphs with table\n        .replace('blockquote', ' {0,3}>')\n        .replace('fences', ' {0,3}(?:`{3,}(?=[^`\\\\n]*\\\\n)|~{3,})[^\\\\n]*\\\\n')\n        .replace('list', ' {0,3}(?:[*+-]|1[.)]) ') // only lists starting from 1 can interrupt\n        .replace('html', '</?(?:tag)(?: +|\\\\n|/?>)|<(?:script|pre|style|textarea|!--)')\n        .replace('tag', _tag) // pars can be interrupted by type (6) html blocks\n        .getRegex()\n};\n/**\n * Pedantic grammar (original John Gruber's loose markdown specification)\n */\nconst blockPedantic = {\n    ...blockNormal,\n    html: edit('^ *(?:comment *(?:\\\\n|\\\\s*$)'\n        + '|<(tag)[\\\\s\\\\S]+?</\\\\1> *(?:\\\\n{2,}|\\\\s*$)' // closed tag\n        + '|<tag(?:\"[^\"]*\"|\\'[^\\']*\\'|\\\\s[^\\'\"/>\\\\s]*)*?/?> *(?:\\\\n{2,}|\\\\s*$))')\n        .replace('comment', _comment)\n        .replace(/tag/g, '(?!(?:'\n        + 'a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub'\n        + '|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)'\n        + '\\\\b)\\\\w+(?!:|[^\\\\w\\\\s@]*@)\\\\b')\n        .getRegex(),\n    def: /^ *\\[([^\\]]+)\\]: *<?([^\\s>]+)>?(?: +([\"(][^\\n]+[\")]))? *(?:\\n+|$)/,\n    heading: /^(#{1,6})(.*)(?:\\n+|$)/,\n    fences: noopTest, // fences not supported\n    lheading: /^(.+?)\\n {0,3}(=+|-+) *(?:\\n+|$)/,\n    paragraph: edit(_paragraph)\n        .replace('hr', hr)\n        .replace('heading', ' *#{1,6} *[^\\n]')\n        .replace('lheading', lheading)\n        .replace('|table', '')\n        .replace('blockquote', ' {0,3}>')\n        .replace('|fences', '')\n        .replace('|list', '')\n        .replace('|html', '')\n        .replace('|tag', '')\n        .getRegex()\n};\n/**\n * Inline-Level Grammar\n */\nconst escape = /^\\\\([!\"#$%&'()*+,\\-./:;<=>?@\\[\\]\\\\^_`{|}~])/;\nconst inlineCode = /^(`+)([^`]|[^`][\\s\\S]*?[^`])\\1(?!`)/;\nconst br = /^( {2,}|\\\\)\\n(?!\\s*$)/;\nconst inlineText = /^(`+|[^`])(?:(?= {2,}\\n)|[\\s\\S]*?(?:(?=[\\\\<!\\[`*_]|\\b_|$)|[^ ](?= {2,}\\n)))/;\n// list of unicode punctuation marks, plus any missing characters from CommonMark spec\nconst _punctuation = '\\\\p{P}\\\\p{S}';\nconst punctuation = edit(/^((?![*_])[\\spunctuation])/, 'u')\n    .replace(/punctuation/g, _punctuation).getRegex();\n// sequences em should skip over [title](link), `code`, <html>\nconst blockSkip = /\\[[^[\\]]*?\\]\\([^\\(\\)]*?\\)|`[^`]*?`|<[^<>]*?>/g;\nconst emStrongLDelim = edit(/^(?:\\*+(?:((?!\\*)[punct])|[^\\s*]))|^_+(?:((?!_)[punct])|([^\\s_]))/, 'u')\n    .replace(/punct/g, _punctuation)\n    .getRegex();\nconst emStrongRDelimAst = edit('^[^_*]*?__[^_*]*?\\\\*[^_*]*?(?=__)' // Skip orphan inside strong\n    + '|[^*]+(?=[^*])' // Consume to delim\n    + '|(?!\\\\*)[punct](\\\\*+)(?=[\\\\s]|$)' // (1) #*** can only be a Right Delimiter\n    + '|[^punct\\\\s](\\\\*+)(?!\\\\*)(?=[punct\\\\s]|$)' // (2) a***#, a*** can only be a Right Delimiter\n    + '|(?!\\\\*)[punct\\\\s](\\\\*+)(?=[^punct\\\\s])' // (3) #***a, ***a can only be Left Delimiter\n    + '|[\\\\s](\\\\*+)(?!\\\\*)(?=[punct])' // (4) ***# can only be Left Delimiter\n    + '|(?!\\\\*)[punct](\\\\*+)(?!\\\\*)(?=[punct])' // (5) #***# can be either Left or Right Delimiter\n    + '|[^punct\\\\s](\\\\*+)(?=[^punct\\\\s])', 'gu') // (6) a***a can be either Left or Right Delimiter\n    .replace(/punct/g, _punctuation)\n    .getRegex();\n// (6) Not allowed for _\nconst emStrongRDelimUnd = edit('^[^_*]*?\\\\*\\\\*[^_*]*?_[^_*]*?(?=\\\\*\\\\*)' // Skip orphan inside strong\n    + '|[^_]+(?=[^_])' // Consume to delim\n    + '|(?!_)[punct](_+)(?=[\\\\s]|$)' // (1) #___ can only be a Right Delimiter\n    + '|[^punct\\\\s](_+)(?!_)(?=[punct\\\\s]|$)' // (2) a___#, a___ can only be a Right Delimiter\n    + '|(?!_)[punct\\\\s](_+)(?=[^punct\\\\s])' // (3) #___a, ___a can only be Left Delimiter\n    + '|[\\\\s](_+)(?!_)(?=[punct])' // (4) ___# can only be Left Delimiter\n    + '|(?!_)[punct](_+)(?!_)(?=[punct])', 'gu') // (5) #___# can be either Left or Right Delimiter\n    .replace(/punct/g, _punctuation)\n    .getRegex();\nconst anyPunctuation = edit(/\\\\([punct])/, 'gu')\n    .replace(/punct/g, _punctuation)\n    .getRegex();\nconst autolink = edit(/^<(scheme:[^\\s\\x00-\\x1f<>]*|email)>/)\n    .replace('scheme', /[a-zA-Z][a-zA-Z0-9+.-]{1,31}/)\n    .replace('email', /[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/)\n    .getRegex();\nconst _inlineComment = edit(_comment).replace('(?:-->|$)', '-->').getRegex();\nconst tag = edit('^comment'\n    + '|^</[a-zA-Z][\\\\w:-]*\\\\s*>' // self-closing tag\n    + '|^<[a-zA-Z][\\\\w-]*(?:attribute)*?\\\\s*/?>' // open tag\n    + '|^<\\\\?[\\\\s\\\\S]*?\\\\?>' // processing instruction, e.g. <?php ?>\n    + '|^<![a-zA-Z]+\\\\s[\\\\s\\\\S]*?>' // declaration, e.g. <!DOCTYPE html>\n    + '|^<!\\\\[CDATA\\\\[[\\\\s\\\\S]*?\\\\]\\\\]>') // CDATA section\n    .replace('comment', _inlineComment)\n    .replace('attribute', /\\s+[a-zA-Z:_][\\w.:-]*(?:\\s*=\\s*\"[^\"]*\"|\\s*=\\s*'[^']*'|\\s*=\\s*[^\\s\"'=<>`]+)?/)\n    .getRegex();\nconst _inlineLabel = /(?:\\[(?:\\\\.|[^\\[\\]\\\\])*\\]|\\\\.|`[^`]*`|[^\\[\\]\\\\`])*?/;\nconst link = edit(/^!?\\[(label)\\]\\(\\s*(href)(?:\\s+(title))?\\s*\\)/)\n    .replace('label', _inlineLabel)\n    .replace('href', /<(?:\\\\.|[^\\n<>\\\\])+>|[^\\s\\x00-\\x1f]*/)\n    .replace('title', /\"(?:\\\\\"?|[^\"\\\\])*\"|'(?:\\\\'?|[^'\\\\])*'|\\((?:\\\\\\)?|[^)\\\\])*\\)/)\n    .getRegex();\nconst reflink = edit(/^!?\\[(label)\\]\\[(ref)\\]/)\n    .replace('label', _inlineLabel)\n    .replace('ref', _blockLabel)\n    .getRegex();\nconst nolink = edit(/^!?\\[(ref)\\](?:\\[\\])?/)\n    .replace('ref', _blockLabel)\n    .getRegex();\nconst reflinkSearch = edit('reflink|nolink(?!\\\\()', 'g')\n    .replace('reflink', reflink)\n    .replace('nolink', nolink)\n    .getRegex();\n/**\n * Normal Inline Grammar\n */\nconst inlineNormal = {\n    _backpedal: noopTest, // only used for GFM url\n    anyPunctuation,\n    autolink,\n    blockSkip,\n    br,\n    code: inlineCode,\n    del: noopTest,\n    emStrongLDelim,\n    emStrongRDelimAst,\n    emStrongRDelimUnd,\n    escape,\n    link,\n    nolink,\n    punctuation,\n    reflink,\n    reflinkSearch,\n    tag,\n    text: inlineText,\n    url: noopTest\n};\n/**\n * Pedantic Inline Grammar\n */\nconst inlinePedantic = {\n    ...inlineNormal,\n    link: edit(/^!?\\[(label)\\]\\((.*?)\\)/)\n        .replace('label', _inlineLabel)\n        .getRegex(),\n    reflink: edit(/^!?\\[(label)\\]\\s*\\[([^\\]]*)\\]/)\n        .replace('label', _inlineLabel)\n        .getRegex()\n};\n/**\n * GFM Inline Grammar\n */\nconst inlineGfm = {\n    ...inlineNormal,\n    escape: edit(escape).replace('])', '~|])').getRegex(),\n    url: edit(/^((?:ftp|https?):\\/\\/|www\\.)(?:[a-zA-Z0-9\\-]+\\.?)+[^\\s<]*|^email/, 'i')\n        .replace('email', /[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/)\n        .getRegex(),\n    _backpedal: /(?:[^?!.,:;*_'\"~()&]+|\\([^)]*\\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'\"~)]+(?!$))+/,\n    del: /^(~~?)(?=[^\\s~])([\\s\\S]*?[^\\s~])\\1(?=[^~]|$)/,\n    text: /^([`~]+|[^`~])(?:(?= {2,}\\n)|(?=[a-zA-Z0-9.!#$%&'*+\\/=?_`{\\|}~-]+@)|[\\s\\S]*?(?:(?=[\\\\<!\\[`*~_]|\\b_|https?:\\/\\/|ftp:\\/\\/|www\\.|$)|[^ ](?= {2,}\\n)|[^a-zA-Z0-9.!#$%&'*+\\/=?_`{\\|}~-](?=[a-zA-Z0-9.!#$%&'*+\\/=?_`{\\|}~-]+@)))/\n};\n/**\n * GFM + Line Breaks Inline Grammar\n */\nconst inlineBreaks = {\n    ...inlineGfm,\n    br: edit(br).replace('{2,}', '*').getRegex(),\n    text: edit(inlineGfm.text)\n        .replace('\\\\b_', '\\\\b_| {2,}\\\\n')\n        .replace(/\\{2,\\}/g, '*')\n        .getRegex()\n};\n/**\n * exports\n */\nconst block = {\n    normal: blockNormal,\n    gfm: blockGfm,\n    pedantic: blockPedantic\n};\nconst inline = {\n    normal: inlineNormal,\n    gfm: inlineGfm,\n    breaks: inlineBreaks,\n    pedantic: inlinePedantic\n};\n\n/**\n * Block Lexer\n */\nclass _Lexer {\n    tokens;\n    options;\n    state;\n    tokenizer;\n    inlineQueue;\n    constructor(options) {\n        // TokenList cannot be created in one go\n        this.tokens = [];\n        this.tokens.links = Object.create(null);\n        this.options = options || _defaults;\n        this.options.tokenizer = this.options.tokenizer || new _Tokenizer();\n        this.tokenizer = this.options.tokenizer;\n        this.tokenizer.options = this.options;\n        this.tokenizer.lexer = this;\n        this.inlineQueue = [];\n        this.state = {\n            inLink: false,\n            inRawBlock: false,\n            top: true\n        };\n        const rules = {\n            block: block.normal,\n            inline: inline.normal\n        };\n        if (this.options.pedantic) {\n            rules.block = block.pedantic;\n            rules.inline = inline.pedantic;\n        }\n        else if (this.options.gfm) {\n            rules.block = block.gfm;\n            if (this.options.breaks) {\n                rules.inline = inline.breaks;\n            }\n            else {\n                rules.inline = inline.gfm;\n            }\n        }\n        this.tokenizer.rules = rules;\n    }\n    /**\n     * Expose Rules\n     */\n    static get rules() {\n        return {\n            block,\n            inline\n        };\n    }\n    /**\n     * Static Lex Method\n     */\n    static lex(src, options) {\n        const lexer = new _Lexer(options);\n        return lexer.lex(src);\n    }\n    /**\n     * Static Lex Inline Method\n     */\n    static lexInline(src, options) {\n        const lexer = new _Lexer(options);\n        return lexer.inlineTokens(src);\n    }\n    /**\n     * Preprocessing\n     */\n    lex(src) {\n        src = src\n            .replace(/\\r\\n|\\r/g, '\\n');\n        this.blockTokens(src, this.tokens);\n        for (let i = 0; i < this.inlineQueue.length; i++) {\n            const next = this.inlineQueue[i];\n            this.inlineTokens(next.src, next.tokens);\n        }\n        this.inlineQueue = [];\n        return this.tokens;\n    }\n    blockTokens(src, tokens = []) {\n        if (this.options.pedantic) {\n            src = src.replace(/\\t/g, '    ').replace(/^ +$/gm, '');\n        }\n        else {\n            src = src.replace(/^( *)(\\t+)/gm, (_, leading, tabs) => {\n                return leading + '    '.repeat(tabs.length);\n            });\n        }\n        let token;\n        let lastToken;\n        let cutSrc;\n        let lastParagraphClipped;\n        while (src) {\n            if (this.options.extensions\n                && this.options.extensions.block\n                && this.options.extensions.block.some((extTokenizer) => {\n                    if (token = extTokenizer.call({ lexer: this }, src, tokens)) {\n                        src = src.substring(token.raw.length);\n                        tokens.push(token);\n                        return true;\n                    }\n                    return false;\n                })) {\n                continue;\n            }\n            // newline\n            if (token = this.tokenizer.space(src)) {\n                src = src.substring(token.raw.length);\n                if (token.raw.length === 1 && tokens.length > 0) {\n                    // if there's a single \\n as a spacer, it's terminating the last line,\n                    // so move it there so that we don't get unnecessary paragraph tags\n                    tokens[tokens.length - 1].raw += '\\n';\n                }\n                else {\n                    tokens.push(token);\n                }\n                continue;\n            }\n            // code\n            if (token = this.tokenizer.code(src)) {\n                src = src.substring(token.raw.length);\n                lastToken = tokens[tokens.length - 1];\n                // An indented code block cannot interrupt a paragraph.\n                if (lastToken && (lastToken.type === 'paragraph' || lastToken.type === 'text')) {\n                    lastToken.raw += '\\n' + token.raw;\n                    lastToken.text += '\\n' + token.text;\n                    this.inlineQueue[this.inlineQueue.length - 1].src = lastToken.text;\n                }\n                else {\n                    tokens.push(token);\n                }\n                continue;\n            }\n            // fences\n            if (token = this.tokenizer.fences(src)) {\n                src = src.substring(token.raw.length);\n                tokens.push(token);\n                continue;\n            }\n            // heading\n            if (token = this.tokenizer.heading(src)) {\n                src = src.substring(token.raw.length);\n                tokens.push(token);\n                continue;\n            }\n            // hr\n            if (token = this.tokenizer.hr(src)) {\n                src = src.substring(token.raw.length);\n                tokens.push(token);\n                continue;\n            }\n            // blockquote\n            if (token = this.tokenizer.blockquote(src)) {\n                src = src.substring(token.raw.length);\n                tokens.push(token);\n                continue;\n            }\n            // list\n            if (token = this.tokenizer.list(src)) {\n                src = src.substring(token.raw.length);\n                tokens.push(token);\n                continue;\n            }\n            // html\n            if (token = this.tokenizer.html(src)) {\n                src = src.substring(token.raw.length);\n                tokens.push(token);\n                continue;\n            }\n            // def\n            if (token = this.tokenizer.def(src)) {\n                src = src.substring(token.raw.length);\n                lastToken = tokens[tokens.length - 1];\n                if (lastToken && (lastToken.type === 'paragraph' || lastToken.type === 'text')) {\n                    lastToken.raw += '\\n' + token.raw;\n                    lastToken.text += '\\n' + token.raw;\n                    this.inlineQueue[this.inlineQueue.length - 1].src = lastToken.text;\n                }\n                else if (!this.tokens.links[token.tag]) {\n                    this.tokens.links[token.tag] = {\n                        href: token.href,\n                        title: token.title\n                    };\n                }\n                continue;\n            }\n            // table (gfm)\n            if (token = this.tokenizer.table(src)) {\n                src = src.substring(token.raw.length);\n                tokens.push(token);\n                continue;\n            }\n            // lheading\n            if (token = this.tokenizer.lheading(src)) {\n                src = src.substring(token.raw.length);\n                tokens.push(token);\n                continue;\n            }\n            // top-level paragraph\n            // prevent paragraph consuming extensions by clipping 'src' to extension start\n            cutSrc = src;\n            if (this.options.extensions && this.options.extensions.startBlock) {\n                let startIndex = Infinity;\n                const tempSrc = src.slice(1);\n                let tempStart;\n                this.options.extensions.startBlock.forEach((getStartIndex) => {\n                    tempStart = getStartIndex.call({ lexer: this }, tempSrc);\n                    if (typeof tempStart === 'number' && tempStart >= 0) {\n                        startIndex = Math.min(startIndex, tempStart);\n                    }\n                });\n                if (startIndex < Infinity && startIndex >= 0) {\n                    cutSrc = src.substring(0, startIndex + 1);\n                }\n            }\n            if (this.state.top && (token = this.tokenizer.paragraph(cutSrc))) {\n                lastToken = tokens[tokens.length - 1];\n                if (lastParagraphClipped && lastToken.type === 'paragraph') {\n                    lastToken.raw += '\\n' + token.raw;\n                    lastToken.text += '\\n' + token.text;\n                    this.inlineQueue.pop();\n                    this.inlineQueue[this.inlineQueue.length - 1].src = lastToken.text;\n                }\n                else {\n                    tokens.push(token);\n                }\n                lastParagraphClipped = (cutSrc.length !== src.length);\n                src = src.substring(token.raw.length);\n                continue;\n            }\n            // text\n            if (token = this.tokenizer.text(src)) {\n                src = src.substring(token.raw.length);\n                lastToken = tokens[tokens.length - 1];\n                if (lastToken && lastToken.type === 'text') {\n                    lastToken.raw += '\\n' + token.raw;\n                    lastToken.text += '\\n' + token.text;\n                    this.inlineQueue.pop();\n                    this.inlineQueue[this.inlineQueue.length - 1].src = lastToken.text;\n                }\n                else {\n                    tokens.push(token);\n                }\n                continue;\n            }\n            if (src) {\n                const errMsg = 'Infinite loop on byte: ' + src.charCodeAt(0);\n                if (this.options.silent) {\n                    console.error(errMsg);\n                    break;\n                }\n                else {\n                    throw new Error(errMsg);\n                }\n            }\n        }\n        this.state.top = true;\n        return tokens;\n    }\n    inline(src, tokens = []) {\n        this.inlineQueue.push({ src, tokens });\n        return tokens;\n    }\n    /**\n     * Lexing/Compiling\n     */\n    inlineTokens(src, tokens = []) {\n        let token, lastToken, cutSrc;\n        // String with links masked to avoid interference with em and strong\n        let maskedSrc = src;\n        let match;\n        let keepPrevChar, prevChar;\n        // Mask out reflinks\n        if (this.tokens.links) {\n            const links = Object.keys(this.tokens.links);\n            if (links.length > 0) {\n                while ((match = this.tokenizer.rules.inline.reflinkSearch.exec(maskedSrc)) != null) {\n                    if (links.includes(match[0].slice(match[0].lastIndexOf('[') + 1, -1))) {\n                        maskedSrc = maskedSrc.slice(0, match.index) + '[' + 'a'.repeat(match[0].length - 2) + ']' + maskedSrc.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex);\n                    }\n                }\n            }\n        }\n        // Mask out other blocks\n        while ((match = this.tokenizer.rules.inline.blockSkip.exec(maskedSrc)) != null) {\n            maskedSrc = maskedSrc.slice(0, match.index) + '[' + 'a'.repeat(match[0].length - 2) + ']' + maskedSrc.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);\n        }\n        // Mask out escaped characters\n        while ((match = this.tokenizer.rules.inline.anyPunctuation.exec(maskedSrc)) != null) {\n            maskedSrc = maskedSrc.slice(0, match.index) + '++' + maskedSrc.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);\n        }\n        while (src) {\n            if (!keepPrevChar) {\n                prevChar = '';\n            }\n            keepPrevChar = false;\n            // extensions\n            if (this.options.extensions\n                && this.options.extensions.inline\n                && this.options.extensions.inline.some((extTokenizer) => {\n                    if (token = extTokenizer.call({ lexer: this }, src, tokens)) {\n                        src = src.substring(token.raw.length);\n                        tokens.push(token);\n                        return true;\n                    }\n                    return false;\n                })) {\n                continue;\n            }\n            // escape\n            if (token = this.tokenizer.escape(src)) {\n                src = src.substring(token.raw.length);\n                tokens.push(token);\n                continue;\n            }\n            // tag\n            if (token = this.tokenizer.tag(src)) {\n                src = src.substring(token.raw.length);\n                lastToken = tokens[tokens.length - 1];\n                if (lastToken && token.type === 'text' && lastToken.type === 'text') {\n                    lastToken.raw += token.raw;\n                    lastToken.text += token.text;\n                }\n                else {\n                    tokens.push(token);\n                }\n                continue;\n            }\n            // link\n            if (token = this.tokenizer.link(src)) {\n                src = src.substring(token.raw.length);\n                tokens.push(token);\n                continue;\n            }\n            // reflink, nolink\n            if (token = this.tokenizer.reflink(src, this.tokens.links)) {\n                src = src.substring(token.raw.length);\n                lastToken = tokens[tokens.length - 1];\n                if (lastToken && token.type === 'text' && lastToken.type === 'text') {\n                    lastToken.raw += token.raw;\n                    lastToken.text += token.text;\n                }\n                else {\n                    tokens.push(token);\n                }\n                continue;\n            }\n            // em & strong\n            if (token = this.tokenizer.emStrong(src, maskedSrc, prevChar)) {\n                src = src.substring(token.raw.length);\n                tokens.push(token);\n                continue;\n            }\n            // code\n            if (token = this.tokenizer.codespan(src)) {\n                src = src.substring(token.raw.length);\n                tokens.push(token);\n                continue;\n            }\n            // br\n            if (token = this.tokenizer.br(src)) {\n                src = src.substring(token.raw.length);\n                tokens.push(token);\n                continue;\n            }\n            // del (gfm)\n            if (token = this.tokenizer.del(src)) {\n                src = src.substring(token.raw.length);\n                tokens.push(token);\n                continue;\n            }\n            // autolink\n            if (token = this.tokenizer.autolink(src)) {\n                src = src.substring(token.raw.length);\n                tokens.push(token);\n                continue;\n            }\n            // url (gfm)\n            if (!this.state.inLink && (token = this.tokenizer.url(src))) {\n                src = src.substring(token.raw.length);\n                tokens.push(token);\n                continue;\n            }\n            // text\n            // prevent inlineText consuming extensions by clipping 'src' to extension start\n            cutSrc = src;\n            if (this.options.extensions && this.options.extensions.startInline) {\n                let startIndex = Infinity;\n                const tempSrc = src.slice(1);\n                let tempStart;\n                this.options.extensions.startInline.forEach((getStartIndex) => {\n                    tempStart = getStartIndex.call({ lexer: this }, tempSrc);\n                    if (typeof tempStart === 'number' && tempStart >= 0) {\n                        startIndex = Math.min(startIndex, tempStart);\n                    }\n                });\n                if (startIndex < Infinity && startIndex >= 0) {\n                    cutSrc = src.substring(0, startIndex + 1);\n                }\n            }\n            if (token = this.tokenizer.inlineText(cutSrc)) {\n                src = src.substring(token.raw.length);\n                if (token.raw.slice(-1) !== '_') { // Track prevChar before string of ____ started\n                    prevChar = token.raw.slice(-1);\n                }\n                keepPrevChar = true;\n                lastToken = tokens[tokens.length - 1];\n                if (lastToken && lastToken.type === 'text') {\n                    lastToken.raw += token.raw;\n                    lastToken.text += token.text;\n                }\n                else {\n                    tokens.push(token);\n                }\n                continue;\n            }\n            if (src) {\n                const errMsg = 'Infinite loop on byte: ' + src.charCodeAt(0);\n                if (this.options.silent) {\n                    console.error(errMsg);\n                    break;\n                }\n                else {\n                    throw new Error(errMsg);\n                }\n            }\n        }\n        return tokens;\n    }\n}\n\n/**\n * Renderer\n */\nclass _Renderer {\n    options;\n    constructor(options) {\n        this.options = options || _defaults;\n    }\n    code(code, infostring, escaped) {\n        const lang = (infostring || '').match(/^\\S*/)?.[0];\n        code = code.replace(/\\n$/, '') + '\\n';\n        if (!lang) {\n            return '<pre><code>'\n                + (escaped ? code : escape$1(code, true))\n                + '</code></pre>\\n';\n        }\n        return '<pre><code class=\"language-'\n            + escape$1(lang)\n            + '\">'\n            + (escaped ? code : escape$1(code, true))\n            + '</code></pre>\\n';\n    }\n    blockquote(quote) {\n        return `<blockquote>\\n${quote}</blockquote>\\n`;\n    }\n    html(html, block) {\n        return html;\n    }\n    heading(text, level, raw) {\n        // ignore IDs\n        return `<h${level}>${text}</h${level}>\\n`;\n    }\n    hr() {\n        return '<hr>\\n';\n    }\n    list(body, ordered, start) {\n        const type = ordered ? 'ol' : 'ul';\n        const startatt = (ordered && start !== 1) ? (' start=\"' + start + '\"') : '';\n        return '<' + type + startatt + '>\\n' + body + '</' + type + '>\\n';\n    }\n    listitem(text, task, checked) {\n        return `<li>${text}</li>\\n`;\n    }\n    checkbox(checked) {\n        return '<input '\n            + (checked ? 'checked=\"\" ' : '')\n            + 'disabled=\"\" type=\"checkbox\">';\n    }\n    paragraph(text) {\n        return `<p>${text}</p>\\n`;\n    }\n    table(header, body) {\n        if (body)\n            body = `<tbody>${body}</tbody>`;\n        return '<table>\\n'\n            + '<thead>\\n'\n            + header\n            + '</thead>\\n'\n            + body\n            + '</table>\\n';\n    }\n    tablerow(content) {\n        return `<tr>\\n${content}</tr>\\n`;\n    }\n    tablecell(content, flags) {\n        const type = flags.header ? 'th' : 'td';\n        const tag = flags.align\n            ? `<${type} align=\"${flags.align}\">`\n            : `<${type}>`;\n        return tag + content + `</${type}>\\n`;\n    }\n    /**\n     * span level renderer\n     */\n    strong(text) {\n        return `<strong>${text}</strong>`;\n    }\n    em(text) {\n        return `<em>${text}</em>`;\n    }\n    codespan(text) {\n        return `<code>${text}</code>`;\n    }\n    br() {\n        return '<br>';\n    }\n    del(text) {\n        return `<del>${text}</del>`;\n    }\n    link(href, title, text) {\n        const cleanHref = cleanUrl(href);\n        if (cleanHref === null) {\n            return text;\n        }\n        href = cleanHref;\n        let out = '<a href=\"' + href + '\"';\n        if (title) {\n            out += ' title=\"' + title + '\"';\n        }\n        out += '>' + text + '</a>';\n        return out;\n    }\n    image(href, title, text) {\n        const cleanHref = cleanUrl(href);\n        if (cleanHref === null) {\n            return text;\n        }\n        href = cleanHref;\n        let out = `<img src=\"${href}\" alt=\"${text}\"`;\n        if (title) {\n            out += ` title=\"${title}\"`;\n        }\n        out += '>';\n        return out;\n    }\n    text(text) {\n        return text;\n    }\n}\n\n/**\n * TextRenderer\n * returns only the textual part of the token\n */\nclass _TextRenderer {\n    // no need for block level renderers\n    strong(text) {\n        return text;\n    }\n    em(text) {\n        return text;\n    }\n    codespan(text) {\n        return text;\n    }\n    del(text) {\n        return text;\n    }\n    html(text) {\n        return text;\n    }\n    text(text) {\n        return text;\n    }\n    link(href, title, text) {\n        return '' + text;\n    }\n    image(href, title, text) {\n        return '' + text;\n    }\n    br() {\n        return '';\n    }\n}\n\n/**\n * Parsing & Compiling\n */\nclass _Parser {\n    options;\n    renderer;\n    textRenderer;\n    constructor(options) {\n        this.options = options || _defaults;\n        this.options.renderer = this.options.renderer || new _Renderer();\n        this.renderer = this.options.renderer;\n        this.renderer.options = this.options;\n        this.textRenderer = new _TextRenderer();\n    }\n    /**\n     * Static Parse Method\n     */\n    static parse(tokens, options) {\n        const parser = new _Parser(options);\n        return parser.parse(tokens);\n    }\n    /**\n     * Static Parse Inline Method\n     */\n    static parseInline(tokens, options) {\n        const parser = new _Parser(options);\n        return parser.parseInline(tokens);\n    }\n    /**\n     * Parse Loop\n     */\n    parse(tokens, top = true) {\n        let out = '';\n        for (let i = 0; i < tokens.length; i++) {\n            const token = tokens[i];\n            // Run any renderer extensions\n            if (this.options.extensions && this.options.extensions.renderers && this.options.extensions.renderers[token.type]) {\n                const genericToken = token;\n                const ret = this.options.extensions.renderers[genericToken.type].call({ parser: this }, genericToken);\n                if (ret !== false || !['space', 'hr', 'heading', 'code', 'table', 'blockquote', 'list', 'html', 'paragraph', 'text'].includes(genericToken.type)) {\n                    out += ret || '';\n                    continue;\n                }\n            }\n            switch (token.type) {\n                case 'space': {\n                    continue;\n                }\n                case 'hr': {\n                    out += this.renderer.hr();\n                    continue;\n                }\n                case 'heading': {\n                    const headingToken = token;\n                    out += this.renderer.heading(this.parseInline(headingToken.tokens), headingToken.depth, unescape(this.parseInline(headingToken.tokens, this.textRenderer)));\n                    continue;\n                }\n                case 'code': {\n                    const codeToken = token;\n                    out += this.renderer.code(codeToken.text, codeToken.lang, !!codeToken.escaped);\n                    continue;\n                }\n                case 'table': {\n                    const tableToken = token;\n                    let header = '';\n                    // header\n                    let cell = '';\n                    for (let j = 0; j < tableToken.header.length; j++) {\n                        cell += this.renderer.tablecell(this.parseInline(tableToken.header[j].tokens), { header: true, align: tableToken.align[j] });\n                    }\n                    header += this.renderer.tablerow(cell);\n                    let body = '';\n                    for (let j = 0; j < tableToken.rows.length; j++) {\n                        const row = tableToken.rows[j];\n                        cell = '';\n                        for (let k = 0; k < row.length; k++) {\n                            cell += this.renderer.tablecell(this.parseInline(row[k].tokens), { header: false, align: tableToken.align[k] });\n                        }\n                        body += this.renderer.tablerow(cell);\n                    }\n                    out += this.renderer.table(header, body);\n                    continue;\n                }\n                case 'blockquote': {\n                    const blockquoteToken = token;\n                    const body = this.parse(blockquoteToken.tokens);\n                    out += this.renderer.blockquote(body);\n                    continue;\n                }\n                case 'list': {\n                    const listToken = token;\n                    const ordered = listToken.ordered;\n                    const start = listToken.start;\n                    const loose = listToken.loose;\n                    let body = '';\n                    for (let j = 0; j < listToken.items.length; j++) {\n                        const item = listToken.items[j];\n                        const checked = item.checked;\n                        const task = item.task;\n                        let itemBody = '';\n                        if (item.task) {\n                            const checkbox = this.renderer.checkbox(!!checked);\n                            if (loose) {\n                                if (item.tokens.length > 0 && item.tokens[0].type === 'paragraph') {\n                                    item.tokens[0].text = checkbox + ' ' + item.tokens[0].text;\n                                    if (item.tokens[0].tokens && item.tokens[0].tokens.length > 0 && item.tokens[0].tokens[0].type === 'text') {\n                                        item.tokens[0].tokens[0].text = checkbox + ' ' + item.tokens[0].tokens[0].text;\n                                    }\n                                }\n                                else {\n                                    item.tokens.unshift({\n                                        type: 'text',\n                                        text: checkbox + ' '\n                                    });\n                                }\n                            }\n                            else {\n                                itemBody += checkbox + ' ';\n                            }\n                        }\n                        itemBody += this.parse(item.tokens, loose);\n                        body += this.renderer.listitem(itemBody, task, !!checked);\n                    }\n                    out += this.renderer.list(body, ordered, start);\n                    continue;\n                }\n                case 'html': {\n                    const htmlToken = token;\n                    out += this.renderer.html(htmlToken.text, htmlToken.block);\n                    continue;\n                }\n                case 'paragraph': {\n                    const paragraphToken = token;\n                    out += this.renderer.paragraph(this.parseInline(paragraphToken.tokens));\n                    continue;\n                }\n                case 'text': {\n                    let textToken = token;\n                    let body = textToken.tokens ? this.parseInline(textToken.tokens) : textToken.text;\n                    while (i + 1 < tokens.length && tokens[i + 1].type === 'text') {\n                        textToken = tokens[++i];\n                        body += '\\n' + (textToken.tokens ? this.parseInline(textToken.tokens) : textToken.text);\n                    }\n                    out += top ? this.renderer.paragraph(body) : body;\n                    continue;\n                }\n                default: {\n                    const errMsg = 'Token with \"' + token.type + '\" type was not found.';\n                    if (this.options.silent) {\n                        console.error(errMsg);\n                        return '';\n                    }\n                    else {\n                        throw new Error(errMsg);\n                    }\n                }\n            }\n        }\n        return out;\n    }\n    /**\n     * Parse Inline Tokens\n     */\n    parseInline(tokens, renderer) {\n        renderer = renderer || this.renderer;\n        let out = '';\n        for (let i = 0; i < tokens.length; i++) {\n            const token = tokens[i];\n            // Run any renderer extensions\n            if (this.options.extensions && this.options.extensions.renderers && this.options.extensions.renderers[token.type]) {\n                const ret = this.options.extensions.renderers[token.type].call({ parser: this }, token);\n                if (ret !== false || !['escape', 'html', 'link', 'image', 'strong', 'em', 'codespan', 'br', 'del', 'text'].includes(token.type)) {\n                    out += ret || '';\n                    continue;\n                }\n            }\n            switch (token.type) {\n                case 'escape': {\n                    const escapeToken = token;\n                    out += renderer.text(escapeToken.text);\n                    break;\n                }\n                case 'html': {\n                    const tagToken = token;\n                    out += renderer.html(tagToken.text);\n                    break;\n                }\n                case 'link': {\n                    const linkToken = token;\n                    out += renderer.link(linkToken.href, linkToken.title, this.parseInline(linkToken.tokens, renderer));\n                    break;\n                }\n                case 'image': {\n                    const imageToken = token;\n                    out += renderer.image(imageToken.href, imageToken.title, imageToken.text);\n                    break;\n                }\n                case 'strong': {\n                    const strongToken = token;\n                    out += renderer.strong(this.parseInline(strongToken.tokens, renderer));\n                    break;\n                }\n                case 'em': {\n                    const emToken = token;\n                    out += renderer.em(this.parseInline(emToken.tokens, renderer));\n                    break;\n                }\n                case 'codespan': {\n                    const codespanToken = token;\n                    out += renderer.codespan(codespanToken.text);\n                    break;\n                }\n                case 'br': {\n                    out += renderer.br();\n                    break;\n                }\n                case 'del': {\n                    const delToken = token;\n                    out += renderer.del(this.parseInline(delToken.tokens, renderer));\n                    break;\n                }\n                case 'text': {\n                    const textToken = token;\n                    out += renderer.text(textToken.text);\n                    break;\n                }\n                default: {\n                    const errMsg = 'Token with \"' + token.type + '\" type was not found.';\n                    if (this.options.silent) {\n                        console.error(errMsg);\n                        return '';\n                    }\n                    else {\n                        throw new Error(errMsg);\n                    }\n                }\n            }\n        }\n        return out;\n    }\n}\n\nclass _Hooks {\n    options;\n    constructor(options) {\n        this.options = options || _defaults;\n    }\n    static passThroughHooks = new Set([\n        'preprocess',\n        'postprocess',\n        'processAllTokens'\n    ]);\n    /**\n     * Process markdown before marked\n     */\n    preprocess(markdown) {\n        return markdown;\n    }\n    /**\n     * Process HTML after marked is finished\n     */\n    postprocess(html) {\n        return html;\n    }\n    /**\n     * Process all tokens before walk tokens\n     */\n    processAllTokens(tokens) {\n        return tokens;\n    }\n}\n\nclass Marked {\n    defaults = _getDefaults();\n    options = this.setOptions;\n    parse = this.#parseMarkdown(_Lexer.lex, _Parser.parse);\n    parseInline = this.#parseMarkdown(_Lexer.lexInline, _Parser.parseInline);\n    Parser = _Parser;\n    Renderer = _Renderer;\n    TextRenderer = _TextRenderer;\n    Lexer = _Lexer;\n    Tokenizer = _Tokenizer;\n    Hooks = _Hooks;\n    constructor(...args) {\n        this.use(...args);\n    }\n    /**\n     * Run callback for every token\n     */\n    walkTokens(tokens, callback) {\n        let values = [];\n        for (const token of tokens) {\n            values = values.concat(callback.call(this, token));\n            switch (token.type) {\n                case 'table': {\n                    const tableToken = token;\n                    for (const cell of tableToken.header) {\n                        values = values.concat(this.walkTokens(cell.tokens, callback));\n                    }\n                    for (const row of tableToken.rows) {\n                        for (const cell of row) {\n                            values = values.concat(this.walkTokens(cell.tokens, callback));\n                        }\n                    }\n                    break;\n                }\n                case 'list': {\n                    const listToken = token;\n                    values = values.concat(this.walkTokens(listToken.items, callback));\n                    break;\n                }\n                default: {\n                    const genericToken = token;\n                    if (this.defaults.extensions?.childTokens?.[genericToken.type]) {\n                        this.defaults.extensions.childTokens[genericToken.type].forEach((childTokens) => {\n                            const tokens = genericToken[childTokens].flat(Infinity);\n                            values = values.concat(this.walkTokens(tokens, callback));\n                        });\n                    }\n                    else if (genericToken.tokens) {\n                        values = values.concat(this.walkTokens(genericToken.tokens, callback));\n                    }\n                }\n            }\n        }\n        return values;\n    }\n    use(...args) {\n        const extensions = this.defaults.extensions || { renderers: {}, childTokens: {} };\n        args.forEach((pack) => {\n            // copy options to new object\n            const opts = { ...pack };\n            // set async to true if it was set to true before\n            opts.async = this.defaults.async || opts.async || false;\n            // ==-- Parse \"addon\" extensions --== //\n            if (pack.extensions) {\n                pack.extensions.forEach((ext) => {\n                    if (!ext.name) {\n                        throw new Error('extension name required');\n                    }\n                    if ('renderer' in ext) { // Renderer extensions\n                        const prevRenderer = extensions.renderers[ext.name];\n                        if (prevRenderer) {\n                            // Replace extension with func to run new extension but fall back if false\n                            extensions.renderers[ext.name] = function (...args) {\n                                let ret = ext.renderer.apply(this, args);\n                                if (ret === false) {\n                                    ret = prevRenderer.apply(this, args);\n                                }\n                                return ret;\n                            };\n                        }\n                        else {\n                            extensions.renderers[ext.name] = ext.renderer;\n                        }\n                    }\n                    if ('tokenizer' in ext) { // Tokenizer Extensions\n                        if (!ext.level || (ext.level !== 'block' && ext.level !== 'inline')) {\n                            throw new Error(\"extension level must be 'block' or 'inline'\");\n                        }\n                        const extLevel = extensions[ext.level];\n                        if (extLevel) {\n                            extLevel.unshift(ext.tokenizer);\n                        }\n                        else {\n                            extensions[ext.level] = [ext.tokenizer];\n                        }\n                        if (ext.start) { // Function to check for start of token\n                            if (ext.level === 'block') {\n                                if (extensions.startBlock) {\n                                    extensions.startBlock.push(ext.start);\n                                }\n                                else {\n                                    extensions.startBlock = [ext.start];\n                                }\n                            }\n                            else if (ext.level === 'inline') {\n                                if (extensions.startInline) {\n                                    extensions.startInline.push(ext.start);\n                                }\n                                else {\n                                    extensions.startInline = [ext.start];\n                                }\n                            }\n                        }\n                    }\n                    if ('childTokens' in ext && ext.childTokens) { // Child tokens to be visited by walkTokens\n                        extensions.childTokens[ext.name] = ext.childTokens;\n                    }\n                });\n                opts.extensions = extensions;\n            }\n            // ==-- Parse \"overwrite\" extensions --== //\n            if (pack.renderer) {\n                const renderer = this.defaults.renderer || new _Renderer(this.defaults);\n                for (const prop in pack.renderer) {\n                    if (!(prop in renderer)) {\n                        throw new Error(`renderer '${prop}' does not exist`);\n                    }\n                    if (prop === 'options') {\n                        // ignore options property\n                        continue;\n                    }\n                    const rendererProp = prop;\n                    const rendererFunc = pack.renderer[rendererProp];\n                    const prevRenderer = renderer[rendererProp];\n                    // Replace renderer with func to run extension, but fall back if false\n                    renderer[rendererProp] = (...args) => {\n                        let ret = rendererFunc.apply(renderer, args);\n                        if (ret === false) {\n                            ret = prevRenderer.apply(renderer, args);\n                        }\n                        return ret || '';\n                    };\n                }\n                opts.renderer = renderer;\n            }\n            if (pack.tokenizer) {\n                const tokenizer = this.defaults.tokenizer || new _Tokenizer(this.defaults);\n                for (const prop in pack.tokenizer) {\n                    if (!(prop in tokenizer)) {\n                        throw new Error(`tokenizer '${prop}' does not exist`);\n                    }\n                    if (['options', 'rules', 'lexer'].includes(prop)) {\n                        // ignore options, rules, and lexer properties\n                        continue;\n                    }\n                    const tokenizerProp = prop;\n                    const tokenizerFunc = pack.tokenizer[tokenizerProp];\n                    const prevTokenizer = tokenizer[tokenizerProp];\n                    // Replace tokenizer with func to run extension, but fall back if false\n                    // @ts-expect-error cannot type tokenizer function dynamically\n                    tokenizer[tokenizerProp] = (...args) => {\n                        let ret = tokenizerFunc.apply(tokenizer, args);\n                        if (ret === false) {\n                            ret = prevTokenizer.apply(tokenizer, args);\n                        }\n                        return ret;\n                    };\n                }\n                opts.tokenizer = tokenizer;\n            }\n            // ==-- Parse Hooks extensions --== //\n            if (pack.hooks) {\n                const hooks = this.defaults.hooks || new _Hooks();\n                for (const prop in pack.hooks) {\n                    if (!(prop in hooks)) {\n                        throw new Error(`hook '${prop}' does not exist`);\n                    }\n                    if (prop === 'options') {\n                        // ignore options property\n                        continue;\n                    }\n                    const hooksProp = prop;\n                    const hooksFunc = pack.hooks[hooksProp];\n                    const prevHook = hooks[hooksProp];\n                    if (_Hooks.passThroughHooks.has(prop)) {\n                        // @ts-expect-error cannot type hook function dynamically\n                        hooks[hooksProp] = (arg) => {\n                            if (this.defaults.async) {\n                                return Promise.resolve(hooksFunc.call(hooks, arg)).then(ret => {\n                                    return prevHook.call(hooks, ret);\n                                });\n                            }\n                            const ret = hooksFunc.call(hooks, arg);\n                            return prevHook.call(hooks, ret);\n                        };\n                    }\n                    else {\n                        // @ts-expect-error cannot type hook function dynamically\n                        hooks[hooksProp] = (...args) => {\n                            let ret = hooksFunc.apply(hooks, args);\n                            if (ret === false) {\n                                ret = prevHook.apply(hooks, args);\n                            }\n                            return ret;\n                        };\n                    }\n                }\n                opts.hooks = hooks;\n            }\n            // ==-- Parse WalkTokens extensions --== //\n            if (pack.walkTokens) {\n                const walkTokens = this.defaults.walkTokens;\n                const packWalktokens = pack.walkTokens;\n                opts.walkTokens = function (token) {\n                    let values = [];\n                    values.push(packWalktokens.call(this, token));\n                    if (walkTokens) {\n                        values = values.concat(walkTokens.call(this, token));\n                    }\n                    return values;\n                };\n            }\n            this.defaults = { ...this.defaults, ...opts };\n        });\n        return this;\n    }\n    setOptions(opt) {\n        this.defaults = { ...this.defaults, ...opt };\n        return this;\n    }\n    lexer(src, options) {\n        return _Lexer.lex(src, options ?? this.defaults);\n    }\n    parser(tokens, options) {\n        return _Parser.parse(tokens, options ?? this.defaults);\n    }\n    #parseMarkdown(lexer, parser) {\n        return (src, options) => {\n            const origOpt = { ...options };\n            const opt = { ...this.defaults, ...origOpt };\n            // Show warning if an extension set async to true but the parse was called with async: false\n            if (this.defaults.async === true && origOpt.async === false) {\n                if (!opt.silent) {\n                    console.warn('marked(): The async option was set to true by an extension. The async: false option sent to parse will be ignored.');\n                }\n                opt.async = true;\n            }\n            const throwError = this.#onError(!!opt.silent, !!opt.async);\n            // throw error in case of non string input\n            if (typeof src === 'undefined' || src === null) {\n                return throwError(new Error('marked(): input parameter is undefined or null'));\n            }\n            if (typeof src !== 'string') {\n                return throwError(new Error('marked(): input parameter is of type '\n                    + Object.prototype.toString.call(src) + ', string expected'));\n            }\n            if (opt.hooks) {\n                opt.hooks.options = opt;\n            }\n            if (opt.async) {\n                return Promise.resolve(opt.hooks ? opt.hooks.preprocess(src) : src)\n                    .then(src => lexer(src, opt))\n                    .then(tokens => opt.hooks ? opt.hooks.processAllTokens(tokens) : tokens)\n                    .then(tokens => opt.walkTokens ? Promise.all(this.walkTokens(tokens, opt.walkTokens)).then(() => tokens) : tokens)\n                    .then(tokens => parser(tokens, opt))\n                    .then(html => opt.hooks ? opt.hooks.postprocess(html) : html)\n                    .catch(throwError);\n            }\n            try {\n                if (opt.hooks) {\n                    src = opt.hooks.preprocess(src);\n                }\n                let tokens = lexer(src, opt);\n                if (opt.hooks) {\n                    tokens = opt.hooks.processAllTokens(tokens);\n                }\n                if (opt.walkTokens) {\n                    this.walkTokens(tokens, opt.walkTokens);\n                }\n                let html = parser(tokens, opt);\n                if (opt.hooks) {\n                    html = opt.hooks.postprocess(html);\n                }\n                return html;\n            }\n            catch (e) {\n                return throwError(e);\n            }\n        };\n    }\n    #onError(silent, async) {\n        return (e) => {\n            e.message += '\\nPlease report this to https://github.com/markedjs/marked.';\n            if (silent) {\n                const msg = '<p>An error occurred:</p><pre>'\n                    + escape$1(e.message + '', true)\n                    + '</pre>';\n                if (async) {\n                    return Promise.resolve(msg);\n                }\n                return msg;\n            }\n            if (async) {\n                return Promise.reject(e);\n            }\n            throw e;\n        };\n    }\n}\n\nconst markedInstance = new Marked();\nfunction marked(src, opt) {\n    return markedInstance.parse(src, opt);\n}\n/**\n * Sets the default options.\n *\n * @param options Hash of options\n */\nmarked.options =\n    marked.setOptions = function (options) {\n        markedInstance.setOptions(options);\n        marked.defaults = markedInstance.defaults;\n        changeDefaults(marked.defaults);\n        return marked;\n    };\n/**\n * Gets the original marked default options.\n */\nmarked.getDefaults = _getDefaults;\nmarked.defaults = _defaults;\n/**\n * Use Extension\n */\nmarked.use = function (...args) {\n    markedInstance.use(...args);\n    marked.defaults = markedInstance.defaults;\n    changeDefaults(marked.defaults);\n    return marked;\n};\n/**\n * Run callback for every token\n */\nmarked.walkTokens = function (tokens, callback) {\n    return markedInstance.walkTokens(tokens, callback);\n};\n/**\n * Compiles markdown to HTML without enclosing `p` tag.\n *\n * @param src String of markdown source to be compiled\n * @param options Hash of options\n * @return String of compiled HTML\n */\nmarked.parseInline = markedInstance.parseInline;\n/**\n * Expose\n */\nmarked.Parser = _Parser;\nmarked.parser = _Parser.parse;\nmarked.Renderer = _Renderer;\nmarked.TextRenderer = _TextRenderer;\nmarked.Lexer = _Lexer;\nmarked.lexer = _Lexer.lex;\nmarked.Tokenizer = _Tokenizer;\nmarked.Hooks = _Hooks;\nmarked.parse = marked;\nconst options = marked.options;\nconst setOptions = marked.setOptions;\nconst use = marked.use;\nconst walkTokens = marked.walkTokens;\nconst parseInline = marked.parseInline;\nconst parse = marked;\nconst parser = _Parser.parse;\nconst lexer = _Lexer.lex;\n\nexport { _Hooks as Hooks, _Lexer as Lexer, Marked, _Parser as Parser, _Renderer as Renderer, _TextRenderer as TextRenderer, _Tokenizer as Tokenizer, _defaults as defaults, _getDefaults as getDefaults, lexer, marked, options, parse, parseInline, parser, setOptions, use, walkTokens };\n//# sourceMappingURL=marked.esm.js.map\n","export function markedHighlight(options) {\n  if (typeof options === 'function') {\n    options = {\n      highlight: options,\n    };\n  }\n\n  if (!options || typeof options.highlight !== 'function') {\n    throw new Error('Must provide highlight function');\n  }\n\n  if (typeof options.langPrefix !== 'string') {\n    options.langPrefix = 'language-';\n  }\n\n  if (typeof options.emptyLangClass !== 'string') {\n    options.emptyLangClass = '';\n  }\n\n  return {\n    async: !!options.async,\n    walkTokens(token) {\n      if (token.type !== 'code') {\n        return;\n      }\n\n      const lang = getLang(token.lang);\n\n      if (options.async) {\n        return Promise.resolve(options.highlight(token.text, lang, token.lang || '')).then(updateToken(token));\n      }\n\n      const code = options.highlight(token.text, lang, token.lang || '');\n      if (code instanceof Promise) {\n        throw new Error('markedHighlight is not set to async but the highlight function is async. Set the async option to true on markedHighlight to await the async highlight function.');\n      }\n      updateToken(token)(code);\n    },\n    useNewRenderer: true,\n    renderer: {\n      code(code, infoString, escaped) {\n        // istanbul ignore next\n        if (typeof code === 'object') {\n          escaped = code.escaped;\n          infoString = code.lang;\n          code = code.text;\n        }\n        const lang = getLang(infoString);\n        const classValue = lang ? options.langPrefix + escape(lang) : options.emptyLangClass;\n        const classAttr = classValue\n          ? ` class=\"${classValue}\"`\n          : '';\n        code = code.replace(/\\n$/, '');\n        return `<pre><code${classAttr}>${escaped ? code : escape(code, true)}\\n</code></pre>`;\n      },\n    },\n  };\n}\n\nfunction getLang(lang) {\n  return (lang || '').match(/\\S*/)[0];\n}\n\nfunction updateToken(token) {\n  return (code) => {\n    if (typeof code === 'string' && code !== token.text) {\n      token.escaped = true;\n      token.text = code;\n    }\n  };\n}\n\n// copied from marked helpers\nconst escapeTest = /[&<>\"']/;\nconst escapeReplace = new RegExp(escapeTest.source, 'g');\nconst escapeTestNoEncode = /[<>\"']|&(?!(#\\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\\w+);)/;\nconst escapeReplaceNoEncode = new RegExp(escapeTestNoEncode.source, 'g');\nconst escapeReplacements = {\n  '&': '&amp;',\n  '<': '&lt;',\n  '>': '&gt;',\n  '\"': '&quot;',\n  \"'\": '&#39;',\n};\nconst getEscapeReplacement = (ch) => escapeReplacements[ch];\nfunction escape(html, encode) {\n  if (encode) {\n    if (escapeTest.test(html)) {\n      return html.replace(escapeReplace, getEscapeReplacement);\n    }\n  } else {\n    if (escapeTestNoEncode.test(html)) {\n      return html.replace(escapeReplaceNoEncode, getEscapeReplacement);\n    }\n  }\n\n  return html;\n}\n","// This module is generated by `script/`.\n/* eslint-disable no-control-regex, no-misleading-character-class, no-useless-escape */\nexport const regex = /[\\0-\\x1F!-,\\.\\/:-@\\[-\\^`\\{-\\xA9\\xAB-\\xB4\\xB6-\\xB9\\xBB-\\xBF\\xD7\\xF7\\u02C2-\\u02C5\\u02D2-\\u02DF\\u02E5-\\u02EB\\u02ED\\u02EF-\\u02FF\\u0375\\u0378\\u0379\\u037E\\u0380-\\u0385\\u0387\\u038B\\u038D\\u03A2\\u03F6\\u0482\\u0530\\u0557\\u0558\\u055A-\\u055F\\u0589-\\u0590\\u05BE\\u05C0\\u05C3\\u05C6\\u05C8-\\u05CF\\u05EB-\\u05EE\\u05F3-\\u060F\\u061B-\\u061F\\u066A-\\u066D\\u06D4\\u06DD\\u06DE\\u06E9\\u06FD\\u06FE\\u0700-\\u070F\\u074B\\u074C\\u07B2-\\u07BF\\u07F6-\\u07F9\\u07FB\\u07FC\\u07FE\\u07FF\\u082E-\\u083F\\u085C-\\u085F\\u086B-\\u089F\\u08B5\\u08C8-\\u08D2\\u08E2\\u0964\\u0965\\u0970\\u0984\\u098D\\u098E\\u0991\\u0992\\u09A9\\u09B1\\u09B3-\\u09B5\\u09BA\\u09BB\\u09C5\\u09C6\\u09C9\\u09CA\\u09CF-\\u09D6\\u09D8-\\u09DB\\u09DE\\u09E4\\u09E5\\u09F2-\\u09FB\\u09FD\\u09FF\\u0A00\\u0A04\\u0A0B-\\u0A0E\\u0A11\\u0A12\\u0A29\\u0A31\\u0A34\\u0A37\\u0A3A\\u0A3B\\u0A3D\\u0A43-\\u0A46\\u0A49\\u0A4A\\u0A4E-\\u0A50\\u0A52-\\u0A58\\u0A5D\\u0A5F-\\u0A65\\u0A76-\\u0A80\\u0A84\\u0A8E\\u0A92\\u0AA9\\u0AB1\\u0AB4\\u0ABA\\u0ABB\\u0AC6\\u0ACA\\u0ACE\\u0ACF\\u0AD1-\\u0ADF\\u0AE4\\u0AE5\\u0AF0-\\u0AF8\\u0B00\\u0B04\\u0B0D\\u0B0E\\u0B11\\u0B12\\u0B29\\u0B31\\u0B34\\u0B3A\\u0B3B\\u0B45\\u0B46\\u0B49\\u0B4A\\u0B4E-\\u0B54\\u0B58-\\u0B5B\\u0B5E\\u0B64\\u0B65\\u0B70\\u0B72-\\u0B81\\u0B84\\u0B8B-\\u0B8D\\u0B91\\u0B96-\\u0B98\\u0B9B\\u0B9D\\u0BA0-\\u0BA2\\u0BA5-\\u0BA7\\u0BAB-\\u0BAD\\u0BBA-\\u0BBD\\u0BC3-\\u0BC5\\u0BC9\\u0BCE\\u0BCF\\u0BD1-\\u0BD6\\u0BD8-\\u0BE5\\u0BF0-\\u0BFF\\u0C0D\\u0C11\\u0C29\\u0C3A-\\u0C3C\\u0C45\\u0C49\\u0C4E-\\u0C54\\u0C57\\u0C5B-\\u0C5F\\u0C64\\u0C65\\u0C70-\\u0C7F\\u0C84\\u0C8D\\u0C91\\u0CA9\\u0CB4\\u0CBA\\u0CBB\\u0CC5\\u0CC9\\u0CCE-\\u0CD4\\u0CD7-\\u0CDD\\u0CDF\\u0CE4\\u0CE5\\u0CF0\\u0CF3-\\u0CFF\\u0D0D\\u0D11\\u0D45\\u0D49\\u0D4F-\\u0D53\\u0D58-\\u0D5E\\u0D64\\u0D65\\u0D70-\\u0D79\\u0D80\\u0D84\\u0D97-\\u0D99\\u0DB2\\u0DBC\\u0DBE\\u0DBF\\u0DC7-\\u0DC9\\u0DCB-\\u0DCE\\u0DD5\\u0DD7\\u0DE0-\\u0DE5\\u0DF0\\u0DF1\\u0DF4-\\u0E00\\u0E3B-\\u0E3F\\u0E4F\\u0E5A-\\u0E80\\u0E83\\u0E85\\u0E8B\\u0EA4\\u0EA6\\u0EBE\\u0EBF\\u0EC5\\u0EC7\\u0ECE\\u0ECF\\u0EDA\\u0EDB\\u0EE0-\\u0EFF\\u0F01-\\u0F17\\u0F1A-\\u0F1F\\u0F2A-\\u0F34\\u0F36\\u0F38\\u0F3A-\\u0F3D\\u0F48\\u0F6D-\\u0F70\\u0F85\\u0F98\\u0FBD-\\u0FC5\\u0FC7-\\u0FFF\\u104A-\\u104F\\u109E\\u109F\\u10C6\\u10C8-\\u10CC\\u10CE\\u10CF\\u10FB\\u1249\\u124E\\u124F\\u1257\\u1259\\u125E\\u125F\\u1289\\u128E\\u128F\\u12B1\\u12B6\\u12B7\\u12BF\\u12C1\\u12C6\\u12C7\\u12D7\\u1311\\u1316\\u1317\\u135B\\u135C\\u1360-\\u137F\\u1390-\\u139F\\u13F6\\u13F7\\u13FE-\\u1400\\u166D\\u166E\\u1680\\u169B-\\u169F\\u16EB-\\u16ED\\u16F9-\\u16FF\\u170D\\u1715-\\u171F\\u1735-\\u173F\\u1754-\\u175F\\u176D\\u1771\\u1774-\\u177F\\u17D4-\\u17D6\\u17D8-\\u17DB\\u17DE\\u17DF\\u17EA-\\u180A\\u180E\\u180F\\u181A-\\u181F\\u1879-\\u187F\\u18AB-\\u18AF\\u18F6-\\u18FF\\u191F\\u192C-\\u192F\\u193C-\\u1945\\u196E\\u196F\\u1975-\\u197F\\u19AC-\\u19AF\\u19CA-\\u19CF\\u19DA-\\u19FF\\u1A1C-\\u1A1F\\u1A5F\\u1A7D\\u1A7E\\u1A8A-\\u1A8F\\u1A9A-\\u1AA6\\u1AA8-\\u1AAF\\u1AC1-\\u1AFF\\u1B4C-\\u1B4F\\u1B5A-\\u1B6A\\u1B74-\\u1B7F\\u1BF4-\\u1BFF\\u1C38-\\u1C3F\\u1C4A-\\u1C4C\\u1C7E\\u1C7F\\u1C89-\\u1C8F\\u1CBB\\u1CBC\\u1CC0-\\u1CCF\\u1CD3\\u1CFB-\\u1CFF\\u1DFA\\u1F16\\u1F17\\u1F1E\\u1F1F\\u1F46\\u1F47\\u1F4E\\u1F4F\\u1F58\\u1F5A\\u1F5C\\u1F5E\\u1F7E\\u1F7F\\u1FB5\\u1FBD\\u1FBF-\\u1FC1\\u1FC5\\u1FCD-\\u1FCF\\u1FD4\\u1FD5\\u1FDC-\\u1FDF\\u1FED-\\u1FF1\\u1FF5\\u1FFD-\\u203E\\u2041-\\u2053\\u2055-\\u2070\\u2072-\\u207E\\u2080-\\u208F\\u209D-\\u20CF\\u20F1-\\u2101\\u2103-\\u2106\\u2108\\u2109\\u2114\\u2116-\\u2118\\u211E-\\u2123\\u2125\\u2127\\u2129\\u212E\\u213A\\u213B\\u2140-\\u2144\\u214A-\\u214D\\u214F-\\u215F\\u2189-\\u24B5\\u24EA-\\u2BFF\\u2C2F\\u2C5F\\u2CE5-\\u2CEA\\u2CF4-\\u2CFF\\u2D26\\u2D28-\\u2D2C\\u2D2E\\u2D2F\\u2D68-\\u2D6E\\u2D70-\\u2D7E\\u2D97-\\u2D9F\\u2DA7\\u2DAF\\u2DB7\\u2DBF\\u2DC7\\u2DCF\\u2DD7\\u2DDF\\u2E00-\\u2E2E\\u2E30-\\u3004\\u3008-\\u3020\\u3030\\u3036\\u3037\\u303D-\\u3040\\u3097\\u3098\\u309B\\u309C\\u30A0\\u30FB\\u3100-\\u3104\\u3130\\u318F-\\u319F\\u31C0-\\u31EF\\u3200-\\u33FF\\u4DC0-\\u4DFF\\u9FFD-\\u9FFF\\uA48D-\\uA4CF\\uA4FE\\uA4FF\\uA60D-\\uA60F\\uA62C-\\uA63F\\uA673\\uA67E\\uA6F2-\\uA716\\uA720\\uA721\\uA789\\uA78A\\uA7C0\\uA7C1\\uA7CB-\\uA7F4\\uA828-\\uA82B\\uA82D-\\uA83F\\uA874-\\uA87F\\uA8C6-\\uA8CF\\uA8DA-\\uA8DF\\uA8F8-\\uA8FA\\uA8FC\\uA92E\\uA92F\\uA954-\\uA95F\\uA97D-\\uA97F\\uA9C1-\\uA9CE\\uA9DA-\\uA9DF\\uA9FF\\uAA37-\\uAA3F\\uAA4E\\uAA4F\\uAA5A-\\uAA5F\\uAA77-\\uAA79\\uAAC3-\\uAADA\\uAADE\\uAADF\\uAAF0\\uAAF1\\uAAF7-\\uAB00\\uAB07\\uAB08\\uAB0F\\uAB10\\uAB17-\\uAB1F\\uAB27\\uAB2F\\uAB5B\\uAB6A-\\uAB6F\\uABEB\\uABEE\\uABEF\\uABFA-\\uABFF\\uD7A4-\\uD7AF\\uD7C7-\\uD7CA\\uD7FC-\\uD7FF\\uE000-\\uF8FF\\uFA6E\\uFA6F\\uFADA-\\uFAFF\\uFB07-\\uFB12\\uFB18-\\uFB1C\\uFB29\\uFB37\\uFB3D\\uFB3F\\uFB42\\uFB45\\uFBB2-\\uFBD2\\uFD3E-\\uFD4F\\uFD90\\uFD91\\uFDC8-\\uFDEF\\uFDFC-\\uFDFF\\uFE10-\\uFE1F\\uFE30-\\uFE32\\uFE35-\\uFE4C\\uFE50-\\uFE6F\\uFE75\\uFEFD-\\uFF0F\\uFF1A-\\uFF20\\uFF3B-\\uFF3E\\uFF40\\uFF5B-\\uFF65\\uFFBF-\\uFFC1\\uFFC8\\uFFC9\\uFFD0\\uFFD1\\uFFD8\\uFFD9\\uFFDD-\\uFFFF]|\\uD800[\\uDC0C\\uDC27\\uDC3B\\uDC3E\\uDC4E\\uDC4F\\uDC5E-\\uDC7F\\uDCFB-\\uDD3F\\uDD75-\\uDDFC\\uDDFE-\\uDE7F\\uDE9D-\\uDE9F\\uDED1-\\uDEDF\\uDEE1-\\uDEFF\\uDF20-\\uDF2C\\uDF4B-\\uDF4F\\uDF7B-\\uDF7F\\uDF9E\\uDF9F\\uDFC4-\\uDFC7\\uDFD0\\uDFD6-\\uDFFF]|\\uD801[\\uDC9E\\uDC9F\\uDCAA-\\uDCAF\\uDCD4-\\uDCD7\\uDCFC-\\uDCFF\\uDD28-\\uDD2F\\uDD64-\\uDDFF\\uDF37-\\uDF3F\\uDF56-\\uDF5F\\uDF68-\\uDFFF]|\\uD802[\\uDC06\\uDC07\\uDC09\\uDC36\\uDC39-\\uDC3B\\uDC3D\\uDC3E\\uDC56-\\uDC5F\\uDC77-\\uDC7F\\uDC9F-\\uDCDF\\uDCF3\\uDCF6-\\uDCFF\\uDD16-\\uDD1F\\uDD3A-\\uDD7F\\uDDB8-\\uDDBD\\uDDC0-\\uDDFF\\uDE04\\uDE07-\\uDE0B\\uDE14\\uDE18\\uDE36\\uDE37\\uDE3B-\\uDE3E\\uDE40-\\uDE5F\\uDE7D-\\uDE7F\\uDE9D-\\uDEBF\\uDEC8\\uDEE7-\\uDEFF\\uDF36-\\uDF3F\\uDF56-\\uDF5F\\uDF73-\\uDF7F\\uDF92-\\uDFFF]|\\uD803[\\uDC49-\\uDC7F\\uDCB3-\\uDCBF\\uDCF3-\\uDCFF\\uDD28-\\uDD2F\\uDD3A-\\uDE7F\\uDEAA\\uDEAD-\\uDEAF\\uDEB2-\\uDEFF\\uDF1D-\\uDF26\\uDF28-\\uDF2F\\uDF51-\\uDFAF\\uDFC5-\\uDFDF\\uDFF7-\\uDFFF]|\\uD804[\\uDC47-\\uDC65\\uDC70-\\uDC7E\\uDCBB-\\uDCCF\\uDCE9-\\uDCEF\\uDCFA-\\uDCFF\\uDD35\\uDD40-\\uDD43\\uDD48-\\uDD4F\\uDD74\\uDD75\\uDD77-\\uDD7F\\uDDC5-\\uDDC8\\uDDCD\\uDDDB\\uDDDD-\\uDDFF\\uDE12\\uDE38-\\uDE3D\\uDE3F-\\uDE7F\\uDE87\\uDE89\\uDE8E\\uDE9E\\uDEA9-\\uDEAF\\uDEEB-\\uDEEF\\uDEFA-\\uDEFF\\uDF04\\uDF0D\\uDF0E\\uDF11\\uDF12\\uDF29\\uDF31\\uDF34\\uDF3A\\uDF45\\uDF46\\uDF49\\uDF4A\\uDF4E\\uDF4F\\uDF51-\\uDF56\\uDF58-\\uDF5C\\uDF64\\uDF65\\uDF6D-\\uDF6F\\uDF75-\\uDFFF]|\\uD805[\\uDC4B-\\uDC4F\\uDC5A-\\uDC5D\\uDC62-\\uDC7F\\uDCC6\\uDCC8-\\uDCCF\\uDCDA-\\uDD7F\\uDDB6\\uDDB7\\uDDC1-\\uDDD7\\uDDDE-\\uDDFF\\uDE41-\\uDE43\\uDE45-\\uDE4F\\uDE5A-\\uDE7F\\uDEB9-\\uDEBF\\uDECA-\\uDEFF\\uDF1B\\uDF1C\\uDF2C-\\uDF2F\\uDF3A-\\uDFFF]|\\uD806[\\uDC3B-\\uDC9F\\uDCEA-\\uDCFE\\uDD07\\uDD08\\uDD0A\\uDD0B\\uDD14\\uDD17\\uDD36\\uDD39\\uDD3A\\uDD44-\\uDD4F\\uDD5A-\\uDD9F\\uDDA8\\uDDA9\\uDDD8\\uDDD9\\uDDE2\\uDDE5-\\uDDFF\\uDE3F-\\uDE46\\uDE48-\\uDE4F\\uDE9A-\\uDE9C\\uDE9E-\\uDEBF\\uDEF9-\\uDFFF]|\\uD807[\\uDC09\\uDC37\\uDC41-\\uDC4F\\uDC5A-\\uDC71\\uDC90\\uDC91\\uDCA8\\uDCB7-\\uDCFF\\uDD07\\uDD0A\\uDD37-\\uDD39\\uDD3B\\uDD3E\\uDD48-\\uDD4F\\uDD5A-\\uDD5F\\uDD66\\uDD69\\uDD8F\\uDD92\\uDD99-\\uDD9F\\uDDAA-\\uDEDF\\uDEF7-\\uDFAF\\uDFB1-\\uDFFF]|\\uD808[\\uDF9A-\\uDFFF]|\\uD809[\\uDC6F-\\uDC7F\\uDD44-\\uDFFF]|[\\uD80A\\uD80B\\uD80E-\\uD810\\uD812-\\uD819\\uD824-\\uD82B\\uD82D\\uD82E\\uD830-\\uD833\\uD837\\uD839\\uD83D\\uD83F\\uD87B-\\uD87D\\uD87F\\uD885-\\uDB3F\\uDB41-\\uDBFF][\\uDC00-\\uDFFF]|\\uD80D[\\uDC2F-\\uDFFF]|\\uD811[\\uDE47-\\uDFFF]|\\uD81A[\\uDE39-\\uDE3F\\uDE5F\\uDE6A-\\uDECF\\uDEEE\\uDEEF\\uDEF5-\\uDEFF\\uDF37-\\uDF3F\\uDF44-\\uDF4F\\uDF5A-\\uDF62\\uDF78-\\uDF7C\\uDF90-\\uDFFF]|\\uD81B[\\uDC00-\\uDE3F\\uDE80-\\uDEFF\\uDF4B-\\uDF4E\\uDF88-\\uDF8E\\uDFA0-\\uDFDF\\uDFE2\\uDFE5-\\uDFEF\\uDFF2-\\uDFFF]|\\uD821[\\uDFF8-\\uDFFF]|\\uD823[\\uDCD6-\\uDCFF\\uDD09-\\uDFFF]|\\uD82C[\\uDD1F-\\uDD4F\\uDD53-\\uDD63\\uDD68-\\uDD6F\\uDEFC-\\uDFFF]|\\uD82F[\\uDC6B-\\uDC6F\\uDC7D-\\uDC7F\\uDC89-\\uDC8F\\uDC9A-\\uDC9C\\uDC9F-\\uDFFF]|\\uD834[\\uDC00-\\uDD64\\uDD6A-\\uDD6C\\uDD73-\\uDD7A\\uDD83\\uDD84\\uDD8C-\\uDDA9\\uDDAE-\\uDE41\\uDE45-\\uDFFF]|\\uD835[\\uDC55\\uDC9D\\uDCA0\\uDCA1\\uDCA3\\uDCA4\\uDCA7\\uDCA8\\uDCAD\\uDCBA\\uDCBC\\uDCC4\\uDD06\\uDD0B\\uDD0C\\uDD15\\uDD1D\\uDD3A\\uDD3F\\uDD45\\uDD47-\\uDD49\\uDD51\\uDEA6\\uDEA7\\uDEC1\\uDEDB\\uDEFB\\uDF15\\uDF35\\uDF4F\\uDF6F\\uDF89\\uDFA9\\uDFC3\\uDFCC\\uDFCD]|\\uD836[\\uDC00-\\uDDFF\\uDE37-\\uDE3A\\uDE6D-\\uDE74\\uDE76-\\uDE83\\uDE85-\\uDE9A\\uDEA0\\uDEB0-\\uDFFF]|\\uD838[\\uDC07\\uDC19\\uDC1A\\uDC22\\uDC25\\uDC2B-\\uDCFF\\uDD2D-\\uDD2F\\uDD3E\\uDD3F\\uDD4A-\\uDD4D\\uDD4F-\\uDEBF\\uDEFA-\\uDFFF]|\\uD83A[\\uDCC5-\\uDCCF\\uDCD7-\\uDCFF\\uDD4C-\\uDD4F\\uDD5A-\\uDFFF]|\\uD83B[\\uDC00-\\uDDFF\\uDE04\\uDE20\\uDE23\\uDE25\\uDE26\\uDE28\\uDE33\\uDE38\\uDE3A\\uDE3C-\\uDE41\\uDE43-\\uDE46\\uDE48\\uDE4A\\uDE4C\\uDE50\\uDE53\\uDE55\\uDE56\\uDE58\\uDE5A\\uDE5C\\uDE5E\\uDE60\\uDE63\\uDE65\\uDE66\\uDE6B\\uDE73\\uDE78\\uDE7D\\uDE7F\\uDE8A\\uDE9C-\\uDEA0\\uDEA4\\uDEAA\\uDEBC-\\uDFFF]|\\uD83C[\\uDC00-\\uDD2F\\uDD4A-\\uDD4F\\uDD6A-\\uDD6F\\uDD8A-\\uDFFF]|\\uD83E[\\uDC00-\\uDFEF\\uDFFA-\\uDFFF]|\\uD869[\\uDEDE-\\uDEFF]|\\uD86D[\\uDF35-\\uDF3F]|\\uD86E[\\uDC1E\\uDC1F]|\\uD873[\\uDEA2-\\uDEAF]|\\uD87A[\\uDFE1-\\uDFFF]|\\uD87E[\\uDE1E-\\uDFFF]|\\uD884[\\uDF4B-\\uDFFF]|\\uDB40[\\uDC00-\\uDCFF\\uDDF0-\\uDFFF]/g\n","import { regex } from './regex.js'\n\nconst own = Object.hasOwnProperty\n\n/**\n * Slugger.\n */\nexport default class BananaSlug {\n  /**\n   * Create a new slug class.\n   */\n  constructor () {\n    /** @type {Record<string, number>} */\n    // eslint-disable-next-line no-unused-expressions\n    this.occurrences\n\n    this.reset()\n  }\n\n  /**\n   * Generate a unique slug.\n  *\n  * Tracks previously generated slugs: repeated calls with the same value\n  * will result in different slugs.\n  * Use the `slug` function to get same slugs.\n   *\n   * @param  {string} value\n   *   String of text to slugify\n   * @param  {boolean} [maintainCase=false]\n   *   Keep the current case, otherwise make all lowercase\n   * @return {string}\n   *   A unique slug string\n   */\n  slug (value, maintainCase) {\n    const self = this\n    let result = slug(value, maintainCase === true)\n    const originalSlug = result\n\n    while (own.call(self.occurrences, result)) {\n      self.occurrences[originalSlug]++\n      result = originalSlug + '-' + self.occurrences[originalSlug]\n    }\n\n    self.occurrences[result] = 0\n\n    return result\n  }\n\n  /**\n   * Reset - Forget all previous slugs\n   *\n   * @return void\n   */\n  reset () {\n    this.occurrences = Object.create(null)\n  }\n}\n\n/**\n * Generate a slug.\n *\n * Does not track previously generated slugs: repeated calls with the same value\n * will result in the exact same slug.\n * Use the `GithubSlugger` class to get unique slugs.\n *\n * @param  {string} value\n *   String of text to slugify\n * @param  {boolean} [maintainCase=false]\n *   Keep the current case, otherwise make all lowercase\n * @return {string}\n *   A unique slug string\n */\nexport function slug (value, maintainCase) {\n  if (typeof value !== 'string') return ''\n  if (!maintainCase) value = value.toLowerCase()\n  return value.replace(regex, '').replace(/ /g, '-')\n}\n","import GithubSlugger from 'github-slugger';\nlet slugger = new GithubSlugger();\n\nlet headings = [];\n\nexport function gfmHeadingId({ prefix = '', globalSlugs = false } = {}) {\n  return {\n    headerIds: false, // prevent deprecation warning; remove this once headerIds option is removed\n    hooks: {\n      preprocess(src) {\n        if (!globalSlugs) {\n          resetHeadings();\n        }\n        return src;\n      }\n    },\n    renderer: {\n      heading(text, level, raw) {\n        raw = raw\n          .toLowerCase()\n          .trim()\n          .replace(/<[!\\/a-z].*?>/gi, '');\n        const id = `${prefix}${slugger.slug(raw)}`;\n        const heading = { level, text, id };\n        headings.push(heading);\n\n        return `<h${level} id=\"${id}\">${text}</h${level}>\\n`;\n      }\n    }\n  };\n}\n\nexport function getHeadingList() {\n  return headings;\n}\n\nexport function resetHeadings() {\n  headings = [];\n  slugger = new GithubSlugger();\n}\n","\n/* **********************************************\n     Begin prism-core.js\n********************************************** */\n\n/// <reference lib=\"WebWorker\"/>\n\nvar _self = (typeof window !== 'undefined')\n\t? window   // if in browser\n\t: (\n\t\t(typeof WorkerGlobalScope !== 'undefined' && self instanceof WorkerGlobalScope)\n\t\t\t? self // if in worker\n\t\t\t: {}   // if in node js\n\t);\n\n/**\n * Prism: Lightweight, robust, elegant syntax highlighting\n *\n * @license MIT <https://opensource.org/licenses/MIT>\n * @author Lea Verou <https://lea.verou.me>\n * @namespace\n * @public\n */\nvar Prism = (function (_self) {\n\n\t// Private helper vars\n\tvar lang = /(?:^|\\s)lang(?:uage)?-([\\w-]+)(?=\\s|$)/i;\n\tvar uniqueId = 0;\n\n\t// The grammar object for plaintext\n\tvar plainTextGrammar = {};\n\n\n\tvar _ = {\n\t\t/**\n\t\t * By default, Prism will attempt to highlight all code elements (by calling {@link Prism.highlightAll}) on the\n\t\t * current page after the page finished loading. This might be a problem if e.g. you wanted to asynchronously load\n\t\t * additional languages or plugins yourself.\n\t\t *\n\t\t * By setting this value to `true`, Prism will not automatically highlight all code elements on the page.\n\t\t *\n\t\t * You obviously have to change this value before the automatic highlighting started. To do this, you can add an\n\t\t * empty Prism object into the global scope before loading the Prism script like this:\n\t\t *\n\t\t * ```js\n\t\t * window.Prism = window.Prism || {};\n\t\t * Prism.manual = true;\n\t\t * // add a new <script> to load Prism's script\n\t\t * ```\n\t\t *\n\t\t * @default false\n\t\t * @type {boolean}\n\t\t * @memberof Prism\n\t\t * @public\n\t\t */\n\t\tmanual: _self.Prism && _self.Prism.manual,\n\t\t/**\n\t\t * By default, if Prism is in a web worker, it assumes that it is in a worker it created itself, so it uses\n\t\t * `addEventListener` to communicate with its parent instance. However, if you're using Prism manually in your\n\t\t * own worker, you don't want it to do this.\n\t\t *\n\t\t * By setting this value to `true`, Prism will not add its own listeners to the worker.\n\t\t *\n\t\t * You obviously have to change this value before Prism executes. To do this, you can add an\n\t\t * empty Prism object into the global scope before loading the Prism script like this:\n\t\t *\n\t\t * ```js\n\t\t * window.Prism = window.Prism || {};\n\t\t * Prism.disableWorkerMessageHandler = true;\n\t\t * // Load Prism's script\n\t\t * ```\n\t\t *\n\t\t * @default false\n\t\t * @type {boolean}\n\t\t * @memberof Prism\n\t\t * @public\n\t\t */\n\t\tdisableWorkerMessageHandler: _self.Prism && _self.Prism.disableWorkerMessageHandler,\n\n\t\t/**\n\t\t * A namespace for utility methods.\n\t\t *\n\t\t * All function in this namespace that are not explicitly marked as _public_ are for __internal use only__ and may\n\t\t * change or disappear at any time.\n\t\t *\n\t\t * @namespace\n\t\t * @memberof Prism\n\t\t */\n\t\tutil: {\n\t\t\tencode: function encode(tokens) {\n\t\t\t\tif (tokens instanceof Token) {\n\t\t\t\t\treturn new Token(tokens.type, encode(tokens.content), tokens.alias);\n\t\t\t\t} else if (Array.isArray(tokens)) {\n\t\t\t\t\treturn tokens.map(encode);\n\t\t\t\t} else {\n\t\t\t\t\treturn tokens.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/\\u00a0/g, ' ');\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Returns the name of the type of the given value.\n\t\t\t *\n\t\t\t * @param {any} o\n\t\t\t * @returns {string}\n\t\t\t * @example\n\t\t\t * type(null)      === 'Null'\n\t\t\t * type(undefined) === 'Undefined'\n\t\t\t * type(123)       === 'Number'\n\t\t\t * type('foo')     === 'String'\n\t\t\t * type(true)      === 'Boolean'\n\t\t\t * type([1, 2])    === 'Array'\n\t\t\t * type({})        === 'Object'\n\t\t\t * type(String)    === 'Function'\n\t\t\t * type(/abc+/)    === 'RegExp'\n\t\t\t */\n\t\t\ttype: function (o) {\n\t\t\t\treturn Object.prototype.toString.call(o).slice(8, -1);\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Returns a unique number for the given object. Later calls will still return the same number.\n\t\t\t *\n\t\t\t * @param {Object} obj\n\t\t\t * @returns {number}\n\t\t\t */\n\t\t\tobjId: function (obj) {\n\t\t\t\tif (!obj['__id']) {\n\t\t\t\t\tObject.defineProperty(obj, '__id', { value: ++uniqueId });\n\t\t\t\t}\n\t\t\t\treturn obj['__id'];\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Creates a deep clone of the given object.\n\t\t\t *\n\t\t\t * The main intended use of this function is to clone language definitions.\n\t\t\t *\n\t\t\t * @param {T} o\n\t\t\t * @param {Record<number, any>} [visited]\n\t\t\t * @returns {T}\n\t\t\t * @template T\n\t\t\t */\n\t\t\tclone: function deepClone(o, visited) {\n\t\t\t\tvisited = visited || {};\n\n\t\t\t\tvar clone; var id;\n\t\t\t\tswitch (_.util.type(o)) {\n\t\t\t\t\tcase 'Object':\n\t\t\t\t\t\tid = _.util.objId(o);\n\t\t\t\t\t\tif (visited[id]) {\n\t\t\t\t\t\t\treturn visited[id];\n\t\t\t\t\t\t}\n\t\t\t\t\t\tclone = /** @type {Record<string, any>} */ ({});\n\t\t\t\t\t\tvisited[id] = clone;\n\n\t\t\t\t\t\tfor (var key in o) {\n\t\t\t\t\t\t\tif (o.hasOwnProperty(key)) {\n\t\t\t\t\t\t\t\tclone[key] = deepClone(o[key], visited);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn /** @type {any} */ (clone);\n\n\t\t\t\t\tcase 'Array':\n\t\t\t\t\t\tid = _.util.objId(o);\n\t\t\t\t\t\tif (visited[id]) {\n\t\t\t\t\t\t\treturn visited[id];\n\t\t\t\t\t\t}\n\t\t\t\t\t\tclone = [];\n\t\t\t\t\t\tvisited[id] = clone;\n\n\t\t\t\t\t\t(/** @type {Array} */(/** @type {any} */(o))).forEach(function (v, i) {\n\t\t\t\t\t\t\tclone[i] = deepClone(v, visited);\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\treturn /** @type {any} */ (clone);\n\n\t\t\t\t\tdefault:\n\t\t\t\t\t\treturn o;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Returns the Prism language of the given element set by a `language-xxxx` or `lang-xxxx` class.\n\t\t\t *\n\t\t\t * If no language is set for the element or the element is `null` or `undefined`, `none` will be returned.\n\t\t\t *\n\t\t\t * @param {Element} element\n\t\t\t * @returns {string}\n\t\t\t */\n\t\t\tgetLanguage: function (element) {\n\t\t\t\twhile (element) {\n\t\t\t\t\tvar m = lang.exec(element.className);\n\t\t\t\t\tif (m) {\n\t\t\t\t\t\treturn m[1].toLowerCase();\n\t\t\t\t\t}\n\t\t\t\t\telement = element.parentElement;\n\t\t\t\t}\n\t\t\t\treturn 'none';\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Sets the Prism `language-xxxx` class of the given element.\n\t\t\t *\n\t\t\t * @param {Element} element\n\t\t\t * @param {string} language\n\t\t\t * @returns {void}\n\t\t\t */\n\t\t\tsetLanguage: function (element, language) {\n\t\t\t\t// remove all `language-xxxx` classes\n\t\t\t\t// (this might leave behind a leading space)\n\t\t\t\telement.className = element.className.replace(RegExp(lang, 'gi'), '');\n\n\t\t\t\t// add the new `language-xxxx` class\n\t\t\t\t// (using `classList` will automatically clean up spaces for us)\n\t\t\t\telement.classList.add('language-' + language);\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Returns the script element that is currently executing.\n\t\t\t *\n\t\t\t * This does __not__ work for line script element.\n\t\t\t *\n\t\t\t * @returns {HTMLScriptElement | null}\n\t\t\t */\n\t\t\tcurrentScript: function () {\n\t\t\t\tif (typeof document === 'undefined') {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t\tif ('currentScript' in document && 1 < 2 /* hack to trip TS' flow analysis */) {\n\t\t\t\t\treturn /** @type {any} */ (document.currentScript);\n\t\t\t\t}\n\n\t\t\t\t// IE11 workaround\n\t\t\t\t// we'll get the src of the current script by parsing IE11's error stack trace\n\t\t\t\t// this will not work for inline scripts\n\n\t\t\t\ttry {\n\t\t\t\t\tthrow new Error();\n\t\t\t\t} catch (err) {\n\t\t\t\t\t// Get file src url from stack. Specifically works with the format of stack traces in IE.\n\t\t\t\t\t// A stack will look like this:\n\t\t\t\t\t//\n\t\t\t\t\t// Error\n\t\t\t\t\t//    at _.util.currentScript (http://localhost/components/prism-core.js:119:5)\n\t\t\t\t\t//    at Global code (http://localhost/components/prism-core.js:606:1)\n\n\t\t\t\t\tvar src = (/at [^(\\r\\n]*\\((.*):[^:]+:[^:]+\\)$/i.exec(err.stack) || [])[1];\n\t\t\t\t\tif (src) {\n\t\t\t\t\t\tvar scripts = document.getElementsByTagName('script');\n\t\t\t\t\t\tfor (var i in scripts) {\n\t\t\t\t\t\t\tif (scripts[i].src == src) {\n\t\t\t\t\t\t\t\treturn scripts[i];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Returns whether a given class is active for `element`.\n\t\t\t *\n\t\t\t * The class can be activated if `element` or one of its ancestors has the given class and it can be deactivated\n\t\t\t * if `element` or one of its ancestors has the negated version of the given class. The _negated version_ of the\n\t\t\t * given class is just the given class with a `no-` prefix.\n\t\t\t *\n\t\t\t * Whether the class is active is determined by the closest ancestor of `element` (where `element` itself is\n\t\t\t * closest ancestor) that has the given class or the negated version of it. If neither `element` nor any of its\n\t\t\t * ancestors have the given class or the negated version of it, then the default activation will be returned.\n\t\t\t *\n\t\t\t * In the paradoxical situation where the closest ancestor contains __both__ the given class and the negated\n\t\t\t * version of it, the class is considered active.\n\t\t\t *\n\t\t\t * @param {Element} element\n\t\t\t * @param {string} className\n\t\t\t * @param {boolean} [defaultActivation=false]\n\t\t\t * @returns {boolean}\n\t\t\t */\n\t\t\tisActive: function (element, className, defaultActivation) {\n\t\t\t\tvar no = 'no-' + className;\n\n\t\t\t\twhile (element) {\n\t\t\t\t\tvar classList = element.classList;\n\t\t\t\t\tif (classList.contains(className)) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t\tif (classList.contains(no)) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\telement = element.parentElement;\n\t\t\t\t}\n\t\t\t\treturn !!defaultActivation;\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * This namespace contains all currently loaded languages and the some helper functions to create and modify languages.\n\t\t *\n\t\t * @namespace\n\t\t * @memberof Prism\n\t\t * @public\n\t\t */\n\t\tlanguages: {\n\t\t\t/**\n\t\t\t * The grammar for plain, unformatted text.\n\t\t\t */\n\t\t\tplain: plainTextGrammar,\n\t\t\tplaintext: plainTextGrammar,\n\t\t\ttext: plainTextGrammar,\n\t\t\ttxt: plainTextGrammar,\n\n\t\t\t/**\n\t\t\t * Creates a deep copy of the language with the given id and appends the given tokens.\n\t\t\t *\n\t\t\t * If a token in `redef` also appears in the copied language, then the existing token in the copied language\n\t\t\t * will be overwritten at its original position.\n\t\t\t *\n\t\t\t * ## Best practices\n\t\t\t *\n\t\t\t * Since the position of overwriting tokens (token in `redef` that overwrite tokens in the copied language)\n\t\t\t * doesn't matter, they can technically be in any order. However, this can be confusing to others that trying to\n\t\t\t * understand the language definition because, normally, the order of tokens matters in Prism grammars.\n\t\t\t *\n\t\t\t * Therefore, it is encouraged to order overwriting tokens according to the positions of the overwritten tokens.\n\t\t\t * Furthermore, all non-overwriting tokens should be placed after the overwriting ones.\n\t\t\t *\n\t\t\t * @param {string} id The id of the language to extend. This has to be a key in `Prism.languages`.\n\t\t\t * @param {Grammar} redef The new tokens to append.\n\t\t\t * @returns {Grammar} The new language created.\n\t\t\t * @public\n\t\t\t * @example\n\t\t\t * Prism.languages['css-with-colors'] = Prism.languages.extend('css', {\n\t\t\t *     // Prism.languages.css already has a 'comment' token, so this token will overwrite CSS' 'comment' token\n\t\t\t *     // at its original position\n\t\t\t *     'comment': { ... },\n\t\t\t *     // CSS doesn't have a 'color' token, so this token will be appended\n\t\t\t *     'color': /\\b(?:red|green|blue)\\b/\n\t\t\t * });\n\t\t\t */\n\t\t\textend: function (id, redef) {\n\t\t\t\tvar lang = _.util.clone(_.languages[id]);\n\n\t\t\t\tfor (var key in redef) {\n\t\t\t\t\tlang[key] = redef[key];\n\t\t\t\t}\n\n\t\t\t\treturn lang;\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Inserts tokens _before_ another token in a language definition or any other grammar.\n\t\t\t *\n\t\t\t * ## Usage\n\t\t\t *\n\t\t\t * This helper method makes it easy to modify existing languages. For example, the CSS language definition\n\t\t\t * not only defines CSS highlighting for CSS documents, but also needs to define highlighting for CSS embedded\n\t\t\t * in HTML through `<style>` elements. To do this, it needs to modify `Prism.languages.markup` and add the\n\t\t\t * appropriate tokens. However, `Prism.languages.markup` is a regular JavaScript object literal, so if you do\n\t\t\t * this:\n\t\t\t *\n\t\t\t * ```js\n\t\t\t * Prism.languages.markup.style = {\n\t\t\t *     // token\n\t\t\t * };\n\t\t\t * ```\n\t\t\t *\n\t\t\t * then the `style` token will be added (and processed) at the end. `insertBefore` allows you to insert tokens\n\t\t\t * before existing tokens. For the CSS example above, you would use it like this:\n\t\t\t *\n\t\t\t * ```js\n\t\t\t * Prism.languages.insertBefore('markup', 'cdata', {\n\t\t\t *     'style': {\n\t\t\t *         // token\n\t\t\t *     }\n\t\t\t * });\n\t\t\t * ```\n\t\t\t *\n\t\t\t * ## Special cases\n\t\t\t *\n\t\t\t * If the grammars of `inside` and `insert` have tokens with the same name, the tokens in `inside`'s grammar\n\t\t\t * will be ignored.\n\t\t\t *\n\t\t\t * This behavior can be used to insert tokens after `before`:\n\t\t\t *\n\t\t\t * ```js\n\t\t\t * Prism.languages.insertBefore('markup', 'comment', {\n\t\t\t *     'comment': Prism.languages.markup.comment,\n\t\t\t *     // tokens after 'comment'\n\t\t\t * });\n\t\t\t * ```\n\t\t\t *\n\t\t\t * ## Limitations\n\t\t\t *\n\t\t\t * The main problem `insertBefore` has to solve is iteration order. Since ES2015, the iteration order for object\n\t\t\t * properties is guaranteed to be the insertion order (except for integer keys) but some browsers behave\n\t\t\t * differently when keys are deleted and re-inserted. So `insertBefore` can't be implemented by temporarily\n\t\t\t * deleting properties which is necessary to insert at arbitrary positions.\n\t\t\t *\n\t\t\t * To solve this problem, `insertBefore` doesn't actually insert the given tokens into the target object.\n\t\t\t * Instead, it will create a new object and replace all references to the target object with the new one. This\n\t\t\t * can be done without temporarily deleting properties, so the iteration order is well-defined.\n\t\t\t *\n\t\t\t * However, only references that can be reached from `Prism.languages` or `insert` will be replaced. I.e. if\n\t\t\t * you hold the target object in a variable, then the value of the variable will not change.\n\t\t\t *\n\t\t\t * ```js\n\t\t\t * var oldMarkup = Prism.languages.markup;\n\t\t\t * var newMarkup = Prism.languages.insertBefore('markup', 'comment', { ... });\n\t\t\t *\n\t\t\t * assert(oldMarkup !== Prism.languages.markup);\n\t\t\t * assert(newMarkup === Prism.languages.markup);\n\t\t\t * ```\n\t\t\t *\n\t\t\t * @param {string} inside The property of `root` (e.g. a language id in `Prism.languages`) that contains the\n\t\t\t * object to be modified.\n\t\t\t * @param {string} before The key to insert before.\n\t\t\t * @param {Grammar} insert An object containing the key-value pairs to be inserted.\n\t\t\t * @param {Object<string, any>} [root] The object containing `inside`, i.e. the object that contains the\n\t\t\t * object to be modified.\n\t\t\t *\n\t\t\t * Defaults to `Prism.languages`.\n\t\t\t * @returns {Grammar} The new grammar object.\n\t\t\t * @public\n\t\t\t */\n\t\t\tinsertBefore: function (inside, before, insert, root) {\n\t\t\t\troot = root || /** @type {any} */ (_.languages);\n\t\t\t\tvar grammar = root[inside];\n\t\t\t\t/** @type {Grammar} */\n\t\t\t\tvar ret = {};\n\n\t\t\t\tfor (var token in grammar) {\n\t\t\t\t\tif (grammar.hasOwnProperty(token)) {\n\n\t\t\t\t\t\tif (token == before) {\n\t\t\t\t\t\t\tfor (var newToken in insert) {\n\t\t\t\t\t\t\t\tif (insert.hasOwnProperty(newToken)) {\n\t\t\t\t\t\t\t\t\tret[newToken] = insert[newToken];\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Do not insert token which also occur in insert. See #1525\n\t\t\t\t\t\tif (!insert.hasOwnProperty(token)) {\n\t\t\t\t\t\t\tret[token] = grammar[token];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tvar old = root[inside];\n\t\t\t\troot[inside] = ret;\n\n\t\t\t\t// Update references in other language definitions\n\t\t\t\t_.languages.DFS(_.languages, function (key, value) {\n\t\t\t\t\tif (value === old && key != inside) {\n\t\t\t\t\t\tthis[key] = ret;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\treturn ret;\n\t\t\t},\n\n\t\t\t// Traverse a language definition with Depth First Search\n\t\t\tDFS: function DFS(o, callback, type, visited) {\n\t\t\t\tvisited = visited || {};\n\n\t\t\t\tvar objId = _.util.objId;\n\n\t\t\t\tfor (var i in o) {\n\t\t\t\t\tif (o.hasOwnProperty(i)) {\n\t\t\t\t\t\tcallback.call(o, i, o[i], type || i);\n\n\t\t\t\t\t\tvar property = o[i];\n\t\t\t\t\t\tvar propertyType = _.util.type(property);\n\n\t\t\t\t\t\tif (propertyType === 'Object' && !visited[objId(property)]) {\n\t\t\t\t\t\t\tvisited[objId(property)] = true;\n\t\t\t\t\t\t\tDFS(property, callback, null, visited);\n\t\t\t\t\t\t} else if (propertyType === 'Array' && !visited[objId(property)]) {\n\t\t\t\t\t\t\tvisited[objId(property)] = true;\n\t\t\t\t\t\t\tDFS(property, callback, i, visited);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tplugins: {},\n\n\t\t/**\n\t\t * This is the most high-level function in Prisms API.\n\t\t * It fetches all the elements that have a `.language-xxxx` class and then calls {@link Prism.highlightElement} on\n\t\t * each one of them.\n\t\t *\n\t\t * This is equivalent to `Prism.highlightAllUnder(document, async, callback)`.\n\t\t *\n\t\t * @param {boolean} [async=false] Same as in {@link Prism.highlightAllUnder}.\n\t\t * @param {HighlightCallback} [callback] Same as in {@link Prism.highlightAllUnder}.\n\t\t * @memberof Prism\n\t\t * @public\n\t\t */\n\t\thighlightAll: function (async, callback) {\n\t\t\t_.highlightAllUnder(document, async, callback);\n\t\t},\n\n\t\t/**\n\t\t * Fetches all the descendants of `container` that have a `.language-xxxx` class and then calls\n\t\t * {@link Prism.highlightElement} on each one of them.\n\t\t *\n\t\t * The following hooks will be run:\n\t\t * 1. `before-highlightall`\n\t\t * 2. `before-all-elements-highlight`\n\t\t * 3. All hooks of {@link Prism.highlightElement} for each element.\n\t\t *\n\t\t * @param {ParentNode} container The root element, whose descendants that have a `.language-xxxx` class will be highlighted.\n\t\t * @param {boolean} [async=false] Whether each element is to be highlighted asynchronously using Web Workers.\n\t\t * @param {HighlightCallback} [callback] An optional callback to be invoked on each element after its highlighting is done.\n\t\t * @memberof Prism\n\t\t * @public\n\t\t */\n\t\thighlightAllUnder: function (container, async, callback) {\n\t\t\tvar env = {\n\t\t\t\tcallback: callback,\n\t\t\t\tcontainer: container,\n\t\t\t\tselector: 'code[class*=\"language-\"], [class*=\"language-\"] code, code[class*=\"lang-\"], [class*=\"lang-\"] code'\n\t\t\t};\n\n\t\t\t_.hooks.run('before-highlightall', env);\n\n\t\t\tenv.elements = Array.prototype.slice.apply(env.container.querySelectorAll(env.selector));\n\n\t\t\t_.hooks.run('before-all-elements-highlight', env);\n\n\t\t\tfor (var i = 0, element; (element = env.elements[i++]);) {\n\t\t\t\t_.highlightElement(element, async === true, env.callback);\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Highlights the code inside a single element.\n\t\t *\n\t\t * The following hooks will be run:\n\t\t * 1. `before-sanity-check`\n\t\t * 2. `before-highlight`\n\t\t * 3. All hooks of {@link Prism.highlight}. These hooks will be run by an asynchronous worker if `async` is `true`.\n\t\t * 4. `before-insert`\n\t\t * 5. `after-highlight`\n\t\t * 6. `complete`\n\t\t *\n\t\t * Some the above hooks will be skipped if the element doesn't contain any text or there is no grammar loaded for\n\t\t * the element's language.\n\t\t *\n\t\t * @param {Element} element The element containing the code.\n\t\t * It must have a class of `language-xxxx` to be processed, where `xxxx` is a valid language identifier.\n\t\t * @param {boolean} [async=false] Whether the element is to be highlighted asynchronously using Web Workers\n\t\t * to improve performance and avoid blocking the UI when highlighting very large chunks of code. This option is\n\t\t * [disabled by default](https://prismjs.com/faq.html#why-is-asynchronous-highlighting-disabled-by-default).\n\t\t *\n\t\t * Note: All language definitions required to highlight the code must be included in the main `prism.js` file for\n\t\t * asynchronous highlighting to work. You can build your own bundle on the\n\t\t * [Download page](https://prismjs.com/download.html).\n\t\t * @param {HighlightCallback} [callback] An optional callback to be invoked after the highlighting is done.\n\t\t * Mostly useful when `async` is `true`, since in that case, the highlighting is done asynchronously.\n\t\t * @memberof Prism\n\t\t * @public\n\t\t */\n\t\thighlightElement: function (element, async, callback) {\n\t\t\t// Find language\n\t\t\tvar language = _.util.getLanguage(element);\n\t\t\tvar grammar = _.languages[language];\n\n\t\t\t// Set language on the element, if not present\n\t\t\t_.util.setLanguage(element, language);\n\n\t\t\t// Set language on the parent, for styling\n\t\t\tvar parent = element.parentElement;\n\t\t\tif (parent && parent.nodeName.toLowerCase() === 'pre') {\n\t\t\t\t_.util.setLanguage(parent, language);\n\t\t\t}\n\n\t\t\tvar code = element.textContent;\n\n\t\t\tvar env = {\n\t\t\t\telement: element,\n\t\t\t\tlanguage: language,\n\t\t\t\tgrammar: grammar,\n\t\t\t\tcode: code\n\t\t\t};\n\n\t\t\tfunction insertHighlightedCode(highlightedCode) {\n\t\t\t\tenv.highlightedCode = highlightedCode;\n\n\t\t\t\t_.hooks.run('before-insert', env);\n\n\t\t\t\tenv.element.innerHTML = env.highlightedCode;\n\n\t\t\t\t_.hooks.run('after-highlight', env);\n\t\t\t\t_.hooks.run('complete', env);\n\t\t\t\tcallback && callback.call(env.element);\n\t\t\t}\n\n\t\t\t_.hooks.run('before-sanity-check', env);\n\n\t\t\t// plugins may change/add the parent/element\n\t\t\tparent = env.element.parentElement;\n\t\t\tif (parent && parent.nodeName.toLowerCase() === 'pre' && !parent.hasAttribute('tabindex')) {\n\t\t\t\tparent.setAttribute('tabindex', '0');\n\t\t\t}\n\n\t\t\tif (!env.code) {\n\t\t\t\t_.hooks.run('complete', env);\n\t\t\t\tcallback && callback.call(env.element);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t_.hooks.run('before-highlight', env);\n\n\t\t\tif (!env.grammar) {\n\t\t\t\tinsertHighlightedCode(_.util.encode(env.code));\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (async && _self.Worker) {\n\t\t\t\tvar worker = new Worker(_.filename);\n\n\t\t\t\tworker.onmessage = function (evt) {\n\t\t\t\t\tinsertHighlightedCode(evt.data);\n\t\t\t\t};\n\n\t\t\t\tworker.postMessage(JSON.stringify({\n\t\t\t\t\tlanguage: env.language,\n\t\t\t\t\tcode: env.code,\n\t\t\t\t\timmediateClose: true\n\t\t\t\t}));\n\t\t\t} else {\n\t\t\t\tinsertHighlightedCode(_.highlight(env.code, env.grammar, env.language));\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Low-level function, only use if you know what youre doing. It accepts a string of text as input\n\t\t * and the language definitions to use, and returns a string with the HTML produced.\n\t\t *\n\t\t * The following hooks will be run:\n\t\t * 1. `before-tokenize`\n\t\t * 2. `after-tokenize`\n\t\t * 3. `wrap`: On each {@link Token}.\n\t\t *\n\t\t * @param {string} text A string with the code to be highlighted.\n\t\t * @param {Grammar} grammar An object containing the tokens to use.\n\t\t *\n\t\t * Usually a language definition like `Prism.languages.markup`.\n\t\t * @param {string} language The name of the language definition passed to `grammar`.\n\t\t * @returns {string} The highlighted HTML.\n\t\t * @memberof Prism\n\t\t * @public\n\t\t * @example\n\t\t * Prism.highlight('var foo = true;', Prism.languages.javascript, 'javascript');\n\t\t */\n\t\thighlight: function (text, grammar, language) {\n\t\t\tvar env = {\n\t\t\t\tcode: text,\n\t\t\t\tgrammar: grammar,\n\t\t\t\tlanguage: language\n\t\t\t};\n\t\t\t_.hooks.run('before-tokenize', env);\n\t\t\tif (!env.grammar) {\n\t\t\t\tthrow new Error('The language \"' + env.language + '\" has no grammar.');\n\t\t\t}\n\t\t\tenv.tokens = _.tokenize(env.code, env.grammar);\n\t\t\t_.hooks.run('after-tokenize', env);\n\t\t\treturn Token.stringify(_.util.encode(env.tokens), env.language);\n\t\t},\n\n\t\t/**\n\t\t * This is the heart of Prism, and the most low-level function you can use. It accepts a string of text as input\n\t\t * and the language definitions to use, and returns an array with the tokenized code.\n\t\t *\n\t\t * When the language definition includes nested tokens, the function is called recursively on each of these tokens.\n\t\t *\n\t\t * This method could be useful in other contexts as well, as a very crude parser.\n\t\t *\n\t\t * @param {string} text A string with the code to be highlighted.\n\t\t * @param {Grammar} grammar An object containing the tokens to use.\n\t\t *\n\t\t * Usually a language definition like `Prism.languages.markup`.\n\t\t * @returns {TokenStream} An array of strings and tokens, a token stream.\n\t\t * @memberof Prism\n\t\t * @public\n\t\t * @example\n\t\t * let code = `var foo = 0;`;\n\t\t * let tokens = Prism.tokenize(code, Prism.languages.javascript);\n\t\t * tokens.forEach(token => {\n\t\t *     if (token instanceof Prism.Token && token.type === 'number') {\n\t\t *         console.log(`Found numeric literal: ${token.content}`);\n\t\t *     }\n\t\t * });\n\t\t */\n\t\ttokenize: function (text, grammar) {\n\t\t\tvar rest = grammar.rest;\n\t\t\tif (rest) {\n\t\t\t\tfor (var token in rest) {\n\t\t\t\t\tgrammar[token] = rest[token];\n\t\t\t\t}\n\n\t\t\t\tdelete grammar.rest;\n\t\t\t}\n\n\t\t\tvar tokenList = new LinkedList();\n\t\t\taddAfter(tokenList, tokenList.head, text);\n\n\t\t\tmatchGrammar(text, tokenList, grammar, tokenList.head, 0);\n\n\t\t\treturn toArray(tokenList);\n\t\t},\n\n\t\t/**\n\t\t * @namespace\n\t\t * @memberof Prism\n\t\t * @public\n\t\t */\n\t\thooks: {\n\t\t\tall: {},\n\n\t\t\t/**\n\t\t\t * Adds the given callback to the list of callbacks for the given hook.\n\t\t\t *\n\t\t\t * The callback will be invoked when the hook it is registered for is run.\n\t\t\t * Hooks are usually directly run by a highlight function but you can also run hooks yourself.\n\t\t\t *\n\t\t\t * One callback function can be registered to multiple hooks and the same hook multiple times.\n\t\t\t *\n\t\t\t * @param {string} name The name of the hook.\n\t\t\t * @param {HookCallback} callback The callback function which is given environment variables.\n\t\t\t * @public\n\t\t\t */\n\t\t\tadd: function (name, callback) {\n\t\t\t\tvar hooks = _.hooks.all;\n\n\t\t\t\thooks[name] = hooks[name] || [];\n\n\t\t\t\thooks[name].push(callback);\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Runs a hook invoking all registered callbacks with the given environment variables.\n\t\t\t *\n\t\t\t * Callbacks will be invoked synchronously and in the order in which they were registered.\n\t\t\t *\n\t\t\t * @param {string} name The name of the hook.\n\t\t\t * @param {Object<string, any>} env The environment variables of the hook passed to all callbacks registered.\n\t\t\t * @public\n\t\t\t */\n\t\t\trun: function (name, env) {\n\t\t\t\tvar callbacks = _.hooks.all[name];\n\n\t\t\t\tif (!callbacks || !callbacks.length) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tfor (var i = 0, callback; (callback = callbacks[i++]);) {\n\t\t\t\t\tcallback(env);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tToken: Token\n\t};\n\t_self.Prism = _;\n\n\n\t// Typescript note:\n\t// The following can be used to import the Token type in JSDoc:\n\t//\n\t//   @typedef {InstanceType<import(\"./prism-core\")[\"Token\"]>} Token\n\n\t/**\n\t * Creates a new token.\n\t *\n\t * @param {string} type See {@link Token#type type}\n\t * @param {string | TokenStream} content See {@link Token#content content}\n\t * @param {string|string[]} [alias] The alias(es) of the token.\n\t * @param {string} [matchedStr=\"\"] A copy of the full string this token was created from.\n\t * @class\n\t * @global\n\t * @public\n\t */\n\tfunction Token(type, content, alias, matchedStr) {\n\t\t/**\n\t\t * The type of the token.\n\t\t *\n\t\t * This is usually the key of a pattern in a {@link Grammar}.\n\t\t *\n\t\t * @type {string}\n\t\t * @see GrammarToken\n\t\t * @public\n\t\t */\n\t\tthis.type = type;\n\t\t/**\n\t\t * The strings or tokens contained by this token.\n\t\t *\n\t\t * This will be a token stream if the pattern matched also defined an `inside` grammar.\n\t\t *\n\t\t * @type {string | TokenStream}\n\t\t * @public\n\t\t */\n\t\tthis.content = content;\n\t\t/**\n\t\t * The alias(es) of the token.\n\t\t *\n\t\t * @type {string|string[]}\n\t\t * @see GrammarToken\n\t\t * @public\n\t\t */\n\t\tthis.alias = alias;\n\t\t// Copy of the full string this token was created from\n\t\tthis.length = (matchedStr || '').length | 0;\n\t}\n\n\t/**\n\t * A token stream is an array of strings and {@link Token Token} objects.\n\t *\n\t * Token streams have to fulfill a few properties that are assumed by most functions (mostly internal ones) that process\n\t * them.\n\t *\n\t * 1. No adjacent strings.\n\t * 2. No empty strings.\n\t *\n\t *    The only exception here is the token stream that only contains the empty string and nothing else.\n\t *\n\t * @typedef {Array<string | Token>} TokenStream\n\t * @global\n\t * @public\n\t */\n\n\t/**\n\t * Converts the given token or token stream to an HTML representation.\n\t *\n\t * The following hooks will be run:\n\t * 1. `wrap`: On each {@link Token}.\n\t *\n\t * @param {string | Token | TokenStream} o The token or token stream to be converted.\n\t * @param {string} language The name of current language.\n\t * @returns {string} The HTML representation of the token or token stream.\n\t * @memberof Token\n\t * @static\n\t */\n\tToken.stringify = function stringify(o, language) {\n\t\tif (typeof o == 'string') {\n\t\t\treturn o;\n\t\t}\n\t\tif (Array.isArray(o)) {\n\t\t\tvar s = '';\n\t\t\to.forEach(function (e) {\n\t\t\t\ts += stringify(e, language);\n\t\t\t});\n\t\t\treturn s;\n\t\t}\n\n\t\tvar env = {\n\t\t\ttype: o.type,\n\t\t\tcontent: stringify(o.content, language),\n\t\t\ttag: 'span',\n\t\t\tclasses: ['token', o.type],\n\t\t\tattributes: {},\n\t\t\tlanguage: language\n\t\t};\n\n\t\tvar aliases = o.alias;\n\t\tif (aliases) {\n\t\t\tif (Array.isArray(aliases)) {\n\t\t\t\tArray.prototype.push.apply(env.classes, aliases);\n\t\t\t} else {\n\t\t\t\tenv.classes.push(aliases);\n\t\t\t}\n\t\t}\n\n\t\t_.hooks.run('wrap', env);\n\n\t\tvar attributes = '';\n\t\tfor (var name in env.attributes) {\n\t\t\tattributes += ' ' + name + '=\"' + (env.attributes[name] || '').replace(/\"/g, '&quot;') + '\"';\n\t\t}\n\n\t\treturn '<' + env.tag + ' class=\"' + env.classes.join(' ') + '\"' + attributes + '>' + env.content + '</' + env.tag + '>';\n\t};\n\n\t/**\n\t * @param {RegExp} pattern\n\t * @param {number} pos\n\t * @param {string} text\n\t * @param {boolean} lookbehind\n\t * @returns {RegExpExecArray | null}\n\t */\n\tfunction matchPattern(pattern, pos, text, lookbehind) {\n\t\tpattern.lastIndex = pos;\n\t\tvar match = pattern.exec(text);\n\t\tif (match && lookbehind && match[1]) {\n\t\t\t// change the match to remove the text matched by the Prism lookbehind group\n\t\t\tvar lookbehindLength = match[1].length;\n\t\t\tmatch.index += lookbehindLength;\n\t\t\tmatch[0] = match[0].slice(lookbehindLength);\n\t\t}\n\t\treturn match;\n\t}\n\n\t/**\n\t * @param {string} text\n\t * @param {LinkedList<string | Token>} tokenList\n\t * @param {any} grammar\n\t * @param {LinkedListNode<string | Token>} startNode\n\t * @param {number} startPos\n\t * @param {RematchOptions} [rematch]\n\t * @returns {void}\n\t * @private\n\t *\n\t * @typedef RematchOptions\n\t * @property {string} cause\n\t * @property {number} reach\n\t */\n\tfunction matchGrammar(text, tokenList, grammar, startNode, startPos, rematch) {\n\t\tfor (var token in grammar) {\n\t\t\tif (!grammar.hasOwnProperty(token) || !grammar[token]) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tvar patterns = grammar[token];\n\t\t\tpatterns = Array.isArray(patterns) ? patterns : [patterns];\n\n\t\t\tfor (var j = 0; j < patterns.length; ++j) {\n\t\t\t\tif (rematch && rematch.cause == token + ',' + j) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tvar patternObj = patterns[j];\n\t\t\t\tvar inside = patternObj.inside;\n\t\t\t\tvar lookbehind = !!patternObj.lookbehind;\n\t\t\t\tvar greedy = !!patternObj.greedy;\n\t\t\t\tvar alias = patternObj.alias;\n\n\t\t\t\tif (greedy && !patternObj.pattern.global) {\n\t\t\t\t\t// Without the global flag, lastIndex won't work\n\t\t\t\t\tvar flags = patternObj.pattern.toString().match(/[imsuy]*$/)[0];\n\t\t\t\t\tpatternObj.pattern = RegExp(patternObj.pattern.source, flags + 'g');\n\t\t\t\t}\n\n\t\t\t\t/** @type {RegExp} */\n\t\t\t\tvar pattern = patternObj.pattern || patternObj;\n\n\t\t\t\tfor ( // iterate the token list and keep track of the current token/string position\n\t\t\t\t\tvar currentNode = startNode.next, pos = startPos;\n\t\t\t\t\tcurrentNode !== tokenList.tail;\n\t\t\t\t\tpos += currentNode.value.length, currentNode = currentNode.next\n\t\t\t\t) {\n\n\t\t\t\t\tif (rematch && pos >= rematch.reach) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tvar str = currentNode.value;\n\n\t\t\t\t\tif (tokenList.length > text.length) {\n\t\t\t\t\t\t// Something went terribly wrong, ABORT, ABORT!\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (str instanceof Token) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\n\t\t\t\t\tvar removeCount = 1; // this is the to parameter of removeBetween\n\t\t\t\t\tvar match;\n\n\t\t\t\t\tif (greedy) {\n\t\t\t\t\t\tmatch = matchPattern(pattern, pos, text, lookbehind);\n\t\t\t\t\t\tif (!match || match.index >= text.length) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvar from = match.index;\n\t\t\t\t\t\tvar to = match.index + match[0].length;\n\t\t\t\t\t\tvar p = pos;\n\n\t\t\t\t\t\t// find the node that contains the match\n\t\t\t\t\t\tp += currentNode.value.length;\n\t\t\t\t\t\twhile (from >= p) {\n\t\t\t\t\t\t\tcurrentNode = currentNode.next;\n\t\t\t\t\t\t\tp += currentNode.value.length;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// adjust pos (and p)\n\t\t\t\t\t\tp -= currentNode.value.length;\n\t\t\t\t\t\tpos = p;\n\n\t\t\t\t\t\t// the current node is a Token, then the match starts inside another Token, which is invalid\n\t\t\t\t\t\tif (currentNode.value instanceof Token) {\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// find the last node which is affected by this match\n\t\t\t\t\t\tfor (\n\t\t\t\t\t\t\tvar k = currentNode;\n\t\t\t\t\t\t\tk !== tokenList.tail && (p < to || typeof k.value === 'string');\n\t\t\t\t\t\t\tk = k.next\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tremoveCount++;\n\t\t\t\t\t\t\tp += k.value.length;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tremoveCount--;\n\n\t\t\t\t\t\t// replace with the new match\n\t\t\t\t\t\tstr = text.slice(pos, p);\n\t\t\t\t\t\tmatch.index -= pos;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tmatch = matchPattern(pattern, 0, str, lookbehind);\n\t\t\t\t\t\tif (!match) {\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// eslint-disable-next-line no-redeclare\n\t\t\t\t\tvar from = match.index;\n\t\t\t\t\tvar matchStr = match[0];\n\t\t\t\t\tvar before = str.slice(0, from);\n\t\t\t\t\tvar after = str.slice(from + matchStr.length);\n\n\t\t\t\t\tvar reach = pos + str.length;\n\t\t\t\t\tif (rematch && reach > rematch.reach) {\n\t\t\t\t\t\trematch.reach = reach;\n\t\t\t\t\t}\n\n\t\t\t\t\tvar removeFrom = currentNode.prev;\n\n\t\t\t\t\tif (before) {\n\t\t\t\t\t\tremoveFrom = addAfter(tokenList, removeFrom, before);\n\t\t\t\t\t\tpos += before.length;\n\t\t\t\t\t}\n\n\t\t\t\t\tremoveRange(tokenList, removeFrom, removeCount);\n\n\t\t\t\t\tvar wrapped = new Token(token, inside ? _.tokenize(matchStr, inside) : matchStr, alias, matchStr);\n\t\t\t\t\tcurrentNode = addAfter(tokenList, removeFrom, wrapped);\n\n\t\t\t\t\tif (after) {\n\t\t\t\t\t\taddAfter(tokenList, currentNode, after);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (removeCount > 1) {\n\t\t\t\t\t\t// at least one Token object was removed, so we have to do some rematching\n\t\t\t\t\t\t// this can only happen if the current pattern is greedy\n\n\t\t\t\t\t\t/** @type {RematchOptions} */\n\t\t\t\t\t\tvar nestedRematch = {\n\t\t\t\t\t\t\tcause: token + ',' + j,\n\t\t\t\t\t\t\treach: reach\n\t\t\t\t\t\t};\n\t\t\t\t\t\tmatchGrammar(text, tokenList, grammar, currentNode.prev, pos, nestedRematch);\n\n\t\t\t\t\t\t// the reach might have been extended because of the rematching\n\t\t\t\t\t\tif (rematch && nestedRematch.reach > rematch.reach) {\n\t\t\t\t\t\t\trematch.reach = nestedRematch.reach;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * @typedef LinkedListNode\n\t * @property {T} value\n\t * @property {LinkedListNode<T> | null} prev The previous node.\n\t * @property {LinkedListNode<T> | null} next The next node.\n\t * @template T\n\t * @private\n\t */\n\n\t/**\n\t * @template T\n\t * @private\n\t */\n\tfunction LinkedList() {\n\t\t/** @type {LinkedListNode<T>} */\n\t\tvar head = { value: null, prev: null, next: null };\n\t\t/** @type {LinkedListNode<T>} */\n\t\tvar tail = { value: null, prev: head, next: null };\n\t\thead.next = tail;\n\n\t\t/** @type {LinkedListNode<T>} */\n\t\tthis.head = head;\n\t\t/** @type {LinkedListNode<T>} */\n\t\tthis.tail = tail;\n\t\tthis.length = 0;\n\t}\n\n\t/**\n\t * Adds a new node with the given value to the list.\n\t *\n\t * @param {LinkedList<T>} list\n\t * @param {LinkedListNode<T>} node\n\t * @param {T} value\n\t * @returns {LinkedListNode<T>} The added node.\n\t * @template T\n\t */\n\tfunction addAfter(list, node, value) {\n\t\t// assumes that node != list.tail && values.length >= 0\n\t\tvar next = node.next;\n\n\t\tvar newNode = { value: value, prev: node, next: next };\n\t\tnode.next = newNode;\n\t\tnext.prev = newNode;\n\t\tlist.length++;\n\n\t\treturn newNode;\n\t}\n\t/**\n\t * Removes `count` nodes after the given node. The given node will not be removed.\n\t *\n\t * @param {LinkedList<T>} list\n\t * @param {LinkedListNode<T>} node\n\t * @param {number} count\n\t * @template T\n\t */\n\tfunction removeRange(list, node, count) {\n\t\tvar next = node.next;\n\t\tfor (var i = 0; i < count && next !== list.tail; i++) {\n\t\t\tnext = next.next;\n\t\t}\n\t\tnode.next = next;\n\t\tnext.prev = node;\n\t\tlist.length -= i;\n\t}\n\t/**\n\t * @param {LinkedList<T>} list\n\t * @returns {T[]}\n\t * @template T\n\t */\n\tfunction toArray(list) {\n\t\tvar array = [];\n\t\tvar node = list.head.next;\n\t\twhile (node !== list.tail) {\n\t\t\tarray.push(node.value);\n\t\t\tnode = node.next;\n\t\t}\n\t\treturn array;\n\t}\n\n\n\tif (!_self.document) {\n\t\tif (!_self.addEventListener) {\n\t\t\t// in Node.js\n\t\t\treturn _;\n\t\t}\n\n\t\tif (!_.disableWorkerMessageHandler) {\n\t\t\t// In worker\n\t\t\t_self.addEventListener('message', function (evt) {\n\t\t\t\tvar message = JSON.parse(evt.data);\n\t\t\t\tvar lang = message.language;\n\t\t\t\tvar code = message.code;\n\t\t\t\tvar immediateClose = message.immediateClose;\n\n\t\t\t\t_self.postMessage(_.highlight(code, _.languages[lang], lang));\n\t\t\t\tif (immediateClose) {\n\t\t\t\t\t_self.close();\n\t\t\t\t}\n\t\t\t}, false);\n\t\t}\n\n\t\treturn _;\n\t}\n\n\t// Get current script and highlight\n\tvar script = _.util.currentScript();\n\n\tif (script) {\n\t\t_.filename = script.src;\n\n\t\tif (script.hasAttribute('data-manual')) {\n\t\t\t_.manual = true;\n\t\t}\n\t}\n\n\tfunction highlightAutomaticallyCallback() {\n\t\tif (!_.manual) {\n\t\t\t_.highlightAll();\n\t\t}\n\t}\n\n\tif (!_.manual) {\n\t\t// If the document state is \"loading\", then we'll use DOMContentLoaded.\n\t\t// If the document state is \"interactive\" and the prism.js script is deferred, then we'll also use the\n\t\t// DOMContentLoaded event because there might be some plugins or languages which have also been deferred and they\n\t\t// might take longer one animation frame to execute which can create a race condition where only some plugins have\n\t\t// been loaded when Prism.highlightAll() is executed, depending on how fast resources are loaded.\n\t\t// See https://github.com/PrismJS/prism/issues/2102\n\t\tvar readyState = document.readyState;\n\t\tif (readyState === 'loading' || readyState === 'interactive' && script && script.defer) {\n\t\t\tdocument.addEventListener('DOMContentLoaded', highlightAutomaticallyCallback);\n\t\t} else {\n\t\t\tif (window.requestAnimationFrame) {\n\t\t\t\twindow.requestAnimationFrame(highlightAutomaticallyCallback);\n\t\t\t} else {\n\t\t\t\twindow.setTimeout(highlightAutomaticallyCallback, 16);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn _;\n\n}(_self));\n\nif (typeof module !== 'undefined' && module.exports) {\n\tmodule.exports = Prism;\n}\n\n// hack for components to work correctly in node.js\nif (typeof global !== 'undefined') {\n\tglobal.Prism = Prism;\n}\n\n// some additional documentation/types\n\n/**\n * The expansion of a simple `RegExp` literal to support additional properties.\n *\n * @typedef GrammarToken\n * @property {RegExp} pattern The regular expression of the token.\n * @property {boolean} [lookbehind=false] If `true`, then the first capturing group of `pattern` will (effectively)\n * behave as a lookbehind group meaning that the captured text will not be part of the matched text of the new token.\n * @property {boolean} [greedy=false] Whether the token is greedy.\n * @property {string|string[]} [alias] An optional alias or list of aliases.\n * @property {Grammar} [inside] The nested grammar of this token.\n *\n * The `inside` grammar will be used to tokenize the text value of each token of this kind.\n *\n * This can be used to make nested and even recursive language definitions.\n *\n * Note: This can cause infinite recursion. Be careful when you embed different languages or even the same language into\n * each another.\n * @global\n * @public\n */\n\n/**\n * @typedef Grammar\n * @type {Object<string, RegExp | GrammarToken | Array<RegExp | GrammarToken>>}\n * @property {Grammar} [rest] An optional grammar object that will be appended to this grammar.\n * @global\n * @public\n */\n\n/**\n * A function which will invoked after an element was successfully highlighted.\n *\n * @callback HighlightCallback\n * @param {Element} element The element successfully highlighted.\n * @returns {void}\n * @global\n * @public\n */\n\n/**\n * @callback HookCallback\n * @param {Object<string, any>} env The environment variables of the hook.\n * @returns {void}\n * @global\n * @public\n */\n\n\n/* **********************************************\n     Begin prism-markup.js\n********************************************** */\n\nPrism.languages.markup = {\n\t'comment': {\n\t\tpattern: /<!--(?:(?!<!--)[\\s\\S])*?-->/,\n\t\tgreedy: true\n\t},\n\t'prolog': {\n\t\tpattern: /<\\?[\\s\\S]+?\\?>/,\n\t\tgreedy: true\n\t},\n\t'doctype': {\n\t\t// https://www.w3.org/TR/xml/#NT-doctypedecl\n\t\tpattern: /<!DOCTYPE(?:[^>\"'[\\]]|\"[^\"]*\"|'[^']*')+(?:\\[(?:[^<\"'\\]]|\"[^\"]*\"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\\]\\s*)?>/i,\n\t\tgreedy: true,\n\t\tinside: {\n\t\t\t'internal-subset': {\n\t\t\t\tpattern: /(^[^\\[]*\\[)[\\s\\S]+(?=\\]>$)/,\n\t\t\t\tlookbehind: true,\n\t\t\t\tgreedy: true,\n\t\t\t\tinside: null // see below\n\t\t\t},\n\t\t\t'string': {\n\t\t\t\tpattern: /\"[^\"]*\"|'[^']*'/,\n\t\t\t\tgreedy: true\n\t\t\t},\n\t\t\t'punctuation': /^<!|>$|[[\\]]/,\n\t\t\t'doctype-tag': /^DOCTYPE/i,\n\t\t\t'name': /[^\\s<>'\"]+/\n\t\t}\n\t},\n\t'cdata': {\n\t\tpattern: /<!\\[CDATA\\[[\\s\\S]*?\\]\\]>/i,\n\t\tgreedy: true\n\t},\n\t'tag': {\n\t\tpattern: /<\\/?(?!\\d)[^\\s>\\/=$<%]+(?:\\s(?:\\s*[^\\s>\\/=]+(?:\\s*=\\s*(?:\"[^\"]*\"|'[^']*'|[^\\s'\">=]+(?=[\\s>]))|(?=[\\s/>])))+)?\\s*\\/?>/,\n\t\tgreedy: true,\n\t\tinside: {\n\t\t\t'tag': {\n\t\t\t\tpattern: /^<\\/?[^\\s>\\/]+/,\n\t\t\t\tinside: {\n\t\t\t\t\t'punctuation': /^<\\/?/,\n\t\t\t\t\t'namespace': /^[^\\s>\\/:]+:/\n\t\t\t\t}\n\t\t\t},\n\t\t\t'special-attr': [],\n\t\t\t'attr-value': {\n\t\t\t\tpattern: /=\\s*(?:\"[^\"]*\"|'[^']*'|[^\\s'\">=]+)/,\n\t\t\t\tinside: {\n\t\t\t\t\t'punctuation': [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tpattern: /^=/,\n\t\t\t\t\t\t\talias: 'attr-equals'\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tpattern: /^(\\s*)[\"']|[\"']$/,\n\t\t\t\t\t\t\tlookbehind: true\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t},\n\t\t\t'punctuation': /\\/?>/,\n\t\t\t'attr-name': {\n\t\t\t\tpattern: /[^\\s>\\/]+/,\n\t\t\t\tinside: {\n\t\t\t\t\t'namespace': /^[^\\s>\\/:]+:/\n\t\t\t\t}\n\t\t\t}\n\n\t\t}\n\t},\n\t'entity': [\n\t\t{\n\t\t\tpattern: /&[\\da-z]{1,8};/i,\n\t\t\talias: 'named-entity'\n\t\t},\n\t\t/&#x?[\\da-f]{1,8};/i\n\t]\n};\n\nPrism.languages.markup['tag'].inside['attr-value'].inside['entity'] =\n\tPrism.languages.markup['entity'];\nPrism.languages.markup['doctype'].inside['internal-subset'].inside = Prism.languages.markup;\n\n// Plugin to make entity title show the real entity, idea by Roman Komarov\nPrism.hooks.add('wrap', function (env) {\n\n\tif (env.type === 'entity') {\n\t\tenv.attributes['title'] = env.content.replace(/&amp;/, '&');\n\t}\n});\n\nObject.defineProperty(Prism.languages.markup.tag, 'addInlined', {\n\t/**\n\t * Adds an inlined language to markup.\n\t *\n\t * An example of an inlined language is CSS with `<style>` tags.\n\t *\n\t * @param {string} tagName The name of the tag that contains the inlined language. This name will be treated as\n\t * case insensitive.\n\t * @param {string} lang The language key.\n\t * @example\n\t * addInlined('style', 'css');\n\t */\n\tvalue: function addInlined(tagName, lang) {\n\t\tvar includedCdataInside = {};\n\t\tincludedCdataInside['language-' + lang] = {\n\t\t\tpattern: /(^<!\\[CDATA\\[)[\\s\\S]+?(?=\\]\\]>$)/i,\n\t\t\tlookbehind: true,\n\t\t\tinside: Prism.languages[lang]\n\t\t};\n\t\tincludedCdataInside['cdata'] = /^<!\\[CDATA\\[|\\]\\]>$/i;\n\n\t\tvar inside = {\n\t\t\t'included-cdata': {\n\t\t\t\tpattern: /<!\\[CDATA\\[[\\s\\S]*?\\]\\]>/i,\n\t\t\t\tinside: includedCdataInside\n\t\t\t}\n\t\t};\n\t\tinside['language-' + lang] = {\n\t\t\tpattern: /[\\s\\S]+/,\n\t\t\tinside: Prism.languages[lang]\n\t\t};\n\n\t\tvar def = {};\n\t\tdef[tagName] = {\n\t\t\tpattern: RegExp(/(<__[^>]*>)(?:<!\\[CDATA\\[(?:[^\\]]|\\](?!\\]>))*\\]\\]>|(?!<!\\[CDATA\\[)[\\s\\S])*?(?=<\\/__>)/.source.replace(/__/g, function () { return tagName; }), 'i'),\n\t\t\tlookbehind: true,\n\t\t\tgreedy: true,\n\t\t\tinside: inside\n\t\t};\n\n\t\tPrism.languages.insertBefore('markup', 'cdata', def);\n\t}\n});\nObject.defineProperty(Prism.languages.markup.tag, 'addAttribute', {\n\t/**\n\t * Adds an pattern to highlight languages embedded in HTML attributes.\n\t *\n\t * An example of an inlined language is CSS with `style` attributes.\n\t *\n\t * @param {string} attrName The name of the tag that contains the inlined language. This name will be treated as\n\t * case insensitive.\n\t * @param {string} lang The language key.\n\t * @example\n\t * addAttribute('style', 'css');\n\t */\n\tvalue: function (attrName, lang) {\n\t\tPrism.languages.markup.tag.inside['special-attr'].push({\n\t\t\tpattern: RegExp(\n\t\t\t\t/(^|[\"'\\s])/.source + '(?:' + attrName + ')' + /\\s*=\\s*(?:\"[^\"]*\"|'[^']*'|[^\\s'\">=]+(?=[\\s>]))/.source,\n\t\t\t\t'i'\n\t\t\t),\n\t\t\tlookbehind: true,\n\t\t\tinside: {\n\t\t\t\t'attr-name': /^[^\\s=]+/,\n\t\t\t\t'attr-value': {\n\t\t\t\t\tpattern: /=[\\s\\S]+/,\n\t\t\t\t\tinside: {\n\t\t\t\t\t\t'value': {\n\t\t\t\t\t\t\tpattern: /(^=\\s*([\"']|(?![\"'])))\\S[\\s\\S]*(?=\\2$)/,\n\t\t\t\t\t\t\tlookbehind: true,\n\t\t\t\t\t\t\talias: [lang, 'language-' + lang],\n\t\t\t\t\t\t\tinside: Prism.languages[lang]\n\t\t\t\t\t\t},\n\t\t\t\t\t\t'punctuation': [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tpattern: /^=/,\n\t\t\t\t\t\t\t\talias: 'attr-equals'\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t/\"|'/\n\t\t\t\t\t\t]\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n});\n\nPrism.languages.html = Prism.languages.markup;\nPrism.languages.mathml = Prism.languages.markup;\nPrism.languages.svg = Prism.languages.markup;\n\nPrism.languages.xml = Prism.languages.extend('markup', {});\nPrism.languages.ssml = Prism.languages.xml;\nPrism.languages.atom = Prism.languages.xml;\nPrism.languages.rss = Prism.languages.xml;\n\n\n/* **********************************************\n     Begin prism-css.js\n********************************************** */\n\n(function (Prism) {\n\n\tvar string = /(?:\"(?:\\\\(?:\\r\\n|[\\s\\S])|[^\"\\\\\\r\\n])*\"|'(?:\\\\(?:\\r\\n|[\\s\\S])|[^'\\\\\\r\\n])*')/;\n\n\tPrism.languages.css = {\n\t\t'comment': /\\/\\*[\\s\\S]*?\\*\\//,\n\t\t'atrule': {\n\t\t\tpattern: RegExp('@[\\\\w-](?:' + /[^;{\\s\"']|\\s+(?!\\s)/.source + '|' + string.source + ')*?' + /(?:;|(?=\\s*\\{))/.source),\n\t\t\tinside: {\n\t\t\t\t'rule': /^@[\\w-]+/,\n\t\t\t\t'selector-function-argument': {\n\t\t\t\t\tpattern: /(\\bselector\\s*\\(\\s*(?![\\s)]))(?:[^()\\s]|\\s+(?![\\s)])|\\((?:[^()]|\\([^()]*\\))*\\))+(?=\\s*\\))/,\n\t\t\t\t\tlookbehind: true,\n\t\t\t\t\talias: 'selector'\n\t\t\t\t},\n\t\t\t\t'keyword': {\n\t\t\t\t\tpattern: /(^|[^\\w-])(?:and|not|only|or)(?![\\w-])/,\n\t\t\t\t\tlookbehind: true\n\t\t\t\t}\n\t\t\t\t// See rest below\n\t\t\t}\n\t\t},\n\t\t'url': {\n\t\t\t// https://drafts.csswg.org/css-values-3/#urls\n\t\t\tpattern: RegExp('\\\\burl\\\\((?:' + string.source + '|' + /(?:[^\\\\\\r\\n()\"']|\\\\[\\s\\S])*/.source + ')\\\\)', 'i'),\n\t\t\tgreedy: true,\n\t\t\tinside: {\n\t\t\t\t'function': /^url/i,\n\t\t\t\t'punctuation': /^\\(|\\)$/,\n\t\t\t\t'string': {\n\t\t\t\t\tpattern: RegExp('^' + string.source + '$'),\n\t\t\t\t\talias: 'url'\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t'selector': {\n\t\t\tpattern: RegExp('(^|[{}\\\\s])[^{}\\\\s](?:[^{};\"\\'\\\\s]|\\\\s+(?![\\\\s{])|' + string.source + ')*(?=\\\\s*\\\\{)'),\n\t\t\tlookbehind: true\n\t\t},\n\t\t'string': {\n\t\t\tpattern: string,\n\t\t\tgreedy: true\n\t\t},\n\t\t'property': {\n\t\t\tpattern: /(^|[^-\\w\\xA0-\\uFFFF])(?!\\s)[-_a-z\\xA0-\\uFFFF](?:(?!\\s)[-\\w\\xA0-\\uFFFF])*(?=\\s*:)/i,\n\t\t\tlookbehind: true\n\t\t},\n\t\t'important': /!important\\b/i,\n\t\t'function': {\n\t\t\tpattern: /(^|[^-a-z0-9])[-a-z0-9]+(?=\\()/i,\n\t\t\tlookbehind: true\n\t\t},\n\t\t'punctuation': /[(){};:,]/\n\t};\n\n\tPrism.languages.css['atrule'].inside.rest = Prism.languages.css;\n\n\tvar markup = Prism.languages.markup;\n\tif (markup) {\n\t\tmarkup.tag.addInlined('style', 'css');\n\t\tmarkup.tag.addAttribute('style', 'css');\n\t}\n\n}(Prism));\n\n\n/* **********************************************\n     Begin prism-clike.js\n********************************************** */\n\nPrism.languages.clike = {\n\t'comment': [\n\t\t{\n\t\t\tpattern: /(^|[^\\\\])\\/\\*[\\s\\S]*?(?:\\*\\/|$)/,\n\t\t\tlookbehind: true,\n\t\t\tgreedy: true\n\t\t},\n\t\t{\n\t\t\tpattern: /(^|[^\\\\:])\\/\\/.*/,\n\t\t\tlookbehind: true,\n\t\t\tgreedy: true\n\t\t}\n\t],\n\t'string': {\n\t\tpattern: /([\"'])(?:\\\\(?:\\r\\n|[\\s\\S])|(?!\\1)[^\\\\\\r\\n])*\\1/,\n\t\tgreedy: true\n\t},\n\t'class-name': {\n\t\tpattern: /(\\b(?:class|extends|implements|instanceof|interface|new|trait)\\s+|\\bcatch\\s+\\()[\\w.\\\\]+/i,\n\t\tlookbehind: true,\n\t\tinside: {\n\t\t\t'punctuation': /[.\\\\]/\n\t\t}\n\t},\n\t'keyword': /\\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\\b/,\n\t'boolean': /\\b(?:false|true)\\b/,\n\t'function': /\\b\\w+(?=\\()/,\n\t'number': /\\b0x[\\da-f]+\\b|(?:\\b\\d+(?:\\.\\d*)?|\\B\\.\\d+)(?:e[+-]?\\d+)?/i,\n\t'operator': /[<>]=?|[!=]=?=?|--?|\\+\\+?|&&?|\\|\\|?|[?*/~^%]/,\n\t'punctuation': /[{}[\\];(),.:]/\n};\n\n\n/* **********************************************\n     Begin prism-javascript.js\n********************************************** */\n\nPrism.languages.javascript = Prism.languages.extend('clike', {\n\t'class-name': [\n\t\tPrism.languages.clike['class-name'],\n\t\t{\n\t\t\tpattern: /(^|[^$\\w\\xA0-\\uFFFF])(?!\\s)[_$A-Z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*(?=\\.(?:constructor|prototype))/,\n\t\t\tlookbehind: true\n\t\t}\n\t],\n\t'keyword': [\n\t\t{\n\t\t\tpattern: /((?:^|\\})\\s*)catch\\b/,\n\t\t\tlookbehind: true\n\t\t},\n\t\t{\n\t\t\tpattern: /(^|[^.]|\\.\\.\\.\\s*)\\b(?:as|assert(?=\\s*\\{)|async(?=\\s*(?:function\\b|\\(|[$\\w\\xA0-\\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\\s*(?:\\{|$))|for|from(?=\\s*(?:['\"]|$))|function|(?:get|set)(?=\\s*(?:[#\\[$\\w\\xA0-\\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\\b/,\n\t\t\tlookbehind: true\n\t\t},\n\t],\n\t// Allow for all non-ASCII characters (See http://stackoverflow.com/a/2008444)\n\t'function': /#?(?!\\s)[_$a-zA-Z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*(?=\\s*(?:\\.\\s*(?:apply|bind|call)\\s*)?\\()/,\n\t'number': {\n\t\tpattern: RegExp(\n\t\t\t/(^|[^\\w$])/.source +\n\t\t\t'(?:' +\n\t\t\t(\n\t\t\t\t// constant\n\t\t\t\t/NaN|Infinity/.source +\n\t\t\t\t'|' +\n\t\t\t\t// binary integer\n\t\t\t\t/0[bB][01]+(?:_[01]+)*n?/.source +\n\t\t\t\t'|' +\n\t\t\t\t// octal integer\n\t\t\t\t/0[oO][0-7]+(?:_[0-7]+)*n?/.source +\n\t\t\t\t'|' +\n\t\t\t\t// hexadecimal integer\n\t\t\t\t/0[xX][\\dA-Fa-f]+(?:_[\\dA-Fa-f]+)*n?/.source +\n\t\t\t\t'|' +\n\t\t\t\t// decimal bigint\n\t\t\t\t/\\d+(?:_\\d+)*n/.source +\n\t\t\t\t'|' +\n\t\t\t\t// decimal number (integer or float) but no bigint\n\t\t\t\t/(?:\\d+(?:_\\d+)*(?:\\.(?:\\d+(?:_\\d+)*)?)?|\\.\\d+(?:_\\d+)*)(?:[Ee][+-]?\\d+(?:_\\d+)*)?/.source\n\t\t\t) +\n\t\t\t')' +\n\t\t\t/(?![\\w$])/.source\n\t\t),\n\t\tlookbehind: true\n\t},\n\t'operator': /--|\\+\\+|\\*\\*=?|=>|&&=?|\\|\\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\\.{3}|\\?\\?=?|\\?\\.?|[~:]/\n});\n\nPrism.languages.javascript['class-name'][0].pattern = /(\\b(?:class|extends|implements|instanceof|interface|new)\\s+)[\\w.\\\\]+/;\n\nPrism.languages.insertBefore('javascript', 'keyword', {\n\t'regex': {\n\t\tpattern: RegExp(\n\t\t\t// lookbehind\n\t\t\t// eslint-disable-next-line regexp/no-dupe-characters-character-class\n\t\t\t/((?:^|[^$\\w\\xA0-\\uFFFF.\"'\\])\\s]|\\b(?:return|yield))\\s*)/.source +\n\t\t\t// Regex pattern:\n\t\t\t// There are 2 regex patterns here. The RegExp set notation proposal added support for nested character\n\t\t\t// classes if the `v` flag is present. Unfortunately, nested CCs are both context-free and incompatible\n\t\t\t// with the only syntax, so we have to define 2 different regex patterns.\n\t\t\t/\\//.source +\n\t\t\t'(?:' +\n\t\t\t/(?:\\[(?:[^\\]\\\\\\r\\n]|\\\\.)*\\]|\\\\.|[^/\\\\\\[\\r\\n])+\\/[dgimyus]{0,7}/.source +\n\t\t\t'|' +\n\t\t\t// `v` flag syntax. This supports 3 levels of nested character classes.\n\t\t\t/(?:\\[(?:[^[\\]\\\\\\r\\n]|\\\\.|\\[(?:[^[\\]\\\\\\r\\n]|\\\\.|\\[(?:[^[\\]\\\\\\r\\n]|\\\\.)*\\])*\\])*\\]|\\\\.|[^/\\\\\\[\\r\\n])+\\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source +\n\t\t\t')' +\n\t\t\t// lookahead\n\t\t\t/(?=(?:\\s|\\/\\*(?:[^*]|\\*(?!\\/))*\\*\\/)*(?:$|[\\r\\n,.;:})\\]]|\\/\\/))/.source\n\t\t),\n\t\tlookbehind: true,\n\t\tgreedy: true,\n\t\tinside: {\n\t\t\t'regex-source': {\n\t\t\t\tpattern: /^(\\/)[\\s\\S]+(?=\\/[a-z]*$)/,\n\t\t\t\tlookbehind: true,\n\t\t\t\talias: 'language-regex',\n\t\t\t\tinside: Prism.languages.regex\n\t\t\t},\n\t\t\t'regex-delimiter': /^\\/|\\/$/,\n\t\t\t'regex-flags': /^[a-z]+$/,\n\t\t}\n\t},\n\t// This must be declared before keyword because we use \"function\" inside the look-forward\n\t'function-variable': {\n\t\tpattern: /#?(?!\\s)[_$a-zA-Z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*(?=\\s*[=:]\\s*(?:async\\s*)?(?:\\bfunction\\b|(?:\\((?:[^()]|\\([^()]*\\))*\\)|(?!\\s)[_$a-zA-Z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*)\\s*=>))/,\n\t\talias: 'function'\n\t},\n\t'parameter': [\n\t\t{\n\t\t\tpattern: /(function(?:\\s+(?!\\s)[_$a-zA-Z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*)?\\s*\\(\\s*)(?!\\s)(?:[^()\\s]|\\s+(?![\\s)])|\\([^()]*\\))+(?=\\s*\\))/,\n\t\t\tlookbehind: true,\n\t\t\tinside: Prism.languages.javascript\n\t\t},\n\t\t{\n\t\t\tpattern: /(^|[^$\\w\\xA0-\\uFFFF])(?!\\s)[_$a-z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*(?=\\s*=>)/i,\n\t\t\tlookbehind: true,\n\t\t\tinside: Prism.languages.javascript\n\t\t},\n\t\t{\n\t\t\tpattern: /(\\(\\s*)(?!\\s)(?:[^()\\s]|\\s+(?![\\s)])|\\([^()]*\\))+(?=\\s*\\)\\s*=>)/,\n\t\t\tlookbehind: true,\n\t\t\tinside: Prism.languages.javascript\n\t\t},\n\t\t{\n\t\t\tpattern: /((?:\\b|\\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\\w\\xA0-\\uFFFF]))(?:(?!\\s)[_$a-zA-Z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*\\s*)\\(\\s*|\\]\\s*\\(\\s*)(?!\\s)(?:[^()\\s]|\\s+(?![\\s)])|\\([^()]*\\))+(?=\\s*\\)\\s*\\{)/,\n\t\t\tlookbehind: true,\n\t\t\tinside: Prism.languages.javascript\n\t\t}\n\t],\n\t'constant': /\\b[A-Z](?:[A-Z_]|\\dx?)*\\b/\n});\n\nPrism.languages.insertBefore('javascript', 'string', {\n\t'hashbang': {\n\t\tpattern: /^#!.*/,\n\t\tgreedy: true,\n\t\talias: 'comment'\n\t},\n\t'template-string': {\n\t\tpattern: /`(?:\\\\[\\s\\S]|\\$\\{(?:[^{}]|\\{(?:[^{}]|\\{[^}]*\\})*\\})+\\}|(?!\\$\\{)[^\\\\`])*`/,\n\t\tgreedy: true,\n\t\tinside: {\n\t\t\t'template-punctuation': {\n\t\t\t\tpattern: /^`|`$/,\n\t\t\t\talias: 'string'\n\t\t\t},\n\t\t\t'interpolation': {\n\t\t\t\tpattern: /((?:^|[^\\\\])(?:\\\\{2})*)\\$\\{(?:[^{}]|\\{(?:[^{}]|\\{[^}]*\\})*\\})+\\}/,\n\t\t\t\tlookbehind: true,\n\t\t\t\tinside: {\n\t\t\t\t\t'interpolation-punctuation': {\n\t\t\t\t\t\tpattern: /^\\$\\{|\\}$/,\n\t\t\t\t\t\talias: 'punctuation'\n\t\t\t\t\t},\n\t\t\t\t\trest: Prism.languages.javascript\n\t\t\t\t}\n\t\t\t},\n\t\t\t'string': /[\\s\\S]+/\n\t\t}\n\t},\n\t'string-property': {\n\t\tpattern: /((?:^|[,{])[ \\t]*)([\"'])(?:\\\\(?:\\r\\n|[\\s\\S])|(?!\\2)[^\\\\\\r\\n])*\\2(?=\\s*:)/m,\n\t\tlookbehind: true,\n\t\tgreedy: true,\n\t\talias: 'property'\n\t}\n});\n\nPrism.languages.insertBefore('javascript', 'operator', {\n\t'literal-property': {\n\t\tpattern: /((?:^|[,{])[ \\t]*)(?!\\s)[_$a-zA-Z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*(?=\\s*:)/m,\n\t\tlookbehind: true,\n\t\talias: 'property'\n\t},\n});\n\nif (Prism.languages.markup) {\n\tPrism.languages.markup.tag.addInlined('script', 'javascript');\n\n\t// add attribute support for all DOM events.\n\t// https://developer.mozilla.org/en-US/docs/Web/Events#Standard_events\n\tPrism.languages.markup.tag.addAttribute(\n\t\t/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,\n\t\t'javascript'\n\t);\n}\n\nPrism.languages.js = Prism.languages.javascript;\n\n\n/* **********************************************\n     Begin prism-file-highlight.js\n********************************************** */\n\n(function () {\n\n\tif (typeof Prism === 'undefined' || typeof document === 'undefined') {\n\t\treturn;\n\t}\n\n\t// https://developer.mozilla.org/en-US/docs/Web/API/Element/matches#Polyfill\n\tif (!Element.prototype.matches) {\n\t\tElement.prototype.matches = Element.prototype.msMatchesSelector || Element.prototype.webkitMatchesSelector;\n\t}\n\n\tvar LOADING_MESSAGE = 'Loading';\n\tvar FAILURE_MESSAGE = function (status, message) {\n\t\treturn ' Error ' + status + ' while fetching file: ' + message;\n\t};\n\tvar FAILURE_EMPTY_MESSAGE = ' Error: File does not exist or is empty';\n\n\tvar EXTENSIONS = {\n\t\t'js': 'javascript',\n\t\t'py': 'python',\n\t\t'rb': 'ruby',\n\t\t'ps1': 'powershell',\n\t\t'psm1': 'powershell',\n\t\t'sh': 'bash',\n\t\t'bat': 'batch',\n\t\t'h': 'c',\n\t\t'tex': 'latex'\n\t};\n\n\tvar STATUS_ATTR = 'data-src-status';\n\tvar STATUS_LOADING = 'loading';\n\tvar STATUS_LOADED = 'loaded';\n\tvar STATUS_FAILED = 'failed';\n\n\tvar SELECTOR = 'pre[data-src]:not([' + STATUS_ATTR + '=\"' + STATUS_LOADED + '\"])'\n\t\t+ ':not([' + STATUS_ATTR + '=\"' + STATUS_LOADING + '\"])';\n\n\t/**\n\t * Loads the given file.\n\t *\n\t * @param {string} src The URL or path of the source file to load.\n\t * @param {(result: string) => void} success\n\t * @param {(reason: string) => void} error\n\t */\n\tfunction loadFile(src, success, error) {\n\t\tvar xhr = new XMLHttpRequest();\n\t\txhr.open('GET', src, true);\n\t\txhr.onreadystatechange = function () {\n\t\t\tif (xhr.readyState == 4) {\n\t\t\t\tif (xhr.status < 400 && xhr.responseText) {\n\t\t\t\t\tsuccess(xhr.responseText);\n\t\t\t\t} else {\n\t\t\t\t\tif (xhr.status >= 400) {\n\t\t\t\t\t\terror(FAILURE_MESSAGE(xhr.status, xhr.statusText));\n\t\t\t\t\t} else {\n\t\t\t\t\t\terror(FAILURE_EMPTY_MESSAGE);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\txhr.send(null);\n\t}\n\n\t/**\n\t * Parses the given range.\n\t *\n\t * This returns a range with inclusive ends.\n\t *\n\t * @param {string | null | undefined} range\n\t * @returns {[number, number | undefined] | undefined}\n\t */\n\tfunction parseRange(range) {\n\t\tvar m = /^\\s*(\\d+)\\s*(?:(,)\\s*(?:(\\d+)\\s*)?)?$/.exec(range || '');\n\t\tif (m) {\n\t\t\tvar start = Number(m[1]);\n\t\t\tvar comma = m[2];\n\t\t\tvar end = m[3];\n\n\t\t\tif (!comma) {\n\t\t\t\treturn [start, start];\n\t\t\t}\n\t\t\tif (!end) {\n\t\t\t\treturn [start, undefined];\n\t\t\t}\n\t\t\treturn [start, Number(end)];\n\t\t}\n\t\treturn undefined;\n\t}\n\n\tPrism.hooks.add('before-highlightall', function (env) {\n\t\tenv.selector += ', ' + SELECTOR;\n\t});\n\n\tPrism.hooks.add('before-sanity-check', function (env) {\n\t\tvar pre = /** @type {HTMLPreElement} */ (env.element);\n\t\tif (pre.matches(SELECTOR)) {\n\t\t\tenv.code = ''; // fast-path the whole thing and go to complete\n\n\t\t\tpre.setAttribute(STATUS_ATTR, STATUS_LOADING); // mark as loading\n\n\t\t\t// add code element with loading message\n\t\t\tvar code = pre.appendChild(document.createElement('CODE'));\n\t\t\tcode.textContent = LOADING_MESSAGE;\n\n\t\t\tvar src = pre.getAttribute('data-src');\n\n\t\t\tvar language = env.language;\n\t\t\tif (language === 'none') {\n\t\t\t\t// the language might be 'none' because there is no language set;\n\t\t\t\t// in this case, we want to use the extension as the language\n\t\t\t\tvar extension = (/\\.(\\w+)$/.exec(src) || [, 'none'])[1];\n\t\t\t\tlanguage = EXTENSIONS[extension] || extension;\n\t\t\t}\n\n\t\t\t// set language classes\n\t\t\tPrism.util.setLanguage(code, language);\n\t\t\tPrism.util.setLanguage(pre, language);\n\n\t\t\t// preload the language\n\t\t\tvar autoloader = Prism.plugins.autoloader;\n\t\t\tif (autoloader) {\n\t\t\t\tautoloader.loadLanguages(language);\n\t\t\t}\n\n\t\t\t// load file\n\t\t\tloadFile(\n\t\t\t\tsrc,\n\t\t\t\tfunction (text) {\n\t\t\t\t\t// mark as loaded\n\t\t\t\t\tpre.setAttribute(STATUS_ATTR, STATUS_LOADED);\n\n\t\t\t\t\t// handle data-range\n\t\t\t\t\tvar range = parseRange(pre.getAttribute('data-range'));\n\t\t\t\t\tif (range) {\n\t\t\t\t\t\tvar lines = text.split(/\\r\\n?|\\n/g);\n\n\t\t\t\t\t\t// the range is one-based and inclusive on both ends\n\t\t\t\t\t\tvar start = range[0];\n\t\t\t\t\t\tvar end = range[1] == null ? lines.length : range[1];\n\n\t\t\t\t\t\tif (start < 0) { start += lines.length; }\n\t\t\t\t\t\tstart = Math.max(0, Math.min(start - 1, lines.length));\n\t\t\t\t\t\tif (end < 0) { end += lines.length; }\n\t\t\t\t\t\tend = Math.max(0, Math.min(end, lines.length));\n\n\t\t\t\t\t\ttext = lines.slice(start, end).join('\\n');\n\n\t\t\t\t\t\t// add data-start for line numbers\n\t\t\t\t\t\tif (!pre.hasAttribute('data-start')) {\n\t\t\t\t\t\t\tpre.setAttribute('data-start', String(start + 1));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// highlight code\n\t\t\t\t\tcode.textContent = text;\n\t\t\t\t\tPrism.highlightElement(code);\n\t\t\t\t},\n\t\t\t\tfunction (error) {\n\t\t\t\t\t// mark as failed\n\t\t\t\t\tpre.setAttribute(STATUS_ATTR, STATUS_FAILED);\n\n\t\t\t\t\tcode.textContent = error;\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\t});\n\n\tPrism.plugins.fileHighlight = {\n\t\t/**\n\t\t * Executes the File Highlight plugin for all matching `pre` elements under the given container.\n\t\t *\n\t\t * Note: Elements which are already loaded or currently loading will not be touched by this method.\n\t\t *\n\t\t * @param {ParentNode} [container=document]\n\t\t */\n\t\thighlight: function highlight(container) {\n\t\t\tvar elements = (container || document).querySelectorAll(SELECTOR);\n\n\t\t\tfor (var i = 0, element; (element = elements[i++]);) {\n\t\t\t\tPrism.highlightElement(element);\n\t\t\t}\n\t\t}\n\t};\n\n\tvar logged = false;\n\t/** @deprecated Use `Prism.plugins.fileHighlight.highlight` instead. */\n\tPrism.fileHighlight = function () {\n\t\tif (!logged) {\n\t\t\tconsole.warn('Prism.fileHighlight is deprecated. Use `Prism.plugins.fileHighlight.highlight` instead.');\n\t\t\tlogged = true;\n\t\t}\n\t\tPrism.plugins.fileHighlight.highlight.apply(this, arguments);\n\t};\n\n}());\n","Prism.languages.python = {\n\t'comment': {\n\t\tpattern: /(^|[^\\\\])#.*/,\n\t\tlookbehind: true,\n\t\tgreedy: true\n\t},\n\t'string-interpolation': {\n\t\tpattern: /(?:f|fr|rf)(?:(\"\"\"|''')[\\s\\S]*?\\1|(\"|')(?:\\\\.|(?!\\2)[^\\\\\\r\\n])*\\2)/i,\n\t\tgreedy: true,\n\t\tinside: {\n\t\t\t'interpolation': {\n\t\t\t\t// \"{\" <expression> <optional \"!s\", \"!r\", or \"!a\"> <optional \":\" format specifier> \"}\"\n\t\t\t\tpattern: /((?:^|[^{])(?:\\{\\{)*)\\{(?!\\{)(?:[^{}]|\\{(?!\\{)(?:[^{}]|\\{(?!\\{)(?:[^{}])+\\})+\\})+\\}/,\n\t\t\t\tlookbehind: true,\n\t\t\t\tinside: {\n\t\t\t\t\t'format-spec': {\n\t\t\t\t\t\tpattern: /(:)[^:(){}]+(?=\\}$)/,\n\t\t\t\t\t\tlookbehind: true\n\t\t\t\t\t},\n\t\t\t\t\t'conversion-option': {\n\t\t\t\t\t\tpattern: /![sra](?=[:}]$)/,\n\t\t\t\t\t\talias: 'punctuation'\n\t\t\t\t\t},\n\t\t\t\t\trest: null\n\t\t\t\t}\n\t\t\t},\n\t\t\t'string': /[\\s\\S]+/\n\t\t}\n\t},\n\t'triple-quoted-string': {\n\t\tpattern: /(?:[rub]|br|rb)?(\"\"\"|''')[\\s\\S]*?\\1/i,\n\t\tgreedy: true,\n\t\talias: 'string'\n\t},\n\t'string': {\n\t\tpattern: /(?:[rub]|br|rb)?(\"|')(?:\\\\.|(?!\\1)[^\\\\\\r\\n])*\\1/i,\n\t\tgreedy: true\n\t},\n\t'function': {\n\t\tpattern: /((?:^|\\s)def[ \\t]+)[a-zA-Z_]\\w*(?=\\s*\\()/g,\n\t\tlookbehind: true\n\t},\n\t'class-name': {\n\t\tpattern: /(\\bclass\\s+)\\w+/i,\n\t\tlookbehind: true\n\t},\n\t'decorator': {\n\t\tpattern: /(^[\\t ]*)@\\w+(?:\\.\\w+)*/m,\n\t\tlookbehind: true,\n\t\talias: ['annotation', 'punctuation'],\n\t\tinside: {\n\t\t\t'punctuation': /\\./\n\t\t}\n\t},\n\t'keyword': /\\b(?:_(?=\\s*:)|and|as|assert|async|await|break|case|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|match|nonlocal|not|or|pass|print|raise|return|try|while|with|yield)\\b/,\n\t'builtin': /\\b(?:__import__|abs|all|any|apply|ascii|basestring|bin|bool|buffer|bytearray|bytes|callable|chr|classmethod|cmp|coerce|compile|complex|delattr|dict|dir|divmod|enumerate|eval|execfile|file|filter|float|format|frozenset|getattr|globals|hasattr|hash|help|hex|id|input|int|intern|isinstance|issubclass|iter|len|list|locals|long|map|max|memoryview|min|next|object|oct|open|ord|pow|property|range|raw_input|reduce|reload|repr|reversed|round|set|setattr|slice|sorted|staticmethod|str|sum|super|tuple|type|unichr|unicode|vars|xrange|zip)\\b/,\n\t'boolean': /\\b(?:False|None|True)\\b/,\n\t'number': /\\b0(?:b(?:_?[01])+|o(?:_?[0-7])+|x(?:_?[a-f0-9])+)\\b|(?:\\b\\d+(?:_\\d+)*(?:\\.(?:\\d+(?:_\\d+)*)?)?|\\B\\.\\d+(?:_\\d+)*)(?:e[+-]?\\d+(?:_\\d+)*)?j?(?!\\w)/i,\n\t'operator': /[-+%=]=?|!=|:=|\\*\\*?=?|\\/\\/?=?|<[<=>]?|>[=>]?|[&|^~]/,\n\t'punctuation': /[{}[\\];(),.:]/\n};\n\nPrism.languages.python['string-interpolation'].inside['interpolation'].inside.rest = Prism.languages.python;\n\nPrism.languages.py = Prism.languages.python;\n","(function (Prism) {\n\tvar funcPattern = /\\\\(?:[^a-z()[\\]]|[a-z*]+)/i;\n\tvar insideEqu = {\n\t\t'equation-command': {\n\t\t\tpattern: funcPattern,\n\t\t\talias: 'regex'\n\t\t}\n\t};\n\n\tPrism.languages.latex = {\n\t\t'comment': /%.*/,\n\t\t// the verbatim environment prints whitespace to the document\n\t\t'cdata': {\n\t\t\tpattern: /(\\\\begin\\{((?:lstlisting|verbatim)\\*?)\\})[\\s\\S]*?(?=\\\\end\\{\\2\\})/,\n\t\t\tlookbehind: true\n\t\t},\n\t\t/*\n\t\t * equations can be between $$ $$ or $ $ or \\( \\) or \\[ \\]\n\t\t * (all are multiline)\n\t\t */\n\t\t'equation': [\n\t\t\t{\n\t\t\t\tpattern: /\\$\\$(?:\\\\[\\s\\S]|[^\\\\$])+\\$\\$|\\$(?:\\\\[\\s\\S]|[^\\\\$])+\\$|\\\\\\([\\s\\S]*?\\\\\\)|\\\\\\[[\\s\\S]*?\\\\\\]/,\n\t\t\t\tinside: insideEqu,\n\t\t\t\talias: 'string'\n\t\t\t},\n\t\t\t{\n\t\t\t\tpattern: /(\\\\begin\\{((?:align|eqnarray|equation|gather|math|multline)\\*?)\\})[\\s\\S]*?(?=\\\\end\\{\\2\\})/,\n\t\t\t\tlookbehind: true,\n\t\t\t\tinside: insideEqu,\n\t\t\t\talias: 'string'\n\t\t\t}\n\t\t],\n\t\t/*\n\t\t * arguments which are keywords or references are highlighted\n\t\t * as keywords\n\t\t */\n\t\t'keyword': {\n\t\t\tpattern: /(\\\\(?:begin|cite|documentclass|end|label|ref|usepackage)(?:\\[[^\\]]+\\])?\\{)[^}]+(?=\\})/,\n\t\t\tlookbehind: true\n\t\t},\n\t\t'url': {\n\t\t\tpattern: /(\\\\url\\{)[^}]+(?=\\})/,\n\t\t\tlookbehind: true\n\t\t},\n\t\t/*\n\t\t * section or chapter headlines are highlighted as bold so that\n\t\t * they stand out more\n\t\t */\n\t\t'headline': {\n\t\t\tpattern: /(\\\\(?:chapter|frametitle|paragraph|part|section|subparagraph|subsection|subsubparagraph|subsubsection|subsubsubparagraph)\\*?(?:\\[[^\\]]+\\])?\\{)[^}]+(?=\\})/,\n\t\t\tlookbehind: true,\n\t\t\talias: 'class-name'\n\t\t},\n\t\t'function': {\n\t\t\tpattern: funcPattern,\n\t\t\talias: 'selector'\n\t\t},\n\t\t'punctuation': /[[\\]{}&]/\n\t};\n\n\tPrism.languages.tex = Prism.languages.latex;\n\tPrism.languages.context = Prism.languages.latex;\n}(Prism));\n","(function (Prism) {\n\t// $ set | grep '^[A-Z][^[:space:]]*=' | cut -d= -f1 | tr '\\n' '|'\n\t// + LC_ALL, RANDOM, REPLY, SECONDS.\n\t// + make sure PS1..4 are here as they are not always set,\n\t// - some useless things.\n\tvar envVars = '\\\\b(?:BASH|BASHOPTS|BASH_ALIASES|BASH_ARGC|BASH_ARGV|BASH_CMDS|BASH_COMPLETION_COMPAT_DIR|BASH_LINENO|BASH_REMATCH|BASH_SOURCE|BASH_VERSINFO|BASH_VERSION|COLORTERM|COLUMNS|COMP_WORDBREAKS|DBUS_SESSION_BUS_ADDRESS|DEFAULTS_PATH|DESKTOP_SESSION|DIRSTACK|DISPLAY|EUID|GDMSESSION|GDM_LANG|GNOME_KEYRING_CONTROL|GNOME_KEYRING_PID|GPG_AGENT_INFO|GROUPS|HISTCONTROL|HISTFILE|HISTFILESIZE|HISTSIZE|HOME|HOSTNAME|HOSTTYPE|IFS|INSTANCE|JOB|LANG|LANGUAGE|LC_ADDRESS|LC_ALL|LC_IDENTIFICATION|LC_MEASUREMENT|LC_MONETARY|LC_NAME|LC_NUMERIC|LC_PAPER|LC_TELEPHONE|LC_TIME|LESSCLOSE|LESSOPEN|LINES|LOGNAME|LS_COLORS|MACHTYPE|MAILCHECK|MANDATORY_PATH|NO_AT_BRIDGE|OLDPWD|OPTERR|OPTIND|ORBIT_SOCKETDIR|OSTYPE|PAPERSIZE|PATH|PIPESTATUS|PPID|PS1|PS2|PS3|PS4|PWD|RANDOM|REPLY|SECONDS|SELINUX_INIT|SESSION|SESSIONTYPE|SESSION_MANAGER|SHELL|SHELLOPTS|SHLVL|SSH_AUTH_SOCK|TERM|UID|UPSTART_EVENTS|UPSTART_INSTANCE|UPSTART_JOB|UPSTART_SESSION|USER|WINDOWID|XAUTHORITY|XDG_CONFIG_DIRS|XDG_CURRENT_DESKTOP|XDG_DATA_DIRS|XDG_GREETER_DATA_DIR|XDG_MENU_PREFIX|XDG_RUNTIME_DIR|XDG_SEAT|XDG_SEAT_PATH|XDG_SESSION_DESKTOP|XDG_SESSION_ID|XDG_SESSION_PATH|XDG_SESSION_TYPE|XDG_VTNR|XMODIFIERS)\\\\b';\n\n\tvar commandAfterHeredoc = {\n\t\tpattern: /(^([\"']?)\\w+\\2)[ \\t]+\\S.*/,\n\t\tlookbehind: true,\n\t\talias: 'punctuation', // this looks reasonably well in all themes\n\t\tinside: null // see below\n\t};\n\n\tvar insideString = {\n\t\t'bash': commandAfterHeredoc,\n\t\t'environment': {\n\t\t\tpattern: RegExp('\\\\$' + envVars),\n\t\t\talias: 'constant'\n\t\t},\n\t\t'variable': [\n\t\t\t// [0]: Arithmetic Environment\n\t\t\t{\n\t\t\t\tpattern: /\\$?\\(\\([\\s\\S]+?\\)\\)/,\n\t\t\t\tgreedy: true,\n\t\t\t\tinside: {\n\t\t\t\t\t// If there is a $ sign at the beginning highlight $(( and )) as variable\n\t\t\t\t\t'variable': [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tpattern: /(^\\$\\(\\([\\s\\S]+)\\)\\)/,\n\t\t\t\t\t\t\tlookbehind: true\n\t\t\t\t\t\t},\n\t\t\t\t\t\t/^\\$\\(\\(/\n\t\t\t\t\t],\n\t\t\t\t\t'number': /\\b0x[\\dA-Fa-f]+\\b|(?:\\b\\d+(?:\\.\\d*)?|\\B\\.\\d+)(?:[Ee]-?\\d+)?/,\n\t\t\t\t\t// Operators according to https://www.gnu.org/software/bash/manual/bashref.html#Shell-Arithmetic\n\t\t\t\t\t'operator': /--|\\+\\+|\\*\\*=?|<<=?|>>=?|&&|\\|\\||[=!+\\-*/%<>^&|]=?|[?~:]/,\n\t\t\t\t\t// If there is no $ sign at the beginning highlight (( and )) as punctuation\n\t\t\t\t\t'punctuation': /\\(\\(?|\\)\\)?|,|;/\n\t\t\t\t}\n\t\t\t},\n\t\t\t// [1]: Command Substitution\n\t\t\t{\n\t\t\t\tpattern: /\\$\\((?:\\([^)]+\\)|[^()])+\\)|`[^`]+`/,\n\t\t\t\tgreedy: true,\n\t\t\t\tinside: {\n\t\t\t\t\t'variable': /^\\$\\(|^`|\\)$|`$/\n\t\t\t\t}\n\t\t\t},\n\t\t\t// [2]: Brace expansion\n\t\t\t{\n\t\t\t\tpattern: /\\$\\{[^}]+\\}/,\n\t\t\t\tgreedy: true,\n\t\t\t\tinside: {\n\t\t\t\t\t'operator': /:[-=?+]?|[!\\/]|##?|%%?|\\^\\^?|,,?/,\n\t\t\t\t\t'punctuation': /[\\[\\]]/,\n\t\t\t\t\t'environment': {\n\t\t\t\t\t\tpattern: RegExp('(\\\\{)' + envVars),\n\t\t\t\t\t\tlookbehind: true,\n\t\t\t\t\t\talias: 'constant'\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\t/\\$(?:\\w+|[#?*!@$])/\n\t\t],\n\t\t// Escape sequences from echo and printf's manuals, and escaped quotes.\n\t\t'entity': /\\\\(?:[abceEfnrtv\\\\\"]|O?[0-7]{1,3}|U[0-9a-fA-F]{8}|u[0-9a-fA-F]{4}|x[0-9a-fA-F]{1,2})/\n\t};\n\n\tPrism.languages.bash = {\n\t\t'shebang': {\n\t\t\tpattern: /^#!\\s*\\/.*/,\n\t\t\talias: 'important'\n\t\t},\n\t\t'comment': {\n\t\t\tpattern: /(^|[^\"{\\\\$])#.*/,\n\t\t\tlookbehind: true\n\t\t},\n\t\t'function-name': [\n\t\t\t// a) function foo {\n\t\t\t// b) foo() {\n\t\t\t// c) function foo() {\n\t\t\t// but not foo {\n\t\t\t{\n\t\t\t\t// a) and c)\n\t\t\t\tpattern: /(\\bfunction\\s+)[\\w-]+(?=(?:\\s*\\(?:\\s*\\))?\\s*\\{)/,\n\t\t\t\tlookbehind: true,\n\t\t\t\talias: 'function'\n\t\t\t},\n\t\t\t{\n\t\t\t\t// b)\n\t\t\t\tpattern: /\\b[\\w-]+(?=\\s*\\(\\s*\\)\\s*\\{)/,\n\t\t\t\talias: 'function'\n\t\t\t}\n\t\t],\n\t\t// Highlight variable names as variables in for and select beginnings.\n\t\t'for-or-select': {\n\t\t\tpattern: /(\\b(?:for|select)\\s+)\\w+(?=\\s+in\\s)/,\n\t\t\talias: 'variable',\n\t\t\tlookbehind: true\n\t\t},\n\t\t// Highlight variable names as variables in the left-hand part\n\t\t// of assignments (= and +=).\n\t\t'assign-left': {\n\t\t\tpattern: /(^|[\\s;|&]|[<>]\\()\\w+(?:\\.\\w+)*(?=\\+?=)/,\n\t\t\tinside: {\n\t\t\t\t'environment': {\n\t\t\t\t\tpattern: RegExp('(^|[\\\\s;|&]|[<>]\\\\()' + envVars),\n\t\t\t\t\tlookbehind: true,\n\t\t\t\t\talias: 'constant'\n\t\t\t\t}\n\t\t\t},\n\t\t\talias: 'variable',\n\t\t\tlookbehind: true\n\t\t},\n\t\t// Highlight parameter names as variables\n\t\t'parameter': {\n\t\t\tpattern: /(^|\\s)-{1,2}(?:\\w+:[+-]?)?\\w+(?:\\.\\w+)*(?=[=\\s]|$)/,\n\t\t\talias: 'variable',\n\t\t\tlookbehind: true\n\t\t},\n\t\t'string': [\n\t\t\t// Support for Here-documents https://en.wikipedia.org/wiki/Here_document\n\t\t\t{\n\t\t\t\tpattern: /((?:^|[^<])<<-?\\s*)(\\w+)\\s[\\s\\S]*?(?:\\r?\\n|\\r)\\2/,\n\t\t\t\tlookbehind: true,\n\t\t\t\tgreedy: true,\n\t\t\t\tinside: insideString\n\t\t\t},\n\t\t\t// Here-document with quotes around the tag\n\t\t\t//  No expansion (so no inside).\n\t\t\t{\n\t\t\t\tpattern: /((?:^|[^<])<<-?\\s*)([\"'])(\\w+)\\2\\s[\\s\\S]*?(?:\\r?\\n|\\r)\\3/,\n\t\t\t\tlookbehind: true,\n\t\t\t\tgreedy: true,\n\t\t\t\tinside: {\n\t\t\t\t\t'bash': commandAfterHeredoc\n\t\t\t\t}\n\t\t\t},\n\t\t\t// Normal string\n\t\t\t{\n\t\t\t\t// https://www.gnu.org/software/bash/manual/html_node/Double-Quotes.html\n\t\t\t\tpattern: /(^|[^\\\\](?:\\\\\\\\)*)\"(?:\\\\[\\s\\S]|\\$\\([^)]+\\)|\\$(?!\\()|`[^`]+`|[^\"\\\\`$])*\"/,\n\t\t\t\tlookbehind: true,\n\t\t\t\tgreedy: true,\n\t\t\t\tinside: insideString\n\t\t\t},\n\t\t\t{\n\t\t\t\t// https://www.gnu.org/software/bash/manual/html_node/Single-Quotes.html\n\t\t\t\tpattern: /(^|[^$\\\\])'[^']*'/,\n\t\t\t\tlookbehind: true,\n\t\t\t\tgreedy: true\n\t\t\t},\n\t\t\t{\n\t\t\t\t// https://www.gnu.org/software/bash/manual/html_node/ANSI_002dC-Quoting.html\n\t\t\t\tpattern: /\\$'(?:[^'\\\\]|\\\\[\\s\\S])*'/,\n\t\t\t\tgreedy: true,\n\t\t\t\tinside: {\n\t\t\t\t\t'entity': insideString.entity\n\t\t\t\t}\n\t\t\t}\n\t\t],\n\t\t'environment': {\n\t\t\tpattern: RegExp('\\\\$?' + envVars),\n\t\t\talias: 'constant'\n\t\t},\n\t\t'variable': insideString.variable,\n\t\t'function': {\n\t\t\tpattern: /(^|[\\s;|&]|[<>]\\()(?:add|apropos|apt|apt-cache|apt-get|aptitude|aspell|automysqlbackup|awk|basename|bash|bc|bconsole|bg|bzip2|cal|cargo|cat|cfdisk|chgrp|chkconfig|chmod|chown|chroot|cksum|clear|cmp|column|comm|composer|cp|cron|crontab|csplit|curl|cut|date|dc|dd|ddrescue|debootstrap|df|diff|diff3|dig|dir|dircolors|dirname|dirs|dmesg|docker|docker-compose|du|egrep|eject|env|ethtool|expand|expect|expr|fdformat|fdisk|fg|fgrep|file|find|fmt|fold|format|free|fsck|ftp|fuser|gawk|git|gparted|grep|groupadd|groupdel|groupmod|groups|grub-mkconfig|gzip|halt|head|hg|history|host|hostname|htop|iconv|id|ifconfig|ifdown|ifup|import|install|ip|java|jobs|join|kill|killall|less|link|ln|locate|logname|logrotate|look|lpc|lpr|lprint|lprintd|lprintq|lprm|ls|lsof|lynx|make|man|mc|mdadm|mkconfig|mkdir|mke2fs|mkfifo|mkfs|mkisofs|mknod|mkswap|mmv|more|most|mount|mtools|mtr|mutt|mv|nano|nc|netstat|nice|nl|node|nohup|notify-send|npm|nslookup|op|open|parted|passwd|paste|pathchk|ping|pkill|pnpm|podman|podman-compose|popd|pr|printcap|printenv|ps|pushd|pv|quota|quotacheck|quotactl|ram|rar|rcp|reboot|remsync|rename|renice|rev|rm|rmdir|rpm|rsync|scp|screen|sdiff|sed|sendmail|seq|service|sftp|sh|shellcheck|shuf|shutdown|sleep|slocate|sort|split|ssh|stat|strace|su|sudo|sum|suspend|swapon|sync|sysctl|tac|tail|tar|tee|time|timeout|top|touch|tr|traceroute|tsort|tty|umount|uname|unexpand|uniq|units|unrar|unshar|unzip|update-grub|uptime|useradd|userdel|usermod|users|uudecode|uuencode|v|vcpkg|vdir|vi|vim|virsh|vmstat|wait|watch|wc|wget|whereis|which|who|whoami|write|xargs|xdg-open|yarn|yes|zenity|zip|zsh|zypper)(?=$|[)\\s;|&])/,\n\t\t\tlookbehind: true\n\t\t},\n\t\t'keyword': {\n\t\t\tpattern: /(^|[\\s;|&]|[<>]\\()(?:case|do|done|elif|else|esac|fi|for|function|if|in|select|then|until|while)(?=$|[)\\s;|&])/,\n\t\t\tlookbehind: true\n\t\t},\n\t\t// https://www.gnu.org/software/bash/manual/html_node/Shell-Builtin-Commands.html\n\t\t'builtin': {\n\t\t\tpattern: /(^|[\\s;|&]|[<>]\\()(?:\\.|:|alias|bind|break|builtin|caller|cd|command|continue|declare|echo|enable|eval|exec|exit|export|getopts|hash|help|let|local|logout|mapfile|printf|pwd|read|readarray|readonly|return|set|shift|shopt|source|test|times|trap|type|typeset|ulimit|umask|unalias|unset)(?=$|[)\\s;|&])/,\n\t\t\tlookbehind: true,\n\t\t\t// Alias added to make those easier to distinguish from strings.\n\t\t\talias: 'class-name'\n\t\t},\n\t\t'boolean': {\n\t\t\tpattern: /(^|[\\s;|&]|[<>]\\()(?:false|true)(?=$|[)\\s;|&])/,\n\t\t\tlookbehind: true\n\t\t},\n\t\t'file-descriptor': {\n\t\t\tpattern: /\\B&\\d\\b/,\n\t\t\talias: 'important'\n\t\t},\n\t\t'operator': {\n\t\t\t// Lots of redirections here, but not just that.\n\t\t\tpattern: /\\d?<>|>\\||\\+=|=[=~]?|!=?|<<[<-]?|[&\\d]?>>|\\d[<>]&?|[<>][&=]?|&[>&]?|\\|[&|]?/,\n\t\t\tinside: {\n\t\t\t\t'file-descriptor': {\n\t\t\t\t\tpattern: /^\\d/,\n\t\t\t\t\talias: 'important'\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t'punctuation': /\\$?\\(\\(?|\\)\\)?|\\.\\.|[{}[\\];\\\\]/,\n\t\t'number': {\n\t\t\tpattern: /(^|\\s)(?:[1-9]\\d*|0)(?:[.,]\\d+)?\\b/,\n\t\t\tlookbehind: true\n\t\t}\n\t};\n\n\tcommandAfterHeredoc.inside = Prism.languages.bash;\n\n\t/* Patterns in command substitution. */\n\tvar toBeCopied = [\n\t\t'comment',\n\t\t'function-name',\n\t\t'for-or-select',\n\t\t'assign-left',\n\t\t'parameter',\n\t\t'string',\n\t\t'environment',\n\t\t'function',\n\t\t'keyword',\n\t\t'builtin',\n\t\t'boolean',\n\t\t'file-descriptor',\n\t\t'operator',\n\t\t'punctuation',\n\t\t'number'\n\t];\n\tvar inside = insideString.variable[1].inside;\n\tfor (var i = 0; i < toBeCopied.length; i++) {\n\t\tinside[toBeCopied[i]] = Prism.languages.bash[toBeCopied[i]];\n\t}\n\n\tPrism.languages.sh = Prism.languages.bash;\n\tPrism.languages.shell = Prism.languages.bash;\n}(Prism));\n","import { type Renderer, Marked } from \"marked\";\nimport { markedHighlight } from \"marked-highlight\";\nimport { gfmHeadingId } from \"marked-gfm-heading-id\";\nimport * as Prism from \"prismjs\";\nimport \"prismjs/components/prism-python\";\nimport \"prismjs/components/prism-latex\";\nimport \"prismjs/components/prism-bash\";\nimport GithubSlugger from \"github-slugger\";\n\n// import loadLanguages from \"prismjs/components/\";\n\n// loadLanguages([\"python\", \"latex\"]);\n\nconst LINK_ICON_CODE = `<svg class=\"md-link-icon\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\" fill=\"currentColor\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg>`;\n\nconst COPY_ICON_CODE = `\n<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15 15\" color=\"currentColor\" aria-hidden=\"true\" aria-label=\"Copy\" stroke-width=\"1.3\" width=\"15\" height=\"15\">\n  <path fill=\"currentColor\" d=\"M12.728 4.545v8.182H4.545V4.545zm0 -0.909H4.545a0.909 0.909 0 0 0 -0.909 0.909v8.182a0.909 0.909 0 0 0 0.909 0.909h8.182a0.909 0.909 0 0 0 0.909 -0.909V4.545a0.909 0.909 0 0 0 -0.909 -0.909\"/>\n  <path fill=\"currentColor\" d=\"M1.818 8.182H0.909V1.818a0.909 0.909 0 0 1 0.909 -0.909h6.364v0.909H1.818Z\"/>\n</svg>\n\n`;\n\nconst CHECK_ICON_CODE = `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"17\" height=\"17\" viewBox=\"0 0 17 17\" aria-hidden=\"true\" aria-label=\"Copied\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"1.3\">\n  <path d=\"m13.813 4.781 -7.438 7.438 -3.188 -3.188\"/>\n</svg>\n`;\n\nconst COPY_BUTTON_CODE = `<button title=\"copy\" class=\"copy_code_button\">\n  <span class=\"copy-text\">${COPY_ICON_CODE}</span>\n  <span class=\"check\">${CHECK_ICON_CODE}</span>\n</button>`;\n\nconst escape_test = /[&<>\"']/;\nconst escape_replace = new RegExp(escape_test.source, \"g\");\nconst escape_test_no_encode =\n\t/[<>\"']|&(?!(#\\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\\w+);)/;\nconst escape_replace_no_encode = new RegExp(escape_test_no_encode.source, \"g\");\nconst escape_replacements: Record<string, any> = {\n\t\"&\": \"&amp;\",\n\t\"<\": \"&lt;\",\n\t\">\": \"&gt;\",\n\t'\"': \"&quot;\",\n\t\"'\": \"&#39;\"\n};\n\nconst get_escape_replacement = (ch: string): string =>\n\tescape_replacements[ch] || \"\";\n\nfunction escape(html: string, encode?: boolean): string {\n\tif (encode) {\n\t\tif (escape_test.test(html)) {\n\t\t\treturn html.replace(escape_replace, get_escape_replacement);\n\t\t}\n\t} else {\n\t\tif (escape_test_no_encode.test(html)) {\n\t\t\treturn html.replace(escape_replace_no_encode, get_escape_replacement);\n\t\t}\n\t}\n\n\treturn html;\n}\ninterface Tokenizer {\n\tname: string;\n\tlevel: string;\n\tstart: (src: string) => number | undefined;\n\ttokenizer: (src: string, tokens: any) => any;\n\trenderer: (token: any) => string;\n}\n\nfunction createLatexTokenizer(\n\tdelimiters: { left: string; right: string; display: boolean }[]\n): Tokenizer {\n\tconst delimiterPatterns = delimiters.map((delimiter) => ({\n\t\tstart: new RegExp(delimiter.left.replace(/[-\\/\\\\^$*+?.()|[\\]{}]/g, \"\\\\$&\")),\n\t\tend: new RegExp(delimiter.right.replace(/[-\\/\\\\^$*+?.()|[\\]{}]/g, \"\\\\$&\"))\n\t}));\n\n\treturn {\n\t\tname: \"latex\",\n\t\tlevel: \"block\",\n\t\tstart(src: string) {\n\t\t\tfor (const pattern of delimiterPatterns) {\n\t\t\t\tconst match = src.match(pattern.start);\n\t\t\t\tif (match) {\n\t\t\t\t\treturn match.index;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn -1;\n\t\t},\n\t\ttokenizer(src: string, tokens: any) {\n\t\t\tfor (const pattern of delimiterPatterns) {\n\t\t\t\tconst match = new RegExp(\n\t\t\t\t\t`${pattern.start.source}([\\\\s\\\\S]+?)${pattern.end.source}`\n\t\t\t\t).exec(src);\n\t\t\t\tif (match) {\n\t\t\t\t\treturn {\n\t\t\t\t\t\ttype: \"latex\",\n\t\t\t\t\t\traw: match[0],\n\t\t\t\t\t\ttext: match[1].trim()\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\trenderer(token: any) {\n\t\t\treturn `<div class=\"latex-block\">${token.text}</div>`;\n\t\t}\n\t};\n}\n\nfunction createMermaidTokenizer(): Tokenizer {\n\treturn {\n\t\tname: \"mermaid\",\n\t\tlevel: \"block\",\n\t\tstart(src) {\n\t\t\treturn src.match(/^```mermaid\\s*\\n/)?.index;\n\t\t},\n\t\ttokenizer(src) {\n\t\t\tconst match = /^```mermaid\\s*\\n([\\s\\S]*?)```\\s*(?:\\n|$)/.exec(src);\n\t\t\tif (match) {\n\t\t\t\treturn {\n\t\t\t\t\ttype: \"mermaid\",\n\t\t\t\t\traw: match[0],\n\t\t\t\t\ttext: match[1].trim()\n\t\t\t\t};\n\t\t\t}\n\t\t\treturn undefined;\n\t\t},\n\t\trenderer(token) {\n\t\t\treturn `<div class=\"mermaid\">${token.text}</div>\\n`;\n\t\t}\n\t};\n}\n\nconst renderer: Partial<Omit<Renderer, \"constructor\" | \"options\">> = {\n\tcode(\n\t\tthis: Renderer,\n\t\tcode: string,\n\t\tinfostring: string | undefined,\n\t\tescaped: boolean\n\t) {\n\t\tconst lang = (infostring ?? \"\").match(/\\S*/)?.[0] ?? \"\";\n\t\tcode = code.replace(/\\n$/, \"\") + \"\\n\";\n\n\t\tif (!lang || lang === \"mermaid\") {\n\t\t\t// We include lang === \"mermaid\" to handle mermaid blocks that don't match our custom tokenizer\n\t\t\t// (i.e., those without closing ```). This handles mermaid blocks that have started streaming\n\t\t\t// but haven't finished yet.\n\t\t\treturn (\n\t\t\t\t'<div class=\"code_wrap\">' +\n\t\t\t\tCOPY_BUTTON_CODE +\n\t\t\t\t\"<pre><code>\" +\n\t\t\t\t(escaped ? code : escape(code, true)) +\n\t\t\t\t\"</code></pre></div>\\n\"\n\t\t\t);\n\t\t}\n\t\treturn (\n\t\t\t'<div class=\"code_wrap\">' +\n\t\t\tCOPY_BUTTON_CODE +\n\t\t\t'<pre><code class=\"' +\n\t\t\t\"language-\" +\n\t\t\tescape(lang) +\n\t\t\t'\">' +\n\t\t\t(escaped ? code : escape(code, true)) +\n\t\t\t\"</code></pre></div>\\n\"\n\t\t);\n\t}\n};\n\nconst slugger = new GithubSlugger();\n\nexport function create_marked({\n\theader_links,\n\tline_breaks,\n\tlatex_delimiters\n}: {\n\theader_links: boolean;\n\tline_breaks: boolean;\n\tlatex_delimiters: { left: string; right: string; display: boolean }[];\n}): typeof marked {\n\tconst marked = new Marked();\n\n\tmarked.use(\n\t\t{\n\t\t\tgfm: true,\n\t\t\tpedantic: false,\n\t\t\tbreaks: line_breaks\n\t\t},\n\t\tmarkedHighlight({\n\t\t\thighlight: (code: string, lang: string) => {\n\t\t\t\tif (Prism?.languages?.[lang]) {\n\t\t\t\t\treturn Prism.highlight(code, Prism.languages[lang], lang);\n\t\t\t\t}\n\t\t\t\treturn code;\n\t\t\t}\n\t\t}),\n\t\t{ renderer }\n\t);\n\n\tif (header_links) {\n\t\tmarked.use(gfmHeadingId());\n\t\tmarked.use({\n\t\t\textensions: [\n\t\t\t\t{\n\t\t\t\t\tname: \"heading\",\n\t\t\t\t\tlevel: \"block\",\n\t\t\t\t\trenderer(token) {\n\t\t\t\t\t\tconst raw = token.raw\n\t\t\t\t\t\t\t.toLowerCase()\n\t\t\t\t\t\t\t.trim()\n\t\t\t\t\t\t\t.replace(/<[!\\/a-z].*?>/gi, \"\");\n\t\t\t\t\t\tconst id = \"h\" + slugger.slug(raw);\n\t\t\t\t\t\tconst level = token.depth;\n\t\t\t\t\t\tconst text = this.parser.parseInline(token.tokens!);\n\n\t\t\t\t\t\treturn `<h${level} id=\"${id}\"><a class=\"md-header-anchor\" href=\"#${id}\">${LINK_ICON_CODE}</a>${text}</h${level}>\\n`;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t]\n\t\t});\n\t}\n\n\tconst mermaidTokenizer = createMermaidTokenizer();\n\tconst latexTokenizer = createLatexTokenizer(latex_delimiters);\n\n\tmarked.use({\n\t\textensions: [mermaidTokenizer, latexTokenizer]\n\t});\n\n\treturn marked;\n}\n\nexport function copy(node: HTMLDivElement): any {\n\tnode.addEventListener(\"click\", handle_copy);\n\n\tasync function handle_copy(event: MouseEvent): Promise<void> {\n\t\tconst path = event.composedPath() as HTMLButtonElement[];\n\n\t\tconst [copy_button] = path.filter(\n\t\t\t(e) => e?.tagName === \"BUTTON\" && e.classList.contains(\"copy_code_button\")\n\t\t);\n\n\t\tif (copy_button) {\n\t\t\tevent.stopImmediatePropagation();\n\n\t\t\tconst copy_text = copy_button.parentElement!.innerText.trim();\n\t\t\tconst copy_sucess_button = Array.from(\n\t\t\t\tcopy_button.children\n\t\t\t)[1] as HTMLDivElement;\n\n\t\t\tconst copied = await copy_to_clipboard(copy_text);\n\n\t\t\tif (copied) copy_feedback(copy_sucess_button);\n\n\t\t\tfunction copy_feedback(_copy_sucess_button: HTMLDivElement): void {\n\t\t\t\t_copy_sucess_button.style.opacity = \"1\";\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t_copy_sucess_button.style.opacity = \"0\";\n\t\t\t\t}, 2000);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn {\n\t\tdestroy(): void {\n\t\t\tnode.removeEventListener(\"click\", handle_copy);\n\t\t}\n\t};\n}\n\nasync function copy_to_clipboard(value: string): Promise<boolean> {\n\tlet copied = false;\n\tif (\"clipboard\" in navigator) {\n\t\tawait navigator.clipboard.writeText(value);\n\t\tcopied = true;\n\t} else {\n\t\tconst textArea = document.createElement(\"textarea\");\n\t\ttextArea.value = value;\n\n\t\ttextArea.style.position = \"absolute\";\n\t\ttextArea.style.left = \"-999999px\";\n\n\t\tdocument.body.prepend(textArea);\n\t\ttextArea.select();\n\n\t\ttry {\n\t\t\tdocument.execCommand(\"copy\");\n\t\t\tcopied = true;\n\t\t} catch (error) {\n\t\t\tconsole.error(error);\n\t\t\tcopied = false;\n\t\t} finally {\n\t\t\ttextArea.remove();\n\t\t}\n\t}\n\n\treturn copied;\n}\n","/* IMPORT */\nimport { FUNKY_TAG_NAMES } from './constants.js';\n/* MAIN */\nconst cloneDeep = (value) => {\n    return JSON.parse(JSON.stringify(value));\n};\nconst isElement = (value) => {\n    return (value.nodeType === 1);\n};\nconst isElementFunky = (value) => {\n    return FUNKY_TAG_NAMES.has(value.tagName);\n};\nconst isElementAction = (value) => {\n    return ('action' in value);\n};\nconst isElementIframe = (value) => {\n    return (value.tagName === 'IFRAME');\n};\nconst isElementFormAction = (value) => {\n    return ('formAction' in value);\n};\nconst isElementHyperlink = (value) => {\n    return ('protocol' in value);\n};\nconst isScriptOrDataUrl = (() => {\n    const re = /^(?:\\w+script|data):/i;\n    return (url) => {\n        return re.test(url);\n    };\n})();\nconst isScriptOrDataUrlLoose = (() => {\n    const re = /(?:script|data):/i;\n    return (url) => {\n        return re.test(url);\n    };\n})();\nconst mergeMaps = (maps) => {\n    const merged = {};\n    for (let i = 0, l = maps.length; i < l; i++) {\n        const map = maps[i];\n        for (const key in map) {\n            if (!merged[key]) {\n                merged[key] = map[key];\n            }\n            else {\n                merged[key] = merged[key].concat(map[key]);\n            }\n        }\n    }\n    return merged;\n};\nconst traverseElementsBasic = (parent, callback) => {\n    let current = parent.firstChild;\n    while (current) {\n        const next = current.nextSibling;\n        if (isElement(current)) {\n            callback(current, parent);\n            if (current.parentNode) { // Still connected, so recurse\n                traverseElementsBasic(current, callback);\n            }\n        }\n        current = next;\n    }\n};\nconst traverseElementsIterator = (parent, callback) => {\n    const iterator = document.createNodeIterator(parent, NodeFilter.SHOW_ELEMENT);\n    let current;\n    while (current = iterator.nextNode()) {\n        const parent = current.parentNode;\n        if (!parent)\n            continue;\n        callback(current, parent); //TSC\n    }\n};\nconst traverseElements = (parent, callback) => {\n    const hasIterator = !!globalThis.document && !!globalThis.document.createNodeIterator; // For better WebWorker support\n    if (hasIterator) {\n        return traverseElementsIterator(parent, callback);\n    }\n    else {\n        return traverseElementsBasic(parent, callback);\n    }\n};\n/* EXPORT */\nexport { cloneDeep, isElement, isElementFunky, isElementAction, isElementIframe, isElementFormAction, isElementHyperlink, isScriptOrDataUrl, isScriptOrDataUrlLoose, mergeMaps, traverseElements };\n","/* IMPORT */\nimport { mergeMaps } from './utils.js';\n/* ELEMENTS */\nconst HTML_ELEMENTS_ALLOW = [\n    'a',\n    'abbr',\n    'acronym',\n    'address',\n    'area',\n    'article',\n    'aside',\n    'audio',\n    'b',\n    'bdi',\n    'bdo',\n    'bgsound',\n    'big',\n    'blockquote',\n    'body',\n    'br',\n    'button',\n    'canvas',\n    'caption',\n    'center',\n    'cite',\n    'code',\n    'col',\n    'colgroup',\n    'datalist',\n    'dd',\n    'del',\n    'details',\n    'dfn',\n    'dialog',\n    'dir',\n    'div',\n    'dl',\n    'dt',\n    'em',\n    'fieldset',\n    'figcaption',\n    'figure',\n    'font',\n    'footer',\n    'form',\n    'h1',\n    'h2',\n    'h3',\n    'h4',\n    'h5',\n    'h6',\n    'head',\n    'header',\n    'hgroup',\n    'hr',\n    'html',\n    'i',\n    'img',\n    'input',\n    'ins',\n    'kbd',\n    'keygen',\n    'label',\n    'layer',\n    'legend',\n    'li',\n    'link',\n    'listing',\n    'main',\n    'map',\n    'mark',\n    'marquee',\n    'menu',\n    'meta',\n    'meter',\n    'nav',\n    'nobr',\n    'ol',\n    'optgroup',\n    'option',\n    'output',\n    'p',\n    'picture',\n    'popup',\n    'pre',\n    'progress',\n    'q',\n    'rb',\n    'rp',\n    'rt',\n    'rtc',\n    'ruby',\n    's',\n    'samp',\n    'section',\n    'select',\n    'selectmenu',\n    'small',\n    'source',\n    'span',\n    'strike',\n    'strong',\n    'style',\n    'sub',\n    'summary',\n    'sup',\n    'table',\n    'tbody',\n    'td',\n    'tfoot',\n    'th',\n    'thead',\n    'time',\n    'tr',\n    'track',\n    'tt',\n    'u',\n    'ul',\n    'var',\n    'video',\n    'wbr'\n];\nconst HTML_ELEMENTS_DISALLOW = [\n    'basefont',\n    'command',\n    'data',\n    'iframe',\n    'image',\n    'plaintext',\n    'portal',\n    'slot',\n    // 'template', //TODO: Not exactly correct to never allow this, too strict\n    'textarea',\n    'title',\n    'xmp'\n];\nconst HTML_ELEMENTS = new Set([\n    ...HTML_ELEMENTS_ALLOW,\n    ...HTML_ELEMENTS_DISALLOW\n]);\nconst SVG_ELEMENTS_ALLOW = [\n    'svg',\n    'a',\n    'altglyph',\n    'altglyphdef',\n    'altglyphitem',\n    'animatecolor',\n    'animatemotion',\n    'animatetransform',\n    'circle',\n    'clippath',\n    'defs',\n    'desc',\n    'ellipse',\n    'filter',\n    'font',\n    'g',\n    'glyph',\n    'glyphref',\n    'hkern',\n    'image',\n    'line',\n    'lineargradient',\n    'marker',\n    'mask',\n    'metadata',\n    'mpath',\n    'path',\n    'pattern',\n    'polygon',\n    'polyline',\n    'radialgradient',\n    'rect',\n    'stop',\n    'style',\n    'switch',\n    'symbol',\n    'text',\n    'textpath',\n    'title',\n    'tref',\n    'tspan',\n    'view',\n    'vkern',\n    /* FILTERS */\n    'feBlend',\n    'feColorMatrix',\n    'feComponentTransfer',\n    'feComposite',\n    'feConvolveMatrix',\n    'feDiffuseLighting',\n    'feDisplacementMap',\n    'feDistantLight',\n    'feFlood',\n    'feFuncA',\n    'feFuncB',\n    'feFuncG',\n    'feFuncR',\n    'feGaussianBlur',\n    'feImage',\n    'feMerge',\n    'feMergeNode',\n    'feMorphology',\n    'feOffset',\n    'fePointLight',\n    'feSpecularLighting',\n    'feSpotLight',\n    'feTile',\n    'feTurbulence'\n];\nconst SVG_ELEMENTS_DISALLOW = [\n    'animate',\n    'color-profile',\n    'cursor',\n    'discard',\n    'fedropshadow',\n    'font-face',\n    'font-face-format',\n    'font-face-name',\n    'font-face-src',\n    'font-face-uri',\n    'foreignobject',\n    'hatch',\n    'hatchpath',\n    'mesh',\n    'meshgradient',\n    'meshpatch',\n    'meshrow',\n    'missing-glyph',\n    'script',\n    'set',\n    'solidcolor',\n    'unknown',\n    'use'\n];\nconst SVG_ELEMENTS = new Set([\n    ...SVG_ELEMENTS_ALLOW,\n    ...SVG_ELEMENTS_DISALLOW\n]);\nconst MATH_ELEMENTS_ALLOW = [\n    'math',\n    'menclose',\n    'merror',\n    'mfenced',\n    'mfrac',\n    'mglyph',\n    'mi',\n    'mlabeledtr',\n    'mmultiscripts',\n    'mn',\n    'mo',\n    'mover',\n    'mpadded',\n    'mphantom',\n    'mroot',\n    'mrow',\n    'ms',\n    'mspace',\n    'msqrt',\n    'mstyle',\n    'msub',\n    'msup',\n    'msubsup',\n    'mtable',\n    'mtd',\n    'mtext',\n    'mtr',\n    'munder',\n    'munderover'\n];\nconst MATH_ELEMENTS_DISALLOW = [\n    'maction',\n    'maligngroup',\n    'malignmark',\n    'mlongdiv',\n    'mscarries',\n    'mscarry',\n    'msgroup',\n    'mstack',\n    'msline',\n    'msrow',\n    'semantics',\n    'annotation',\n    'annotation-xml',\n    'mprescripts',\n    'none'\n];\nconst MATH_ELEMENTS = new Set([\n    ...MATH_ELEMENTS_ALLOW,\n    ...MATH_ELEMENTS_DISALLOW\n]);\n/* ATTRIBUTES */\nconst HTML_ATTRIBUTES_ALLOW = [\n    'abbr',\n    'accept',\n    'accept-charset',\n    'accesskey',\n    'action',\n    'align',\n    'alink',\n    'allow',\n    'allowfullscreen',\n    'alt',\n    'anchor',\n    'archive',\n    'as',\n    'async',\n    'autocapitalize',\n    'autocomplete',\n    'autocorrect',\n    'autofocus',\n    'autopictureinpicture',\n    'autoplay',\n    'axis',\n    'background',\n    'behavior',\n    'bgcolor',\n    'border',\n    'bordercolor',\n    'capture',\n    'cellpadding',\n    'cellspacing',\n    'challenge',\n    'char',\n    'charoff',\n    'charset',\n    'checked',\n    'cite',\n    'class',\n    'classid',\n    'clear',\n    'code',\n    'codebase',\n    'codetype',\n    'color',\n    'cols',\n    'colspan',\n    'compact',\n    'content',\n    'contenteditable',\n    'controls',\n    'controlslist',\n    'conversiondestination',\n    'coords',\n    'crossorigin',\n    'csp',\n    'data',\n    'datetime',\n    'declare',\n    'decoding',\n    'default',\n    'defer',\n    'dir',\n    'direction',\n    'dirname',\n    'disabled',\n    'disablepictureinpicture',\n    'disableremoteplayback',\n    'disallowdocumentaccess',\n    'download',\n    'draggable',\n    'elementtiming',\n    'enctype',\n    'end',\n    'enterkeyhint',\n    'event',\n    'exportparts',\n    'face',\n    'for',\n    'form',\n    'formaction',\n    'formenctype',\n    'formmethod',\n    'formnovalidate',\n    'formtarget',\n    'frame',\n    'frameborder',\n    'headers',\n    'height',\n    'hidden',\n    'high',\n    'href',\n    'hreflang',\n    'hreftranslate',\n    'hspace',\n    'http-equiv',\n    'id',\n    'imagesizes',\n    'imagesrcset',\n    'importance',\n    'impressiondata',\n    'impressionexpiry',\n    'incremental',\n    'inert',\n    'inputmode',\n    'integrity',\n    'invisible',\n    'ismap',\n    'keytype',\n    'kind',\n    'label',\n    'lang',\n    'language',\n    'latencyhint',\n    'leftmargin',\n    'link',\n    'list',\n    'loading',\n    'longdesc',\n    'loop',\n    'low',\n    'lowsrc',\n    'manifest',\n    'marginheight',\n    'marginwidth',\n    'max',\n    'maxlength',\n    'mayscript',\n    'media',\n    'method',\n    'min',\n    'minlength',\n    'multiple',\n    'muted',\n    'name',\n    'nohref',\n    'nomodule',\n    'nonce',\n    'noresize',\n    'noshade',\n    'novalidate',\n    'nowrap',\n    'object',\n    'open',\n    'optimum',\n    'part',\n    'pattern',\n    'ping',\n    'placeholder',\n    'playsinline',\n    'policy',\n    'poster',\n    'preload',\n    'pseudo',\n    'readonly',\n    'referrerpolicy',\n    'rel',\n    'reportingorigin',\n    'required',\n    'resources',\n    'rev',\n    'reversed',\n    'role',\n    'rows',\n    'rowspan',\n    'rules',\n    'sandbox',\n    'scheme',\n    'scope',\n    'scopes',\n    'scrollamount',\n    'scrolldelay',\n    'scrolling',\n    'select',\n    'selected',\n    'shadowroot',\n    'shadowrootdelegatesfocus',\n    'shape',\n    'size',\n    'sizes',\n    'slot',\n    'span',\n    'spellcheck',\n    'src',\n    'srclang',\n    'srcset',\n    'standby',\n    'start',\n    'step',\n    'style',\n    'summary',\n    'tabindex',\n    'target',\n    'text',\n    'title',\n    'topmargin',\n    'translate',\n    'truespeed',\n    'trusttoken',\n    'type',\n    'usemap',\n    'valign',\n    'value',\n    'valuetype',\n    'version',\n    'virtualkeyboardpolicy',\n    'vlink',\n    'vspace',\n    'webkitdirectory',\n    'width',\n    'wrap'\n];\nconst HTML_ATTRIBUTES_DISALLOW = [\n    'allowpaymentrequest',\n    'is'\n];\nconst HTML_ATTRIBUTES = new Set([\n    ...HTML_ATTRIBUTES_ALLOW,\n    ...HTML_ATTRIBUTES_DISALLOW\n]);\nconst SVG_ATTRIBUTES_ALLOW = [\n    'accent-height',\n    'accumulate',\n    'additive',\n    'alignment-baseline',\n    'ascent',\n    'attributename',\n    'attributetype',\n    'azimuth',\n    'basefrequency',\n    'baseline-shift',\n    'begin',\n    'bias',\n    'by',\n    'class',\n    'clip',\n    'clippathunits',\n    'clip-path',\n    'clip-rule',\n    'color',\n    'color-interpolation',\n    'color-interpolation-filters',\n    'color-profile',\n    'color-rendering',\n    'cx',\n    'cy',\n    'd',\n    'dx',\n    'dy',\n    'diffuseconstant',\n    'direction',\n    'display',\n    'divisor',\n    'dominant-baseline',\n    'dur',\n    'edgemode',\n    'elevation',\n    'end',\n    'fill',\n    'fill-opacity',\n    'fill-rule',\n    'filter',\n    'filterunits',\n    'flood-color',\n    'flood-opacity',\n    'font-family',\n    'font-size',\n    'font-size-adjust',\n    'font-stretch',\n    'font-style',\n    'font-variant',\n    'font-weight',\n    'fx',\n    'fy',\n    'g1',\n    'g2',\n    'glyph-name',\n    'glyphref',\n    'gradientunits',\n    'gradienttransform',\n    'height',\n    'href',\n    'id',\n    'image-rendering',\n    'in',\n    'in2',\n    'k',\n    'k1',\n    'k2',\n    'k3',\n    'k4',\n    'kerning',\n    'keypoints',\n    'keysplines',\n    'keytimes',\n    'lang',\n    'lengthadjust',\n    'letter-spacing',\n    'kernelmatrix',\n    'kernelunitlength',\n    'lighting-color',\n    'local',\n    'marker-end',\n    'marker-mid',\n    'marker-start',\n    'markerheight',\n    'markerunits',\n    'markerwidth',\n    'maskcontentunits',\n    'maskunits',\n    'max',\n    'mask',\n    'media',\n    'method',\n    'mode',\n    'min',\n    'name',\n    'numoctaves',\n    'offset',\n    'operator',\n    'opacity',\n    'order',\n    'orient',\n    'orientation',\n    'origin',\n    'overflow',\n    'paint-order',\n    'path',\n    'pathlength',\n    'patterncontentunits',\n    'patterntransform',\n    'patternunits',\n    'points',\n    'preservealpha',\n    'preserveaspectratio',\n    'primitiveunits',\n    'r',\n    'rx',\n    'ry',\n    'radius',\n    'refx',\n    'refy',\n    'repeatcount',\n    'repeatdur',\n    'restart',\n    'result',\n    'rotate',\n    'scale',\n    'seed',\n    'shape-rendering',\n    'specularconstant',\n    'specularexponent',\n    'spreadmethod',\n    'startoffset',\n    'stddeviation',\n    'stitchtiles',\n    'stop-color',\n    'stop-opacity',\n    'stroke-dasharray',\n    'stroke-dashoffset',\n    'stroke-linecap',\n    'stroke-linejoin',\n    'stroke-miterlimit',\n    'stroke-opacity',\n    'stroke',\n    'stroke-width',\n    'style',\n    'surfacescale',\n    'systemlanguage',\n    'tabindex',\n    'targetx',\n    'targety',\n    'transform',\n    'transform-origin',\n    'text-anchor',\n    'text-decoration',\n    'text-rendering',\n    'textlength',\n    'type',\n    'u1',\n    'u2',\n    'unicode',\n    'values',\n    'viewbox',\n    'visibility',\n    'version',\n    'vert-adv-y',\n    'vert-origin-x',\n    'vert-origin-y',\n    'width',\n    'word-spacing',\n    'wrap',\n    'writing-mode',\n    'xchannelselector',\n    'ychannelselector',\n    'x',\n    'x1',\n    'x2',\n    'xmlns',\n    'y',\n    'y1',\n    'y2',\n    'z',\n    'zoomandpan'\n];\nconst SVG_ATTRIBUTES_DISALLOW = [];\nconst SVG_ATTRIBUTES = new Set([\n    ...SVG_ATTRIBUTES_ALLOW,\n    ...SVG_ATTRIBUTES_DISALLOW\n]);\nconst MATH_ATTRIBUTES_ALLOW = [\n    'accent',\n    'accentunder',\n    'align',\n    'bevelled',\n    'close',\n    'columnsalign',\n    'columnlines',\n    'columnspan',\n    'denomalign',\n    'depth',\n    'dir',\n    'display',\n    'displaystyle',\n    'encoding',\n    'fence',\n    'frame',\n    'height',\n    'href',\n    'id',\n    'largeop',\n    'length',\n    'linethickness',\n    'lspace',\n    'lquote',\n    'mathbackground',\n    'mathcolor',\n    'mathsize',\n    'mathvariant',\n    'maxsize',\n    'minsize',\n    'movablelimits',\n    'notation',\n    'numalign',\n    'open',\n    'rowalign',\n    'rowlines',\n    'rowspacing',\n    'rowspan',\n    'rspace',\n    'rquote',\n    'scriptlevel',\n    'scriptminsize',\n    'scriptsizemultiplier',\n    'selection',\n    'separator',\n    'separators',\n    'stretchy',\n    'subscriptshift',\n    'supscriptshift',\n    'symmetric',\n    'voffset',\n    'width',\n    'xmlns'\n];\nconst MATH_ATTRIBUTES_DISALLOW = [];\nconst MATH_ATTRIBUTES = new Set([\n    ...MATH_ATTRIBUTES_ALLOW,\n    ...MATH_ATTRIBUTES_DISALLOW\n]);\n/* NAMESPACES */\nconst NAMESPACES = {\n    HTML: 'http://www.w3.org/1999/xhtml',\n    SVG: 'http://www.w3.org/2000/svg',\n    MATH: 'http://www.w3.org/1998/Math/MathML'\n};\nconst NAMESPACES_ELEMENTS = {\n    [NAMESPACES.HTML]: HTML_ELEMENTS,\n    [NAMESPACES.SVG]: SVG_ELEMENTS,\n    [NAMESPACES.MATH]: MATH_ELEMENTS\n};\nconst NAMESPACES_ATTRIBUTES = {\n    [NAMESPACES.HTML]: HTML_ATTRIBUTES,\n    [NAMESPACES.SVG]: SVG_ATTRIBUTES,\n    [NAMESPACES.MATH]: MATH_ATTRIBUTES\n};\nconst NAMESPACES_ROOTS = {\n    [NAMESPACES.HTML]: 'html',\n    [NAMESPACES.SVG]: 'svg',\n    [NAMESPACES.MATH]: 'math'\n};\nconst NAMESPACES_PREFIXES = {\n    [NAMESPACES.HTML]: '',\n    [NAMESPACES.SVG]: 'svg:',\n    [NAMESPACES.MATH]: 'math:'\n};\n/* TAG NAMES */\nconst FUNKY_TAG_NAMES = new Set([\n    'A',\n    'AREA',\n    'BUTTON',\n    'FORM',\n    'IFRAME',\n    'INPUT'\n]);\n/* OTHERS */\nconst DEFAULTS = {\n    allowComments: true,\n    allowCustomElements: false,\n    allowUnknownMarkup: false,\n    allowElements: [\n        ...HTML_ELEMENTS_ALLOW,\n        ...SVG_ELEMENTS_ALLOW.map(name => `svg:${name}`),\n        ...MATH_ELEMENTS_ALLOW.map(name => `math:${name}`)\n    ],\n    allowAttributes: mergeMaps([\n        Object.fromEntries(HTML_ATTRIBUTES_ALLOW.map(name => [name, ['*']])),\n        Object.fromEntries(SVG_ATTRIBUTES_ALLOW.map(name => [name, ['svg:*']])),\n        Object.fromEntries(MATH_ATTRIBUTES_ALLOW.map(name => [name, ['math:*']]))\n    ])\n};\n/* EXPORT */\nexport { HTML_ELEMENTS, SVG_ELEMENTS, MATH_ELEMENTS };\nexport { HTML_ATTRIBUTES, SVG_ATTRIBUTES, MATH_ATTRIBUTES };\nexport { NAMESPACES, NAMESPACES_ELEMENTS, NAMESPACES_ATTRIBUTES, NAMESPACES_ROOTS, NAMESPACES_PREFIXES };\nexport { FUNKY_TAG_NAMES };\nexport { DEFAULTS };\n","/* IMPORT */\nvar __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n};\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _Amuchina_configuration, _Amuchina_allowElements, _Amuchina_allowAttributes;\nimport { NAMESPACES, NAMESPACES_ELEMENTS, NAMESPACES_ROOTS, NAMESPACES_PREFIXES } from './constants.js';\nimport { DEFAULTS } from './constants.js';\nimport { cloneDeep, isElementFunky, isElementAction, isElementIframe, isElementFormAction, isElementHyperlink, isScriptOrDataUrl, isScriptOrDataUrlLoose, traverseElements } from './utils.js';\n/* MAIN */\n//TODO: Add a decent test suite, possibly one from an existing trusted library\nclass Amuchina {\n    /* CONSTRUCTOR */\n    constructor(configuration = {}) {\n        /* VARIABLES */\n        _Amuchina_configuration.set(this, void 0);\n        _Amuchina_allowElements.set(this, void 0);\n        _Amuchina_allowAttributes.set(this, void 0);\n        /* API */\n        this.getConfiguration = () => {\n            return cloneDeep(__classPrivateFieldGet(this, _Amuchina_configuration, \"f\"));\n        };\n        this.sanitize = (input) => {\n            //TODO: Support integration points (foreignObject and friends)\n            //TODO: Support xlink:href, xml:id, xlink:title, xml:space, xmlns:xlink\n            const allowElements = __classPrivateFieldGet(this, _Amuchina_allowElements, \"f\");\n            const allowAttributes = __classPrivateFieldGet(this, _Amuchina_allowAttributes, \"f\");\n            traverseElements(input, (node, parent) => {\n                const namespace = node.namespaceURI || NAMESPACES.HTML;\n                const namespaceParent = parent['namespaceURI'] || NAMESPACES.HTML;\n                const elements = NAMESPACES_ELEMENTS[namespace];\n                const root = NAMESPACES_ROOTS[namespace];\n                const prefix = NAMESPACES_PREFIXES[namespace];\n                const tag = node.tagName.toLowerCase();\n                const tagPrefixed = `${prefix}${tag}`;\n                const all = '*';\n                const allPrefixed = `${prefix}${all}`;\n                if (!elements.has(tag) || !allowElements.has(tagPrefixed) || (namespace !== namespaceParent && tag !== root)) {\n                    parent.removeChild(node);\n                }\n                else {\n                    const attributes = node.getAttributeNames();\n                    const attributesLength = attributes.length;\n                    if (attributesLength) {\n                        for (let i = 0; i < attributesLength; i++) {\n                            const attribute = attributes[i];\n                            const allowedValues = allowAttributes[attribute];\n                            if (!allowedValues || (!allowedValues.has(allPrefixed) && !allowedValues.has(tagPrefixed))) {\n                                node.removeAttribute(attribute);\n                            }\n                        }\n                        if (isElementFunky(node)) {\n                            if (isElementHyperlink(node)) {\n                                const href = node.getAttribute('href');\n                                if (href && isScriptOrDataUrlLoose(href) && isScriptOrDataUrl(node.protocol)) {\n                                    node.removeAttribute('href');\n                                }\n                            }\n                            else if (isElementAction(node)) {\n                                if (isScriptOrDataUrl(node.action)) {\n                                    node.removeAttribute('action');\n                                }\n                            }\n                            else if (isElementFormAction(node)) {\n                                if (isScriptOrDataUrl(node.formAction)) {\n                                    node.removeAttribute('formaction');\n                                }\n                            }\n                            else if (isElementIframe(node)) {\n                                if (isScriptOrDataUrl(node.src)) {\n                                    node.removeAttribute('formaction');\n                                }\n                                node.setAttribute('sandbox', 'allow-scripts'); //TODO: This is kinda arbitrary, it should be customizable and more flexible\n                            }\n                        }\n                    }\n                }\n            });\n            return input;\n        };\n        this.sanitizeFor = (element, input) => {\n            throw new Error('\"sanitizeFor\" is not implemented yet');\n        };\n        const { allowComments, allowCustomElements, allowUnknownMarkup, blockElements, dropElements, dropAttributes } = configuration;\n        if (allowComments === false)\n            throw new Error('A false \"allowComments\" is not supported yet');\n        if (allowCustomElements)\n            throw new Error('A true \"allowCustomElements\" is not supported yet');\n        if (allowUnknownMarkup)\n            throw new Error('A true \"allowUnknownMarkup\" is not supported yet');\n        if (blockElements)\n            throw new Error('\"blockElements\" is not supported yet, use \"allowElements\" instead');\n        if (dropElements)\n            throw new Error('\"dropElements\" is not supported yet, use \"allowElements\" instead');\n        if (dropAttributes)\n            throw new Error('\"dropAttributes\" is not supported yet, use \"allowAttributes\" instead');\n        __classPrivateFieldSet(this, _Amuchina_configuration, cloneDeep(DEFAULTS), \"f\");\n        const { allowElements, allowAttributes } = configuration;\n        if (allowElements)\n            __classPrivateFieldGet(this, _Amuchina_configuration, \"f\").allowElements = configuration.allowElements;\n        if (allowAttributes)\n            __classPrivateFieldGet(this, _Amuchina_configuration, \"f\").allowAttributes = configuration.allowAttributes;\n        __classPrivateFieldSet(this, _Amuchina_allowElements, new Set(__classPrivateFieldGet(this, _Amuchina_configuration, \"f\").allowElements), \"f\");\n        __classPrivateFieldSet(this, _Amuchina_allowAttributes, Object.fromEntries(Object.entries(__classPrivateFieldGet(this, _Amuchina_configuration, \"f\").allowAttributes || {}).map(([element, attributes]) => [element, new Set(attributes)])), \"f\");\n    }\n}\n_Amuchina_configuration = new WeakMap(), _Amuchina_allowElements = new WeakMap(), _Amuchina_allowAttributes = new WeakMap();\n/* STATIC API */\nAmuchina.getDefaultConfiguration = () => {\n    return cloneDeep(DEFAULTS);\n};\n/* EXPORT */\nexport default Amuchina;\n","import Amuchina from \"amuchina\";\n\nconst is_external_url = (\n\tlink: string | null,\n\troot = location.href\n): boolean => {\n\ttry {\n\t\treturn !!link && new URL(link).origin !== new URL(root).origin;\n\t} catch (e) {\n\t\treturn false;\n\t}\n};\n\nexport function sanitize(source: string): string {\n\tconst amuchina = new Amuchina();\n\tconst node = new DOMParser().parseFromString(source, \"text/html\");\n\twalk_nodes(node.body, \"A\", (node) => {\n\t\tif (node instanceof HTMLElement && \"target\" in node) {\n\t\t\tif (is_external_url(node.getAttribute(\"href\"), location.href)) {\n\t\t\t\tnode.setAttribute(\"target\", \"_blank\");\n\t\t\t\tnode.setAttribute(\"rel\", \"noopener noreferrer\");\n\t\t\t}\n\t\t}\n\t});\n\n\treturn amuchina.sanitize(node).body.innerHTML;\n}\n\nfunction walk_nodes(\n\tnode: Node | null | HTMLElement,\n\ttest: string | ((node: Node | HTMLElement) => boolean),\n\tcallback: (node: Node | HTMLElement) => void\n): void {\n\tif (\n\t\tnode &&\n\t\t((typeof test === \"string\" && node.nodeName === test) ||\n\t\t\t(typeof test === \"function\" && test(node)))\n\t) {\n\t\tcallback(node);\n\t}\n\tconst children = node?.childNodes || [];\n\tfor (let i = 0; i < children.length; i++) {\n\t\t// @ts-ignore\n\t\twalk_nodes(children[i], test, callback);\n\t}\n}\n","// https://www.w3schools.com/tags/\nexport const standardHtmlTags = [\n\t\"!--\",\n\t\"!doctype\",\n\t\"a\",\n\t\"abbr\",\n\t\"acronym\",\n\t\"address\",\n\t\"applet\",\n\t\"area\",\n\t\"article\",\n\t\"aside\",\n\t\"audio\",\n\t\"b\",\n\t\"base\",\n\t\"basefont\",\n\t\"bdi\",\n\t\"bdo\",\n\t\"big\",\n\t\"blockquote\",\n\t\"body\",\n\t\"br\",\n\t\"button\",\n\t\"canvas\",\n\t\"caption\",\n\t\"center\",\n\t\"cite\",\n\t\"code\",\n\t\"col\",\n\t\"colgroup\",\n\t\"data\",\n\t\"datalist\",\n\t\"dd\",\n\t\"del\",\n\t\"details\",\n\t\"dfn\",\n\t\"dialog\",\n\t\"dir\",\n\t\"div\",\n\t\"dl\",\n\t\"dt\",\n\t\"em\",\n\t\"embed\",\n\t\"fieldset\",\n\t\"figcaption\",\n\t\"figure\",\n\t\"font\",\n\t\"footer\",\n\t\"form\",\n\t\"frame\",\n\t\"frameset\",\n\t\"h1\",\n\t\"h2\",\n\t\"h3\",\n\t\"h4\",\n\t\"h5\",\n\t\"h6\",\n\t\"head\",\n\t\"header\",\n\t\"hgroup\",\n\t\"hr\",\n\t\"html\",\n\t\"i\",\n\t\"iframe\",\n\t\"img\",\n\t\"input\",\n\t\"ins\",\n\t\"kbd\",\n\t\"label\",\n\t\"legend\",\n\t\"li\",\n\t\"link\",\n\t\"main\",\n\t\"map\",\n\t\"mark\",\n\t\"menu\",\n\t\"meta\",\n\t\"meter\",\n\t\"nav\",\n\t\"noframes\",\n\t\"noscript\",\n\t\"object\",\n\t\"ol\",\n\t\"optgroup\",\n\t\"option\",\n\t\"output\",\n\t\"p\",\n\t\"param\",\n\t\"picture\",\n\t\"pre\",\n\t\"progress\",\n\t\"q\",\n\t\"rp\",\n\t\"rt\",\n\t\"ruby\",\n\t\"s\",\n\t\"samp\",\n\t\"script\",\n\t\"search\",\n\t\"section\",\n\t\"select\",\n\t\"small\",\n\t\"source\",\n\t\"span\",\n\t\"strike\",\n\t\"strong\",\n\t\"style\",\n\t\"sub\",\n\t\"summary\",\n\t\"sup\",\n\t\"svg\",\n\t\"table\",\n\t\"tbody\",\n\t\"td\",\n\t\"template\",\n\t\"textarea\",\n\t\"tfoot\",\n\t\"th\",\n\t\"thead\",\n\t\"time\",\n\t\"title\",\n\t\"tr\",\n\t\"track\",\n\t\"tt\",\n\t\"u\",\n\t\"ul\",\n\t\"var\",\n\t\"video\",\n\t\"wbr\"\n];\n\n// SVG tags\nexport const svgTags = [\n\t// Base structural elements\n\t\"g\",\n\t\"defs\",\n\t\"use\",\n\t\"symbol\",\n\n\t// Shape elements\n\t\"rect\",\n\t\"circle\",\n\t\"ellipse\",\n\t\"line\",\n\t\"polyline\",\n\t\"polygon\",\n\t\"path\",\n\t\"image\",\n\n\t// Text elements\n\t\"text\",\n\t\"tspan\",\n\t\"textPath\",\n\n\t// Gradient and effects\n\t\"linearGradient\",\n\t\"radialGradient\",\n\t\"stop\",\n\t\"pattern\",\n\t\"clipPath\",\n\t\"mask\",\n\t\"filter\",\n\n\t// Filter effects\n\t\"feBlend\",\n\t\"feColorMatrix\",\n\t\"feComponentTransfer\",\n\t\"feComposite\",\n\t\"feConvolveMatrix\",\n\t\"feDiffuseLighting\",\n\t\"feDisplacementMap\",\n\t\"feGaussianBlur\",\n\t\"feMerge\",\n\t\"feMorphology\",\n\t\"feOffset\",\n\t\"feSpecularLighting\",\n\t\"feTurbulence\",\n\t\"feMergeNode\",\n\t\"feFuncR\",\n\t\"feFuncG\",\n\t\"feFuncB\",\n\t\"feFuncA\",\n\t\"feDistantLight\",\n\t\"fePointLight\",\n\t\"feSpotLight\",\n\t\"feFlood\",\n\t\"feTile\",\n\n\t// Animation elements\n\t\"animate\",\n\t\"animateTransform\",\n\t\"animateMotion\",\n\t\"mpath\",\n\t\"set\",\n\n\t// Interactive and other elements\n\t\"view\",\n\t\"cursor\",\n\t\"foreignObject\",\n\t\"desc\",\n\t\"title\",\n\t\"metadata\",\n\t\"switch\"\n];\n\nexport const standardHtmlAndSvgTags = [\n\t...standardHtmlTags,\n\t...svgTags.filter((tag) => !standardHtmlTags.includes(tag))\n];\n","<script lang=\"ts\">\n\timport { afterUpdate, tick, onMount } from \"svelte\";\n\timport { create_marked } from \"./utils\";\n\timport { sanitize } from \"@gradio/sanitize\";\n\timport \"./prism.css\";\n\timport { standardHtmlAndSvgTags } from \"./html-tags\";\n\timport type { ThemeMode } from \"@gradio/core\";\n\n\texport let chatbot = true;\n\texport let message: string;\n\texport let sanitize_html = true;\n\texport let latex_delimiters: {\n\t\tleft: string;\n\t\tright: string;\n\t\tdisplay: boolean;\n\t}[] = [];\n\texport let render_markdown = true;\n\texport let line_breaks = true;\n\texport let header_links = false;\n\texport let allow_tags: string[] | boolean = false;\n\texport let theme_mode: ThemeMode = \"system\";\n\tlet el: HTMLSpanElement;\n\tlet html: string;\n\tlet katex_loaded = false;\n\n\tconst marked = create_marked({\n\t\theader_links,\n\t\tline_breaks,\n\t\tlatex_delimiters: latex_delimiters || []\n\t});\n\n\tfunction has_math_syntax(text: string): boolean {\n\t\tif (!latex_delimiters || latex_delimiters.length === 0) {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn latex_delimiters.some(\n\t\t\t(delimiter) =>\n\t\t\t\ttext.includes(delimiter.left) && text.includes(delimiter.right)\n\t\t);\n\t}\n\n\tfunction escapeRegExp(string: string): string {\n\t\treturn string.replace(/[.*+?^${}()|[\\]\\\\]/g, \"\\\\$&\");\n\t}\n\n\tfunction escapeTags(\n\t\tcontent: string,\n\t\ttagsToEscape: string[] | boolean\n\t): string {\n\t\tif (tagsToEscape === true) {\n\t\t\t// https://www.w3schools.com/tags/\n\t\t\tconst tagRegex = /<\\/?([a-zA-Z][a-zA-Z0-9-]*)([\\s>])/g;\n\t\t\treturn content.replace(tagRegex, (match, tagName, endChar) => {\n\t\t\t\tif (!standardHtmlAndSvgTags.includes(tagName.toLowerCase())) {\n\t\t\t\t\treturn match.replace(/</g, \"&lt;\").replace(/>/g, \"&gt;\");\n\t\t\t\t}\n\t\t\t\treturn match;\n\t\t\t});\n\t\t}\n\n\t\tif (Array.isArray(tagsToEscape)) {\n\t\t\tconst tagPattern = tagsToEscape.map((tag) => ({\n\t\t\t\topen: new RegExp(`<(${tag})(\\\\s+[^>]*)?>`, \"gi\"),\n\t\t\t\tclose: new RegExp(`</(${tag})>`, \"gi\")\n\t\t\t}));\n\n\t\t\tlet result = content;\n\n\t\t\ttagPattern.forEach((pattern) => {\n\t\t\t\tresult = result.replace(pattern.open, (match) =>\n\t\t\t\t\tmatch.replace(/</g, \"&lt;\").replace(/>/g, \"&gt;\")\n\t\t\t\t);\n\t\t\t\tresult = result.replace(pattern.close, (match) =>\n\t\t\t\t\tmatch.replace(/</g, \"&lt;\").replace(/>/g, \"&gt;\")\n\t\t\t\t);\n\t\t\t});\n\t\t\treturn result;\n\t\t}\n\t\treturn content;\n\t}\n\n\tfunction process_message(value: string): string {\n\t\tlet parsedValue = value;\n\t\tif (render_markdown) {\n\t\t\tconst latexBlocks: string[] = [];\n\t\t\tlatex_delimiters.forEach((delimiter, index) => {\n\t\t\t\tconst leftDelimiter = escapeRegExp(delimiter.left);\n\t\t\t\tconst rightDelimiter = escapeRegExp(delimiter.right);\n\t\t\t\tconst regex = new RegExp(\n\t\t\t\t\t`${leftDelimiter}([\\\\s\\\\S]+?)${rightDelimiter}`,\n\t\t\t\t\t\"g\"\n\t\t\t\t);\n\t\t\t\tparsedValue = parsedValue.replace(regex, (match, p1) => {\n\t\t\t\t\tlatexBlocks.push(match);\n\t\t\t\t\treturn `%%%LATEX_BLOCK_${latexBlocks.length - 1}%%%`;\n\t\t\t\t});\n\t\t\t});\n\n\t\t\tparsedValue = marked.parse(parsedValue) as string;\n\n\t\t\tparsedValue = parsedValue.replace(\n\t\t\t\t/%%%LATEX_BLOCK_(\\d+)%%%/g,\n\t\t\t\t(match, p1) => latexBlocks[parseInt(p1, 10)]\n\t\t\t);\n\t\t}\n\n\t\tif (allow_tags) {\n\t\t\tparsedValue = escapeTags(parsedValue, allow_tags);\n\t\t}\n\n\t\tif (sanitize_html && sanitize) {\n\t\t\tparsedValue = sanitize(parsedValue);\n\t\t}\n\t\treturn parsedValue;\n\t}\n\n\t$: if (message && message.trim()) {\n\t\thtml = process_message(message);\n\t} else {\n\t\thtml = \"\";\n\t}\n\n\tasync function render_html(value: string): Promise<void> {\n\t\tif (latex_delimiters.length > 0 && value && has_math_syntax(value)) {\n\t\t\tif (!katex_loaded) {\n\t\t\t\tawait Promise.all([\n\t\t\t\t\timport(\"katex/dist/katex.min.css\"),\n\t\t\t\t\timport(\"katex/contrib/auto-render\")\n\t\t\t\t]).then(([, { default: render_math_in_element }]) => {\n\t\t\t\t\tkatex_loaded = true;\n\t\t\t\t\trender_math_in_element(el, {\n\t\t\t\t\t\tdelimiters: latex_delimiters,\n\t\t\t\t\t\tthrowOnError: false\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tconst { default: render_math_in_element } = await import(\n\t\t\t\t\t\"katex/contrib/auto-render\"\n\t\t\t\t);\n\t\t\t\trender_math_in_element(el, {\n\t\t\t\t\tdelimiters: latex_delimiters,\n\t\t\t\t\tthrowOnError: false\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\tif (el) {\n\t\t\tconst mermaidDivs = el.querySelectorAll(\".mermaid\");\n\t\t\tif (mermaidDivs.length > 0) {\n\t\t\t\tawait tick();\n\t\t\t\tconst { default: mermaid } = await import(\"mermaid\");\n\n\t\t\t\tmermaid.initialize({\n\t\t\t\t\tstartOnLoad: false,\n\t\t\t\t\ttheme: theme_mode === \"dark\" ? \"dark\" : \"default\",\n\t\t\t\t\tsecurityLevel: \"antiscript\"\n\t\t\t\t});\n\t\t\t\tawait mermaid.run({\n\t\t\t\t\tnodes: Array.from(mermaidDivs).map((node) => node as HTMLElement)\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n\n\tafterUpdate(async () => {\n\t\tif (el && document.body.contains(el)) {\n\t\t\tawait render_html(message);\n\t\t} else {\n\t\t\tconsole.error(\"Element is not in the DOM\");\n\t\t}\n\t});\n</script>\n\n<span class:chatbot bind:this={el} class=\"md\" class:prose={render_markdown}>\n\t{@html html}\n</span>\n\n<style>\n\tspan :global(div[class*=\"code_wrap\"]) {\n\t\tposition: relative;\n\t}\n\n\t/* KaTeX */\n\tspan :global(span.katex) {\n\t\tfont-size: var(--text-lg);\n\t\tdirection: ltr;\n\t}\n\n\tspan :global(div[class*=\"code_wrap\"] > button) {\n\t\tz-index: 1;\n\t\tcursor: pointer;\n\t\tborder-bottom-left-radius: var(--radius-sm);\n\t\tpadding: var(--spacing-md);\n\t\twidth: 25px;\n\t\theight: 25px;\n\t\tposition: absolute;\n\t\tright: 0;\n\t}\n\n\tspan :global(.check) {\n\t\topacity: 0;\n\t\tz-index: var(--layer-top);\n\t\ttransition: opacity 0.2s;\n\t\tbackground: var(--code-background-fill);\n\t\tcolor: var(--body-text-color);\n\t\tposition: absolute;\n\t\ttop: var(--size-1-5);\n\t\tleft: var(--size-1-5);\n\t}\n\n\tspan :global(p:not(:first-child)) {\n\t\tmargin-top: var(--spacing-xxl);\n\t}\n\n\tspan :global(.md-header-anchor) {\n\t\t/* position: absolute; */\n\t\tmargin-left: -25px;\n\t\tpadding-right: 8px;\n\t\tline-height: 1;\n\t\tcolor: var(--body-text-color-subdued);\n\t\topacity: 0;\n\t}\n\n\tspan :global(h1:hover .md-header-anchor),\n\tspan :global(h2:hover .md-header-anchor),\n\tspan :global(h3:hover .md-header-anchor),\n\tspan :global(h4:hover .md-header-anchor),\n\tspan :global(h5:hover .md-header-anchor),\n\tspan :global(h6:hover .md-header-anchor) {\n\t\topacity: 1;\n\t}\n\n\tspan.md :global(.md-header-anchor > svg) {\n\t\tcolor: var(--body-text-color-subdued);\n\t}\n\n\tspan :global(table) {\n\t\tword-break: break-word;\n\t}\n</style>\n","<script lang=\"ts\">\n\timport { MarkdownCode as Markdown } from \"@gradio/markdown-code\";\n\texport let info: string;\n</script>\n\n<div>\n\t<Markdown message={info} sanitize_html={true} />\n</div>\n\n<style>\n\tdiv > :global(.md.prose) {\n\t\tfont-weight: var(--block-info-text-weight);\n\t\tfont-size: var(--block-info-text-size);\n\t\tline-height: var(--line-sm);\n\t}\n\tdiv > :global(.md.prose *) {\n\t\tcolor: var(--block-info-text-color);\n\t}\n\tdiv {\n\t\tmargin-bottom: var(--spacing-md);\n\t}\n</style>\n","<script lang=\"ts\">\n\timport { default as Info } from \"./Info.svelte\";\n\texport let show_label = true;\n\texport let info: string | undefined = undefined;\n\texport let rtl = false;\n</script>\n\n<span\n\tclass:sr-only={!show_label}\n\tclass:hide={!show_label}\n\tclass:has-info={info != null}\n\tdata-testid=\"block-info\"\n\tdir={rtl ? \"rtl\" : \"ltr\"}\n>\n\t<slot />\n</span>\n{#if info}\n\t<Info {info} />\n{/if}\n\n<style>\n\tspan.has-info {\n\t\tmargin-bottom: var(--spacing-xs);\n\t}\n\tspan:not(.has-info) {\n\t\tmargin-bottom: var(--spacing-lg);\n\t}\n\tspan {\n\t\tdisplay: inline-block;\n\t\tposition: relative;\n\t\tz-index: var(--layer-4);\n\t\tborder: solid var(--block-title-border-width)\n\t\t\tvar(--block-title-border-color);\n\t\tborder-radius: var(--block-title-radius);\n\t\tbackground: var(--block-title-background-fill);\n\t\tpadding: var(--block-title-padding);\n\t\tcolor: var(--block-title-text-color);\n\t\tfont-weight: var(--block-title-text-weight);\n\t\tfont-size: var(--block-title-text-size);\n\t\tline-height: var(--line-sm);\n\t}\n\n\tspan[dir=\"rtl\"] {\n\t\tdisplay: block;\n\t}\n\n\t.hide {\n\t\tmargin: 0;\n\t\theight: 0;\n\t}\n</style>\n","<script lang=\"ts\">\n\timport { type ComponentType } from \"svelte\";\n\texport let Icon: ComponentType;\n\texport let label = \"\";\n\texport let show_label = false;\n\texport let pending = false;\n\texport let size: \"x-small\" | \"small\" | \"large\" | \"medium\" = \"small\";\n\texport let padded = true;\n\texport let highlight = false;\n\texport let disabled = false;\n\texport let hasPopup = false;\n\texport let color = \"var(--block-label-text-color)\";\n\texport let transparent = false;\n\texport let background = \"var(--block-background-fill)\";\n\t$: _color = highlight ? \"var(--color-accent)\" : color;\n</script>\n\n<button\n\t{disabled}\n\ton:click\n\taria-label={label}\n\taria-haspopup={hasPopup}\n\ttitle={label}\n\tclass:pending\n\tclass:padded\n\tclass:highlight\n\tclass:transparent\n\tstyle:color={!disabled && _color ? _color : \"var(--block-label-text-color)\"}\n\tstyle:--bg-color={!disabled ? background : \"auto\"}\n>\n\t{#if show_label}<span>{label}</span>{/if}\n\t<div\n\t\tclass:x-small={size === \"x-small\"}\n\t\tclass:small={size === \"small\"}\n\t\tclass:large={size === \"large\"}\n\t\tclass:medium={size === \"medium\"}\n\t>\n\t\t<svelte:component this={Icon} />\n\t\t<slot />\n\t</div>\n</button>\n\n<style>\n\tbutton {\n\t\tdisplay: flex;\n\t\tjustify-content: center;\n\t\talign-items: center;\n\t\tgap: 1px;\n\t\tz-index: var(--layer-2);\n\t\tborder-radius: var(--radius-xs);\n\t\tcolor: var(--block-label-text-color);\n\t\tborder: 1px solid transparent;\n\t\tpadding: var(--spacing-xxs);\n\t}\n\n\tbutton:hover {\n\t\tbackground-color: var(--background-fill-secondary);\n\t}\n\n\tbutton[disabled] {\n\t\topacity: 0.5;\n\t\tbox-shadow: none;\n\t}\n\n\tbutton[disabled]:hover {\n\t\tcursor: not-allowed;\n\t}\n\n\t.padded {\n\t\tbackground: var(--bg-color);\n\t}\n\n\tbutton:hover,\n\tbutton.highlight {\n\t\tcursor: pointer;\n\t\tcolor: var(--color-accent);\n\t}\n\n\t.padded:hover {\n\t\tcolor: var(--block-label-text-color);\n\t}\n\n\tspan {\n\t\tpadding: 0px 1px;\n\t\tfont-size: 10px;\n\t}\n\n\tdiv {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\ttransition: filter 0.2s ease-in-out;\n\t}\n\n\t.x-small {\n\t\twidth: 10px;\n\t\theight: 10px;\n\t}\n\n\t.small {\n\t\twidth: 14px;\n\t\theight: 14px;\n\t}\n\n\t.medium {\n\t\twidth: 20px;\n\t\theight: 20px;\n\t}\n\n\t.large {\n\t\twidth: 22px;\n\t\theight: 22px;\n\t}\n\n\t.pending {\n\t\tanimation: flash 0.5s infinite;\n\t}\n\n\t@keyframes flash {\n\t\t0% {\n\t\t\topacity: 0.5;\n\t\t}\n\t\t50% {\n\t\t\topacity: 1;\n\t\t}\n\t\t100% {\n\t\t\topacity: 0.5;\n\t\t}\n\t}\n\n\t.transparent {\n\t\tbackground: transparent;\n\t\tborder: none;\n\t\tbox-shadow: none;\n\t}\n</style>\n","<svg\n\twidth=\"100%\"\n\theight=\"100%\"\n\tstroke-width=\"1.5\"\n\tviewBox=\"0 0 24 24\"\n\tfill=\"none\"\n\txmlns=\"http://www.w3.org/2000/svg\"\n\tcolor=\"currentColor\"\n\t><path\n\t\td=\"M5 13L9 17L19 7\"\n\t\tstroke=\"currentColor\"\n\t\tstroke-width=\"1.5\"\n\t\tstroke-linecap=\"round\"\n\t\tstroke-linejoin=\"round\"\n\t></path></svg\n>\n","<svg\n\twidth=\"100%\"\n\theight=\"100%\"\n\tviewBox=\"0 0 24 24\"\n\tversion=\"1.1\"\n\txmlns=\"http://www.w3.org/2000/svg\"\n\txmlns:xlink=\"http://www.w3.org/1999/xlink\"\n\txml:space=\"preserve\"\n\tstroke=\"currentColor\"\n\tstyle=\"fill-rule:evenodd;clip-rule:evenodd;stroke-linecap:round;stroke-linejoin:round;\"\n>\n\t<g\n\t\ttransform=\"matrix(1.14096,-0.140958,-0.140958,1.14096,-0.0559523,0.0559523)\"\n\t>\n\t\t<path\n\t\t\td=\"M18,6L6.087,17.913\"\n\t\t\tstyle=\"fill:none;fill-rule:nonzero;stroke-width:2px;\"\n\t\t/>\n\t</g>\n\t<path\n\t\td=\"M4.364,4.364L19.636,19.636\"\n\t\tstyle=\"fill:none;fill-rule:nonzero;stroke-width:2px;\"\n\t/>\n</svg>\n","<svg\n\txmlns=\"http://www.w3.org/2000/svg\"\n\tviewBox=\"0 0 33 33\"\n\tcolor=\"currentColor\"\n\taria-hidden=\"true\"\n\twidth=\"100%\"\n\theight=\"100%\"\n\t><path\n\t\tfill=\"currentColor\"\n\t\td=\"M28 10v18H10V10h18m0-2H10a2 2 0 0 0-2 2v18a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2Z\"\n\t/><path fill=\"currentColor\" d=\"M4 18H2V4a2 2 0 0 1 2-2h14v2H4Z\" /></svg\n>\n","<svg\n\tfill=\"none\"\n\tstroke=\"currentColor\"\n\tviewBox=\"0 0 24 24\"\n\twidth=\"100%\"\n\theight=\"100%\"\n\txmlns=\"http://www.w3.org/2000/svg\"\n\taria-hidden=\"true\"\n\tstroke-width=\"2\"\n\tstroke-linecap=\"round\"\n\tstroke-linejoin=\"round\"\n>\n\t<path\n\t\tstroke-linecap=\"round\"\n\t\tstroke-linejoin=\"round\"\n\t\td=\"M12 9v3.75m9-.75a9 9 0 11-18 0 9 9 0 0118 0zm-9 3.75h.008v.008H12v-.008z\"\n\t/>\n</svg>\n","<svg\n\tfill=\"none\"\n\tstroke=\"currentColor\"\n\tviewBox=\"0 0 24 24\"\n\twidth=\"100%\"\n\theight=\"100%\"\n\txmlns=\"http://www.w3.org/2000/svg\"\n\taria-hidden=\"true\"\n\tstroke-width=\"2\"\n\tstroke-linecap=\"round\"\n\tstroke-linejoin=\"round\"\n>\n\t<path\n\t\tstroke-linecap=\"round\"\n\t\tstroke-linejoin=\"round\"\n\t\td=\"M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9-3.75h.008v.008H12V8.25z\"\n\t/>\n</svg>\n","<svg\n\tfill=\"none\"\n\tstroke=\"currentColor\"\n\tviewBox=\"0 0 24 24\"\n\twidth=\"100%\"\n\theight=\"100%\"\n\txmlns=\"http://www.w3.org/2000/svg\"\n\taria-hidden=\"true\"\n\tstroke-width=\"2\"\n\tstroke-linecap=\"round\"\n\tstroke-linejoin=\"round\"\n>\n\t<path\n\t\tstroke-linecap=\"round\"\n\t\tstroke-linejoin=\"round\"\n\t\td=\"M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z\"\n\t/>\n</svg>\n","<svg\n\tviewBox=\"0 0 22 24\"\n\twidth=\"100%\"\n\theight=\"100%\"\n\tfill=\"none\"\n\txmlns=\"http://www.w3.org/2000/svg\"\n\t><g id=\"SVGRepo_bgCarrier\" stroke-width=\"0\"></g><g\n\t\tid=\"SVGRepo_tracerCarrier\"\n\t\tstroke-linecap=\"round\"\n\t\tstroke-linejoin=\"round\"\n\t></g><g id=\"SVGRepo_iconCarrier\">\n\t\t<path\n\t\t\td=\"M19.1168 12.1484C19.474 12.3581 19.9336 12.2384 20.1432 11.8811C20.3528 11.5238 20.2331 11.0643 19.8758 10.8547L19.1168 12.1484ZM6.94331 4.13656L6.55624 4.77902L6.56378 4.78344L6.94331 4.13656ZM5.92408 4.1598L5.50816 3.5357L5.50816 3.5357L5.92408 4.1598ZM5.51031 5.09156L4.76841 5.20151C4.77575 5.25101 4.78802 5.29965 4.80505 5.34671L5.51031 5.09156ZM7.12405 11.7567C7.26496 12.1462 7.69495 12.3477 8.08446 12.2068C8.47397 12.0659 8.67549 11.6359 8.53458 11.2464L7.12405 11.7567ZM19.8758 12.1484C20.2331 11.9388 20.3528 11.4793 20.1432 11.122C19.9336 10.7648 19.474 10.6451 19.1168 10.8547L19.8758 12.1484ZM6.94331 18.8666L6.56375 18.2196L6.55627 18.2241L6.94331 18.8666ZM5.92408 18.8433L5.50815 19.4674H5.50815L5.92408 18.8433ZM5.51031 17.9116L4.80505 17.6564C4.78802 17.7035 4.77575 17.7521 4.76841 17.8016L5.51031 17.9116ZM8.53458 11.7567C8.67549 11.3672 8.47397 10.9372 8.08446 10.7963C7.69495 10.6554 7.26496 10.8569 7.12405 11.2464L8.53458 11.7567ZM19.4963 12.2516C19.9105 12.2516 20.2463 11.9158 20.2463 11.5016C20.2463 11.0873 19.9105 10.7516 19.4963 10.7516V12.2516ZM7.82931 10.7516C7.4151 10.7516 7.07931 11.0873 7.07931 11.5016C7.07931 11.9158 7.4151 12.2516 7.82931 12.2516V10.7516ZM19.8758 10.8547L7.32284 3.48968L6.56378 4.78344L19.1168 12.1484L19.8758 10.8547ZM7.33035 3.49414C6.76609 3.15419 6.05633 3.17038 5.50816 3.5357L6.34 4.78391C6.40506 4.74055 6.4893 4.73863 6.55627 4.77898L7.33035 3.49414ZM5.50816 3.5357C4.95998 3.90102 4.67184 4.54987 4.76841 5.20151L6.25221 4.98161C6.24075 4.90427 6.27494 4.82727 6.34 4.78391L5.50816 3.5357ZM4.80505 5.34671L7.12405 11.7567L8.53458 11.2464L6.21558 4.83641L4.80505 5.34671ZM19.1168 10.8547L6.56378 18.2197L7.32284 19.5134L19.8758 12.1484L19.1168 10.8547ZM6.55627 18.2241C6.4893 18.2645 6.40506 18.2626 6.34 18.2192L5.50815 19.4674C6.05633 19.8327 6.76609 19.8489 7.33035 19.509L6.55627 18.2241ZM6.34 18.2192C6.27494 18.1759 6.24075 18.0988 6.25221 18.0215L4.76841 17.8016C4.67184 18.4532 4.95998 19.1021 5.50815 19.4674L6.34 18.2192ZM6.21558 18.1667L8.53458 11.7567L7.12405 11.2464L4.80505 17.6564L6.21558 18.1667ZM19.4963 10.7516H7.82931V12.2516H19.4963V10.7516Z\"\n\t\t\tfill=\"currentColor\"\n\t\t></path>\n\t</g></svg\n>\n","<script>\n\texport let fill = \"currentColor\";\n\texport let stroke_width = 1.5;\n</script>\n\n<svg\n\txmlns=\"http://www.w3.org/2000/svg\"\n\twidth=\"100%\"\n\theight=\"100%\"\n\tviewBox=\"0 0 24 24\"\n\t{fill}\n\tstroke=\"currentColor\"\n\tstroke-width={`${stroke_width}`}\n\tstroke-linecap=\"round\"\n\tstroke-linejoin=\"round\"\n\tclass=\"feather feather-square\"\n>\n\t<rect x=\"3\" y=\"3\" width=\"18\" height=\"18\" rx=\"2\" ry=\"2\" />\n</svg>\n","<svg\n\tfill=\"none\"\n\tstroke=\"currentColor\"\n\tstroke-width=\"2\"\n\tviewBox=\"0 0 24 24\"\n\twidth=\"100%\"\n\theight=\"100%\"\n\txmlns=\"http://www.w3.org/2000/svg\"\n\taria-hidden=\"true\"\n\tstroke-linecap=\"round\"\n\tstroke-linejoin=\"round\"\n>\n\t<path\n\t\tstroke-linecap=\"round\"\n\t\tstroke-linejoin=\"round\"\n\t\td=\"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z\"\n\t/>\n</svg>\n","<script context=\"module\" lang=\"ts\">\n\timport { tick } from \"svelte\";\n\timport { pretty_si } from \"./utils\";\n\n\tlet items: HTMLDivElement[] = [];\n\n\tlet called = false;\n\n\tconst is_browser = typeof window !== \"undefined\";\n\tconst raf = is_browser\n\t\t? window.requestAnimationFrame\n\t\t: (cb: (...args: any[]) => void) => {};\n\n\tasync function scroll_into_view(\n\t\tel: HTMLDivElement,\n\t\tenable: boolean | null = true\n\t): Promise<void> {\n\t\tif (\n\t\t\twindow.__gradio_mode__ === \"website\" ||\n\t\t\t(window.__gradio_mode__ !== \"app\" && enable !== true)\n\t\t) {\n\t\t\treturn;\n\t\t}\n\n\t\titems.push(el);\n\t\tif (!called) called = true;\n\t\telse return;\n\n\t\tawait tick();\n\n\t\traf(() => {\n\t\t\tlet min = [0, 0];\n\n\t\t\tfor (let i = 0; i < items.length; i++) {\n\t\t\t\tconst element = items[i];\n\n\t\t\t\tconst box = element.getBoundingClientRect();\n\t\t\t\tif (i === 0 || box.top + window.scrollY <= min[0]) {\n\t\t\t\t\tmin[0] = box.top + window.scrollY;\n\t\t\t\t\tmin[1] = i;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\twindow.scrollTo({ top: min[0] - 20, behavior: \"smooth\" });\n\n\t\t\tcalled = false;\n\t\t\titems = [];\n\t\t});\n\t}\n</script>\n\n<script lang=\"ts\">\n\timport { onDestroy } from \"svelte\";\n\n\timport Loader from \"./Loader.svelte\";\n\timport type { LoadingStatus } from \"./types\";\n\timport type { I18nFormatter } from \"@gradio/utils\";\n\timport { createEventDispatcher } from \"svelte\";\n\n\timport { IconButton } from \"@gradio/atoms\";\n\timport { Clear } from \"@gradio/icons\";\n\n\tconst dispatch = createEventDispatcher();\n\n\texport let i18n: I18nFormatter;\n\texport let eta: number | null = null;\n\texport let queue_position: number | null;\n\texport let queue_size: number | null;\n\texport let status:\n\t\t| \"complete\"\n\t\t| \"pending\"\n\t\t| \"error\"\n\t\t| \"generating\"\n\t\t| \"streaming\"\n\t\t| null;\n\texport let scroll_to_output = false;\n\texport let timer = true;\n\texport let show_progress: \"full\" | \"minimal\" | \"hidden\" = \"full\";\n\texport let message: string | null = null;\n\texport let progress: LoadingStatus[\"progress\"] | null | undefined = null;\n\texport let variant: \"default\" | \"center\" = \"default\";\n\texport let loading_text = \"Loading...\";\n\texport let absolute = true;\n\texport let translucent = false;\n\texport let border = false;\n\texport let autoscroll: boolean;\n\n\tlet el: HTMLDivElement;\n\n\tlet _timer = false;\n\tlet timer_start = 0;\n\tlet timer_diff = 0;\n\tlet old_eta: number | null = null;\n\tlet eta_from_start: number | null = null;\n\tlet message_visible = false;\n\tlet eta_level: number | null = 0;\n\tlet progress_level: (number | undefined)[] | null = null;\n\tlet last_progress_level: number | undefined = undefined;\n\tlet progress_bar: HTMLElement | null = null;\n\tlet show_eta_bar = true;\n\n\t$: eta_level =\n\t\teta_from_start === null || eta_from_start <= 0 || !timer_diff\n\t\t\t? null\n\t\t\t: Math.min(timer_diff / eta_from_start, 1);\n\t$: if (progress != null) {\n\t\tshow_eta_bar = false;\n\t}\n\n\t$: {\n\t\tif (progress != null) {\n\t\t\tprogress_level = progress.map((p) => {\n\t\t\t\tif (p.index != null && p.length != null) {\n\t\t\t\t\treturn p.index / p.length;\n\t\t\t\t} else if (p.progress != null) {\n\t\t\t\t\treturn p.progress;\n\t\t\t\t}\n\t\t\t\treturn undefined;\n\t\t\t});\n\t\t} else {\n\t\t\tprogress_level = null;\n\t\t}\n\n\t\tif (progress_level) {\n\t\t\tlast_progress_level = progress_level[progress_level.length - 1];\n\t\t\tif (progress_bar) {\n\t\t\t\tif (last_progress_level === 0) {\n\t\t\t\t\tprogress_bar.style.transition = \"0\";\n\t\t\t\t} else {\n\t\t\t\t\tprogress_bar.style.transition = \"150ms\";\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tlast_progress_level = undefined;\n\t\t}\n\t}\n\n\tconst start_timer = (): void => {\n\t\teta = old_eta = formatted_eta = null;\n\t\ttimer_start = performance.now();\n\t\ttimer_diff = 0;\n\t\t_timer = true;\n\t\trun();\n\t};\n\n\tfunction run(): void {\n\t\traf(() => {\n\t\t\ttimer_diff = (performance.now() - timer_start) / 1000;\n\t\t\tif (_timer) run();\n\t\t});\n\t}\n\n\tfunction stop_timer(): void {\n\t\ttimer_diff = 0;\n\t\teta = old_eta = formatted_eta = null;\n\n\t\tif (!_timer) return;\n\t\t_timer = false;\n\t}\n\n\tonDestroy(() => {\n\t\tif (_timer) stop_timer();\n\t});\n\n\t$: {\n\t\tif (status === \"pending\") {\n\t\t\tstart_timer();\n\t\t} else {\n\t\t\tstop_timer();\n\t\t}\n\t}\n\n\t$: el &&\n\t\tscroll_to_output &&\n\t\t(status === \"pending\" || status === \"complete\") &&\n\t\tscroll_into_view(el, autoscroll);\n\n\tlet formatted_eta: string | null = null;\n\t$: {\n\t\tif (eta === null) {\n\t\t\teta = old_eta;\n\t\t}\n\t\tif (eta != null && old_eta !== eta) {\n\t\t\teta_from_start = (performance.now() - timer_start) / 1000 + eta;\n\t\t\tformatted_eta = eta_from_start.toFixed(1);\n\t\t\told_eta = eta;\n\t\t}\n\t}\n\tlet show_message_timeout: NodeJS.Timeout | null = null;\n\tfunction close_message(): void {\n\t\tmessage_visible = false;\n\t\tif (show_message_timeout !== null) {\n\t\t\tclearTimeout(show_message_timeout);\n\t\t}\n\t}\n\t$: {\n\t\tclose_message();\n\t\tif (status === \"error\" && message) {\n\t\t\tmessage_visible = true;\n\t\t}\n\t}\n\t$: formatted_timer = timer_diff.toFixed(1);\n</script>\n\n<div\n\tclass=\"wrap {variant} {show_progress}\"\n\tclass:hide={!status ||\n\t\tstatus === \"complete\" ||\n\t\tshow_progress === \"hidden\" ||\n\t\tstatus == \"streaming\"}\n\tclass:translucent={(variant === \"center\" &&\n\t\t(status === \"pending\" || status === \"error\")) ||\n\t\ttranslucent ||\n\t\tshow_progress === \"minimal\"}\n\tclass:generating={status === \"generating\" && show_progress === \"full\"}\n\tclass:border\n\tstyle:position={absolute ? \"absolute\" : \"static\"}\n\tstyle:padding={absolute ? \"0\" : \"var(--size-8) 0\"}\n\tbind:this={el}\n>\n\t{#if status === \"pending\"}\n\t\t{#if variant === \"default\" && show_eta_bar && show_progress === \"full\"}\n\t\t\t<div\n\t\t\t\tclass=\"eta-bar\"\n\t\t\t\tstyle:transform=\"translateX({(eta_level || 0) * 100 - 100}%)\"\n\t\t\t/>\n\t\t{/if}\n\t\t<div\n\t\t\tclass:meta-text-center={variant === \"center\"}\n\t\t\tclass:meta-text={variant === \"default\"}\n\t\t\tclass=\"progress-text\"\n\t\t>\n\t\t\t{#if progress}\n\t\t\t\t{#each progress as p}\n\t\t\t\t\t{#if p.index != null}\n\t\t\t\t\t\t{#if p.length != null}\n\t\t\t\t\t\t\t{pretty_si(p.index || 0)}/{pretty_si(p.length)}\n\t\t\t\t\t\t{:else}\n\t\t\t\t\t\t\t{pretty_si(p.index || 0)}\n\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t{p.unit} | {\" \"}\n\t\t\t\t\t{/if}\n\t\t\t\t{/each}\n\t\t\t{:else if queue_position !== null && queue_size !== undefined && queue_position >= 0}\n\t\t\t\tqueue: {queue_position + 1}/{queue_size} |\n\t\t\t{:else if queue_position === 0}\n\t\t\t\tprocessing |\n\t\t\t{/if}\n\n\t\t\t{#if timer}\n\t\t\t\t{formatted_timer}{eta ? `/${formatted_eta}` : \"\"}s\n\t\t\t{/if}\n\t\t</div>\n\n\t\t{#if last_progress_level != null}\n\t\t\t<div class=\"progress-level\">\n\t\t\t\t<div class=\"progress-level-inner\">\n\t\t\t\t\t{#if progress != null}\n\t\t\t\t\t\t{#each progress as p, i}\n\t\t\t\t\t\t\t{#if p.desc != null || (progress_level && progress_level[i] != null)}\n\t\t\t\t\t\t\t\t{#if i !== 0}\n\t\t\t\t\t\t\t\t\t&nbsp;/\n\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t\t{#if p.desc != null}\n\t\t\t\t\t\t\t\t\t{p.desc}\n\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t\t{#if p.desc != null && progress_level && progress_level[i] != null}\n\t\t\t\t\t\t\t\t\t-\n\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t\t{#if progress_level != null}\n\t\t\t\t\t\t\t\t\t{(100 * (progress_level[i] || 0)).toFixed(1)}%\n\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t{/each}\n\t\t\t\t\t{/if}\n\t\t\t\t</div>\n\n\t\t\t\t<div class=\"progress-bar-wrap\">\n\t\t\t\t\t<div\n\t\t\t\t\t\tbind:this={progress_bar}\n\t\t\t\t\t\tclass=\"progress-bar\"\n\t\t\t\t\t\tstyle:width=\"{last_progress_level * 100}%\"\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t{:else if show_progress === \"full\"}\n\t\t\t<Loader margin={variant === \"default\"} />\n\t\t{/if}\n\n\t\t{#if !timer}\n\t\t\t<p class=\"loading\">{loading_text}</p>\n\t\t\t<slot name=\"additional-loading-text\" />\n\t\t{/if}\n\t{:else if status === \"error\"}\n\t\t<div class=\"clear-status\">\n\t\t\t<IconButton\n\t\t\t\tIcon={Clear}\n\t\t\t\tlabel={i18n(\"common.clear\")}\n\t\t\t\tdisabled={false}\n\t\t\t\ton:click={() => {\n\t\t\t\t\tdispatch(\"clear_status\");\n\t\t\t\t}}\n\t\t\t/>\n\t\t</div>\n\t\t<span class=\"error\">{i18n(\"common.error\")}</span>\n\t\t<slot name=\"error\" />\n\t{/if}\n</div>\n\n<style>\n\t.wrap {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tjustify-content: center;\n\t\talign-items: center;\n\t\tz-index: var(--layer-2);\n\t\ttransition: opacity 0.1s ease-in-out;\n\t\tborder-radius: var(--block-radius);\n\t\tbackground: var(--block-background-fill);\n\t\tpadding: 0 var(--size-6);\n\t\tmax-height: var(--size-screen-h);\n\t\toverflow: hidden;\n\t}\n\n\t.wrap.center {\n\t\ttop: 0;\n\t\tright: 0px;\n\t\tleft: 0px;\n\t}\n\n\t.wrap.default {\n\t\ttop: 0px;\n\t\tright: 0px;\n\t\tbottom: 0px;\n\t\tleft: 0px;\n\t}\n\n\t.hide {\n\t\topacity: 0;\n\t\tpointer-events: none;\n\t}\n\n\t.generating {\n\t\tanimation:\n\t\t\tpulseStart 1s cubic-bezier(0.4, 0, 0.6, 1),\n\t\t\tpulse 2s cubic-bezier(0.4, 0, 0.6, 1) 1s infinite;\n\t\tborder: 2px solid var(--color-accent);\n\t\tbackground: transparent;\n\t\tz-index: var(--layer-1);\n\t\tpointer-events: none;\n\t}\n\n\t.translucent {\n\t\tbackground: none;\n\t}\n\n\t@keyframes pulseStart {\n\t\t0% {\n\t\t\topacity: 0;\n\t\t}\n\t\t100% {\n\t\t\topacity: 1;\n\t\t}\n\t}\n\n\t@keyframes pulse {\n\t\t0%,\n\t\t100% {\n\t\t\topacity: 1;\n\t\t}\n\t\t50% {\n\t\t\topacity: 0.5;\n\t\t}\n\t}\n\n\t.loading {\n\t\tz-index: var(--layer-2);\n\t\tcolor: var(--body-text-color);\n\t}\n\t.eta-bar {\n\t\tposition: absolute;\n\t\ttop: 0;\n\t\tright: 0;\n\t\tbottom: 0;\n\t\tleft: 0;\n\t\ttransform-origin: left;\n\t\topacity: 0.8;\n\t\tz-index: var(--layer-1);\n\t\ttransition: 10ms;\n\t\tbackground: var(--background-fill-secondary);\n\t}\n\t.progress-bar-wrap {\n\t\tborder: 1px solid var(--border-color-primary);\n\t\tbackground: var(--background-fill-primary);\n\t\twidth: 55.5%;\n\t\theight: var(--size-4);\n\t}\n\t.progress-bar {\n\t\ttransform-origin: left;\n\t\tbackground-color: var(--loader-color);\n\t\twidth: var(--size-full);\n\t\theight: var(--size-full);\n\t}\n\n\t.progress-level {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\talign-items: center;\n\t\tgap: 1;\n\t\tz-index: var(--layer-2);\n\t\twidth: var(--size-full);\n\t}\n\n\t.progress-level-inner {\n\t\tmargin: var(--size-2) auto;\n\t\tcolor: var(--body-text-color);\n\t\tfont-size: var(--text-sm);\n\t\tfont-family: var(--font-mono);\n\t}\n\n\t.meta-text {\n\t\tposition: absolute;\n\t\tbottom: 0;\n\t\tright: 0;\n\t\tz-index: var(--layer-2);\n\t\tpadding: var(--size-1) var(--size-2);\n\t\tfont-size: var(--text-sm);\n\t\tfont-family: var(--font-mono);\n\t}\n\n\t.meta-text-center {\n\t\tdisplay: flex;\n\t\tposition: absolute;\n\t\ttop: 0;\n\t\tright: 0;\n\t\tjustify-content: center;\n\t\talign-items: center;\n\t\ttransform: translateY(var(--size-6));\n\t\tz-index: var(--layer-2);\n\t\tpadding: var(--size-1) var(--size-2);\n\t\tfont-size: var(--text-sm);\n\t\tfont-family: var(--font-mono);\n\t\ttext-align: center;\n\t}\n\n\t.error {\n\t\tbox-shadow: var(--shadow-drop);\n\t\tborder: solid 1px var(--error-border-color);\n\t\tborder-radius: var(--radius-full);\n\t\tbackground: var(--error-background-fill);\n\t\tpadding-right: var(--size-4);\n\t\tpadding-left: var(--size-4);\n\t\tcolor: var(--error-text-color);\n\t\tfont-weight: var(--weight-semibold);\n\t\tfont-size: var(--text-lg);\n\t\tline-height: var(--line-lg);\n\t\tfont-family: var(--font);\n\t}\n\n\t.minimal {\n\t\tpointer-events: none;\n\t}\n\n\t.minimal .progress-text {\n\t\tbackground: var(--block-background-fill);\n\t}\n\n\t.border {\n\t\tborder: 1px solid var(--border-color-primary);\n\t}\n\n\t.clear-status {\n\t\tposition: absolute;\n\t\tdisplay: flex;\n\t\ttop: var(--size-2);\n\t\tright: var(--size-2);\n\t\tjustify-content: flex-end;\n\t\tgap: var(--spacing-sm);\n\t\tz-index: var(--layer-1);\n\t}\n</style>\n","/*! @license DOMPurify 3.0.3 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.0.3/LICENSE */\n\nconst {\n  entries,\n  setPrototypeOf,\n  isFrozen,\n  getPrototypeOf,\n  getOwnPropertyDescriptor\n} = Object;\nlet {\n  freeze,\n  seal,\n  create\n} = Object; // eslint-disable-line import/no-mutable-exports\n\nlet {\n  apply,\n  construct\n} = typeof Reflect !== 'undefined' && Reflect;\n\nif (!apply) {\n  apply = function apply(fun, thisValue, args) {\n    return fun.apply(thisValue, args);\n  };\n}\n\nif (!freeze) {\n  freeze = function freeze(x) {\n    return x;\n  };\n}\n\nif (!seal) {\n  seal = function seal(x) {\n    return x;\n  };\n}\n\nif (!construct) {\n  construct = function construct(Func, args) {\n    return new Func(...args);\n  };\n}\n\nconst arrayForEach = unapply(Array.prototype.forEach);\nconst arrayPop = unapply(Array.prototype.pop);\nconst arrayPush = unapply(Array.prototype.push);\nconst stringToLowerCase = unapply(String.prototype.toLowerCase);\nconst stringToString = unapply(String.prototype.toString);\nconst stringMatch = unapply(String.prototype.match);\nconst stringReplace = unapply(String.prototype.replace);\nconst stringIndexOf = unapply(String.prototype.indexOf);\nconst stringTrim = unapply(String.prototype.trim);\nconst regExpTest = unapply(RegExp.prototype.test);\nconst typeErrorCreate = unconstruct(TypeError);\nfunction unapply(func) {\n  return function (thisArg) {\n    for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n\n    return apply(func, thisArg, args);\n  };\n}\nfunction unconstruct(func) {\n  return function () {\n    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n\n    return construct(func, args);\n  };\n}\n/* Add properties to a lookup table */\n\nfunction addToSet(set, array, transformCaseFunc) {\n  var _transformCaseFunc;\n\n  transformCaseFunc = (_transformCaseFunc = transformCaseFunc) !== null && _transformCaseFunc !== void 0 ? _transformCaseFunc : stringToLowerCase;\n\n  if (setPrototypeOf) {\n    // Make 'in' and truthy checks like Boolean(set.constructor)\n    // independent of any properties defined on Object.prototype.\n    // Prevent prototype setters from intercepting set as a this value.\n    setPrototypeOf(set, null);\n  }\n\n  let l = array.length;\n\n  while (l--) {\n    let element = array[l];\n\n    if (typeof element === 'string') {\n      const lcElement = transformCaseFunc(element);\n\n      if (lcElement !== element) {\n        // Config presets (e.g. tags.js, attrs.js) are immutable.\n        if (!isFrozen(array)) {\n          array[l] = lcElement;\n        }\n\n        element = lcElement;\n      }\n    }\n\n    set[element] = true;\n  }\n\n  return set;\n}\n/* Shallow clone an object */\n\nfunction clone(object) {\n  const newObject = create(null);\n\n  for (const [property, value] of entries(object)) {\n    newObject[property] = value;\n  }\n\n  return newObject;\n}\n/* This method automatically checks if the prop is function\n * or getter and behaves accordingly. */\n\nfunction lookupGetter(object, prop) {\n  while (object !== null) {\n    const desc = getOwnPropertyDescriptor(object, prop);\n\n    if (desc) {\n      if (desc.get) {\n        return unapply(desc.get);\n      }\n\n      if (typeof desc.value === 'function') {\n        return unapply(desc.value);\n      }\n    }\n\n    object = getPrototypeOf(object);\n  }\n\n  function fallbackValue(element) {\n    console.warn('fallback value for', element);\n    return null;\n  }\n\n  return fallbackValue;\n}\n\nconst html$1 = freeze(['a', 'abbr', 'acronym', 'address', 'area', 'article', 'aside', 'audio', 'b', 'bdi', 'bdo', 'big', 'blink', 'blockquote', 'body', 'br', 'button', 'canvas', 'caption', 'center', 'cite', 'code', 'col', 'colgroup', 'content', 'data', 'datalist', 'dd', 'decorator', 'del', 'details', 'dfn', 'dialog', 'dir', 'div', 'dl', 'dt', 'element', 'em', 'fieldset', 'figcaption', 'figure', 'font', 'footer', 'form', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'head', 'header', 'hgroup', 'hr', 'html', 'i', 'img', 'input', 'ins', 'kbd', 'label', 'legend', 'li', 'main', 'map', 'mark', 'marquee', 'menu', 'menuitem', 'meter', 'nav', 'nobr', 'ol', 'optgroup', 'option', 'output', 'p', 'picture', 'pre', 'progress', 'q', 'rp', 'rt', 'ruby', 's', 'samp', 'section', 'select', 'shadow', 'small', 'source', 'spacer', 'span', 'strike', 'strong', 'style', 'sub', 'summary', 'sup', 'table', 'tbody', 'td', 'template', 'textarea', 'tfoot', 'th', 'thead', 'time', 'tr', 'track', 'tt', 'u', 'ul', 'var', 'video', 'wbr']); // SVG\n\nconst svg$1 = freeze(['svg', 'a', 'altglyph', 'altglyphdef', 'altglyphitem', 'animatecolor', 'animatemotion', 'animatetransform', 'circle', 'clippath', 'defs', 'desc', 'ellipse', 'filter', 'font', 'g', 'glyph', 'glyphref', 'hkern', 'image', 'line', 'lineargradient', 'marker', 'mask', 'metadata', 'mpath', 'path', 'pattern', 'polygon', 'polyline', 'radialgradient', 'rect', 'stop', 'style', 'switch', 'symbol', 'text', 'textpath', 'title', 'tref', 'tspan', 'view', 'vkern']);\nconst svgFilters = freeze(['feBlend', 'feColorMatrix', 'feComponentTransfer', 'feComposite', 'feConvolveMatrix', 'feDiffuseLighting', 'feDisplacementMap', 'feDistantLight', 'feDropShadow', 'feFlood', 'feFuncA', 'feFuncB', 'feFuncG', 'feFuncR', 'feGaussianBlur', 'feImage', 'feMerge', 'feMergeNode', 'feMorphology', 'feOffset', 'fePointLight', 'feSpecularLighting', 'feSpotLight', 'feTile', 'feTurbulence']); // List of SVG elements that are disallowed by default.\n// We still need to know them so that we can do namespace\n// checks properly in case one wants to add them to\n// allow-list.\n\nconst svgDisallowed = freeze(['animate', 'color-profile', 'cursor', 'discard', 'font-face', 'font-face-format', 'font-face-name', 'font-face-src', 'font-face-uri', 'foreignobject', 'hatch', 'hatchpath', 'mesh', 'meshgradient', 'meshpatch', 'meshrow', 'missing-glyph', 'script', 'set', 'solidcolor', 'unknown', 'use']);\nconst mathMl$1 = freeze(['math', 'menclose', 'merror', 'mfenced', 'mfrac', 'mglyph', 'mi', 'mlabeledtr', 'mmultiscripts', 'mn', 'mo', 'mover', 'mpadded', 'mphantom', 'mroot', 'mrow', 'ms', 'mspace', 'msqrt', 'mstyle', 'msub', 'msup', 'msubsup', 'mtable', 'mtd', 'mtext', 'mtr', 'munder', 'munderover', 'mprescripts']); // Similarly to SVG, we want to know all MathML elements,\n// even those that we disallow by default.\n\nconst mathMlDisallowed = freeze(['maction', 'maligngroup', 'malignmark', 'mlongdiv', 'mscarries', 'mscarry', 'msgroup', 'mstack', 'msline', 'msrow', 'semantics', 'annotation', 'annotation-xml', 'mprescripts', 'none']);\nconst text = freeze(['#text']);\n\nconst html = freeze(['accept', 'action', 'align', 'alt', 'autocapitalize', 'autocomplete', 'autopictureinpicture', 'autoplay', 'background', 'bgcolor', 'border', 'capture', 'cellpadding', 'cellspacing', 'checked', 'cite', 'class', 'clear', 'color', 'cols', 'colspan', 'controls', 'controlslist', 'coords', 'crossorigin', 'datetime', 'decoding', 'default', 'dir', 'disabled', 'disablepictureinpicture', 'disableremoteplayback', 'download', 'draggable', 'enctype', 'enterkeyhint', 'face', 'for', 'headers', 'height', 'hidden', 'high', 'href', 'hreflang', 'id', 'inputmode', 'integrity', 'ismap', 'kind', 'label', 'lang', 'list', 'loading', 'loop', 'low', 'max', 'maxlength', 'media', 'method', 'min', 'minlength', 'multiple', 'muted', 'name', 'nonce', 'noshade', 'novalidate', 'nowrap', 'open', 'optimum', 'pattern', 'placeholder', 'playsinline', 'poster', 'preload', 'pubdate', 'radiogroup', 'readonly', 'rel', 'required', 'rev', 'reversed', 'role', 'rows', 'rowspan', 'spellcheck', 'scope', 'selected', 'shape', 'size', 'sizes', 'span', 'srclang', 'start', 'src', 'srcset', 'step', 'style', 'summary', 'tabindex', 'title', 'translate', 'type', 'usemap', 'valign', 'value', 'width', 'xmlns', 'slot']);\nconst svg = freeze(['accent-height', 'accumulate', 'additive', 'alignment-baseline', 'ascent', 'attributename', 'attributetype', 'azimuth', 'basefrequency', 'baseline-shift', 'begin', 'bias', 'by', 'class', 'clip', 'clippathunits', 'clip-path', 'clip-rule', 'color', 'color-interpolation', 'color-interpolation-filters', 'color-profile', 'color-rendering', 'cx', 'cy', 'd', 'dx', 'dy', 'diffuseconstant', 'direction', 'display', 'divisor', 'dur', 'edgemode', 'elevation', 'end', 'fill', 'fill-opacity', 'fill-rule', 'filter', 'filterunits', 'flood-color', 'flood-opacity', 'font-family', 'font-size', 'font-size-adjust', 'font-stretch', 'font-style', 'font-variant', 'font-weight', 'fx', 'fy', 'g1', 'g2', 'glyph-name', 'glyphref', 'gradientunits', 'gradienttransform', 'height', 'href', 'id', 'image-rendering', 'in', 'in2', 'k', 'k1', 'k2', 'k3', 'k4', 'kerning', 'keypoints', 'keysplines', 'keytimes', 'lang', 'lengthadjust', 'letter-spacing', 'kernelmatrix', 'kernelunitlength', 'lighting-color', 'local', 'marker-end', 'marker-mid', 'marker-start', 'markerheight', 'markerunits', 'markerwidth', 'maskcontentunits', 'maskunits', 'max', 'mask', 'media', 'method', 'mode', 'min', 'name', 'numoctaves', 'offset', 'operator', 'opacity', 'order', 'orient', 'orientation', 'origin', 'overflow', 'paint-order', 'path', 'pathlength', 'patterncontentunits', 'patterntransform', 'patternunits', 'points', 'preservealpha', 'preserveaspectratio', 'primitiveunits', 'r', 'rx', 'ry', 'radius', 'refx', 'refy', 'repeatcount', 'repeatdur', 'restart', 'result', 'rotate', 'scale', 'seed', 'shape-rendering', 'specularconstant', 'specularexponent', 'spreadmethod', 'startoffset', 'stddeviation', 'stitchtiles', 'stop-color', 'stop-opacity', 'stroke-dasharray', 'stroke-dashoffset', 'stroke-linecap', 'stroke-linejoin', 'stroke-miterlimit', 'stroke-opacity', 'stroke', 'stroke-width', 'style', 'surfacescale', 'systemlanguage', 'tabindex', 'targetx', 'targety', 'transform', 'transform-origin', 'text-anchor', 'text-decoration', 'text-rendering', 'textlength', 'type', 'u1', 'u2', 'unicode', 'values', 'viewbox', 'visibility', 'version', 'vert-adv-y', 'vert-origin-x', 'vert-origin-y', 'width', 'word-spacing', 'wrap', 'writing-mode', 'xchannelselector', 'ychannelselector', 'x', 'x1', 'x2', 'xmlns', 'y', 'y1', 'y2', 'z', 'zoomandpan']);\nconst mathMl = freeze(['accent', 'accentunder', 'align', 'bevelled', 'close', 'columnsalign', 'columnlines', 'columnspan', 'denomalign', 'depth', 'dir', 'display', 'displaystyle', 'encoding', 'fence', 'frame', 'height', 'href', 'id', 'largeop', 'length', 'linethickness', 'lspace', 'lquote', 'mathbackground', 'mathcolor', 'mathsize', 'mathvariant', 'maxsize', 'minsize', 'movablelimits', 'notation', 'numalign', 'open', 'rowalign', 'rowlines', 'rowspacing', 'rowspan', 'rspace', 'rquote', 'scriptlevel', 'scriptminsize', 'scriptsizemultiplier', 'selection', 'separator', 'separators', 'stretchy', 'subscriptshift', 'supscriptshift', 'symmetric', 'voffset', 'width', 'xmlns']);\nconst xml = freeze(['xlink:href', 'xml:id', 'xlink:title', 'xml:space', 'xmlns:xlink']);\n\nconst MUSTACHE_EXPR = seal(/\\{\\{[\\w\\W]*|[\\w\\W]*\\}\\}/gm); // Specify template detection regex for SAFE_FOR_TEMPLATES mode\n\nconst ERB_EXPR = seal(/<%[\\w\\W]*|[\\w\\W]*%>/gm);\nconst TMPLIT_EXPR = seal(/\\${[\\w\\W]*}/gm);\nconst DATA_ATTR = seal(/^data-[\\-\\w.\\u00B7-\\uFFFF]/); // eslint-disable-line no-useless-escape\n\nconst ARIA_ATTR = seal(/^aria-[\\-\\w]+$/); // eslint-disable-line no-useless-escape\n\nconst IS_ALLOWED_URI = seal(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\\-]+(?:[^a-z+.\\-:]|$))/i // eslint-disable-line no-useless-escape\n);\nconst IS_SCRIPT_OR_DATA = seal(/^(?:\\w+script|data):/i);\nconst ATTR_WHITESPACE = seal(/[\\u0000-\\u0020\\u00A0\\u1680\\u180E\\u2000-\\u2029\\u205F\\u3000]/g // eslint-disable-line no-control-regex\n);\nconst DOCTYPE_NAME = seal(/^html$/i);\n\nvar EXPRESSIONS = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  MUSTACHE_EXPR: MUSTACHE_EXPR,\n  ERB_EXPR: ERB_EXPR,\n  TMPLIT_EXPR: TMPLIT_EXPR,\n  DATA_ATTR: DATA_ATTR,\n  ARIA_ATTR: ARIA_ATTR,\n  IS_ALLOWED_URI: IS_ALLOWED_URI,\n  IS_SCRIPT_OR_DATA: IS_SCRIPT_OR_DATA,\n  ATTR_WHITESPACE: ATTR_WHITESPACE,\n  DOCTYPE_NAME: DOCTYPE_NAME\n});\n\nconst getGlobal = () => typeof window === 'undefined' ? null : window;\n/**\n * Creates a no-op policy for internal use only.\n * Don't export this function outside this module!\n * @param {?TrustedTypePolicyFactory} trustedTypes The policy factory.\n * @param {HTMLScriptElement} purifyHostElement The Script element used to load DOMPurify (to determine policy name suffix).\n * @return {?TrustedTypePolicy} The policy created (or null, if Trusted Types\n * are not supported or creating the policy failed).\n */\n\n\nconst _createTrustedTypesPolicy = function _createTrustedTypesPolicy(trustedTypes, purifyHostElement) {\n  if (typeof trustedTypes !== 'object' || typeof trustedTypes.createPolicy !== 'function') {\n    return null;\n  } // Allow the callers to control the unique policy name\n  // by adding a data-tt-policy-suffix to the script element with the DOMPurify.\n  // Policy creation with duplicate names throws in Trusted Types.\n\n\n  let suffix = null;\n  const ATTR_NAME = 'data-tt-policy-suffix';\n\n  if (purifyHostElement && purifyHostElement.hasAttribute(ATTR_NAME)) {\n    suffix = purifyHostElement.getAttribute(ATTR_NAME);\n  }\n\n  const policyName = 'dompurify' + (suffix ? '#' + suffix : '');\n\n  try {\n    return trustedTypes.createPolicy(policyName, {\n      createHTML(html) {\n        return html;\n      },\n\n      createScriptURL(scriptUrl) {\n        return scriptUrl;\n      }\n\n    });\n  } catch (_) {\n    // Policy creation failed (most likely another DOMPurify script has\n    // already run). Skip creating the policy, as this will only cause errors\n    // if TT are enforced.\n    console.warn('TrustedTypes policy ' + policyName + ' could not be created.');\n    return null;\n  }\n};\n\nfunction createDOMPurify() {\n  let window = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : getGlobal();\n\n  const DOMPurify = root => createDOMPurify(root);\n  /**\n   * Version label, exposed for easier checks\n   * if DOMPurify is up to date or not\n   */\n\n\n  DOMPurify.version = '3.0.3';\n  /**\n   * Array of elements that DOMPurify removed during sanitation.\n   * Empty if nothing was removed.\n   */\n\n  DOMPurify.removed = [];\n\n  if (!window || !window.document || window.document.nodeType !== 9) {\n    // Not running in a browser, provide a factory function\n    // so that you can pass your own Window\n    DOMPurify.isSupported = false;\n    return DOMPurify;\n  }\n\n  const originalDocument = window.document;\n  const currentScript = originalDocument.currentScript;\n  let {\n    document\n  } = window;\n  const {\n    DocumentFragment,\n    HTMLTemplateElement,\n    Node,\n    Element,\n    NodeFilter,\n    NamedNodeMap = window.NamedNodeMap || window.MozNamedAttrMap,\n    HTMLFormElement,\n    DOMParser,\n    trustedTypes\n  } = window;\n  const ElementPrototype = Element.prototype;\n  const cloneNode = lookupGetter(ElementPrototype, 'cloneNode');\n  const getNextSibling = lookupGetter(ElementPrototype, 'nextSibling');\n  const getChildNodes = lookupGetter(ElementPrototype, 'childNodes');\n  const getParentNode = lookupGetter(ElementPrototype, 'parentNode'); // As per issue #47, the web-components registry is inherited by a\n  // new document created via createHTMLDocument. As per the spec\n  // (http://w3c.github.io/webcomponents/spec/custom/#creating-and-passing-registries)\n  // a new empty registry is used when creating a template contents owner\n  // document, so we use that as our parent document to ensure nothing\n  // is inherited.\n\n  if (typeof HTMLTemplateElement === 'function') {\n    const template = document.createElement('template');\n\n    if (template.content && template.content.ownerDocument) {\n      document = template.content.ownerDocument;\n    }\n  }\n\n  let trustedTypesPolicy;\n  let emptyHTML = '';\n  const {\n    implementation,\n    createNodeIterator,\n    createDocumentFragment,\n    getElementsByTagName\n  } = document;\n  const {\n    importNode\n  } = originalDocument;\n  let hooks = {};\n  /**\n   * Expose whether this browser supports running the full DOMPurify.\n   */\n\n  DOMPurify.isSupported = typeof entries === 'function' && typeof getParentNode === 'function' && implementation && implementation.createHTMLDocument !== undefined;\n  const {\n    MUSTACHE_EXPR,\n    ERB_EXPR,\n    TMPLIT_EXPR,\n    DATA_ATTR,\n    ARIA_ATTR,\n    IS_SCRIPT_OR_DATA,\n    ATTR_WHITESPACE\n  } = EXPRESSIONS;\n  let {\n    IS_ALLOWED_URI: IS_ALLOWED_URI$1\n  } = EXPRESSIONS;\n  /**\n   * We consider the elements and attributes below to be safe. Ideally\n   * don't add any new ones but feel free to remove unwanted ones.\n   */\n\n  /* allowed element names */\n\n  let ALLOWED_TAGS = null;\n  const DEFAULT_ALLOWED_TAGS = addToSet({}, [...html$1, ...svg$1, ...svgFilters, ...mathMl$1, ...text]);\n  /* Allowed attribute names */\n\n  let ALLOWED_ATTR = null;\n  const DEFAULT_ALLOWED_ATTR = addToSet({}, [...html, ...svg, ...mathMl, ...xml]);\n  /*\n   * Configure how DOMPUrify should handle custom elements and their attributes as well as customized built-in elements.\n   * @property {RegExp|Function|null} tagNameCheck one of [null, regexPattern, predicate]. Default: `null` (disallow any custom elements)\n   * @property {RegExp|Function|null} attributeNameCheck one of [null, regexPattern, predicate]. Default: `null` (disallow any attributes not on the allow list)\n   * @property {boolean} allowCustomizedBuiltInElements allow custom elements derived from built-ins if they pass CUSTOM_ELEMENT_HANDLING.tagNameCheck. Default: `false`.\n   */\n\n  let CUSTOM_ELEMENT_HANDLING = Object.seal(Object.create(null, {\n    tagNameCheck: {\n      writable: true,\n      configurable: false,\n      enumerable: true,\n      value: null\n    },\n    attributeNameCheck: {\n      writable: true,\n      configurable: false,\n      enumerable: true,\n      value: null\n    },\n    allowCustomizedBuiltInElements: {\n      writable: true,\n      configurable: false,\n      enumerable: true,\n      value: false\n    }\n  }));\n  /* Explicitly forbidden tags (overrides ALLOWED_TAGS/ADD_TAGS) */\n\n  let FORBID_TAGS = null;\n  /* Explicitly forbidden attributes (overrides ALLOWED_ATTR/ADD_ATTR) */\n\n  let FORBID_ATTR = null;\n  /* Decide if ARIA attributes are okay */\n\n  let ALLOW_ARIA_ATTR = true;\n  /* Decide if custom data attributes are okay */\n\n  let ALLOW_DATA_ATTR = true;\n  /* Decide if unknown protocols are okay */\n\n  let ALLOW_UNKNOWN_PROTOCOLS = false;\n  /* Decide if self-closing tags in attributes are allowed.\n   * Usually removed due to a mXSS issue in jQuery 3.0 */\n\n  let ALLOW_SELF_CLOSE_IN_ATTR = true;\n  /* Output should be safe for common template engines.\n   * This means, DOMPurify removes data attributes, mustaches and ERB\n   */\n\n  let SAFE_FOR_TEMPLATES = false;\n  /* Decide if document with <html>... should be returned */\n\n  let WHOLE_DOCUMENT = false;\n  /* Track whether config is already set on this instance of DOMPurify. */\n\n  let SET_CONFIG = false;\n  /* Decide if all elements (e.g. style, script) must be children of\n   * document.body. By default, browsers might move them to document.head */\n\n  let FORCE_BODY = false;\n  /* Decide if a DOM `HTMLBodyElement` should be returned, instead of a html\n   * string (or a TrustedHTML object if Trusted Types are supported).\n   * If `WHOLE_DOCUMENT` is enabled a `HTMLHtmlElement` will be returned instead\n   */\n\n  let RETURN_DOM = false;\n  /* Decide if a DOM `DocumentFragment` should be returned, instead of a html\n   * string  (or a TrustedHTML object if Trusted Types are supported) */\n\n  let RETURN_DOM_FRAGMENT = false;\n  /* Try to return a Trusted Type object instead of a string, return a string in\n   * case Trusted Types are not supported  */\n\n  let RETURN_TRUSTED_TYPE = false;\n  /* Output should be free from DOM clobbering attacks?\n   * This sanitizes markups named with colliding, clobberable built-in DOM APIs.\n   */\n\n  let SANITIZE_DOM = true;\n  /* Achieve full DOM Clobbering protection by isolating the namespace of named\n   * properties and JS variables, mitigating attacks that abuse the HTML/DOM spec rules.\n   *\n   * HTML/DOM spec rules that enable DOM Clobbering:\n   *   - Named Access on Window (7.3.3)\n   *   - DOM Tree Accessors (3.1.5)\n   *   - Form Element Parent-Child Relations (4.10.3)\n   *   - Iframe srcdoc / Nested WindowProxies (4.8.5)\n   *   - HTMLCollection (4.2.10.2)\n   *\n   * Namespace isolation is implemented by prefixing `id` and `name` attributes\n   * with a constant string, i.e., `user-content-`\n   */\n\n  let SANITIZE_NAMED_PROPS = false;\n  const SANITIZE_NAMED_PROPS_PREFIX = 'user-content-';\n  /* Keep element content when removing element? */\n\n  let KEEP_CONTENT = true;\n  /* If a `Node` is passed to sanitize(), then performs sanitization in-place instead\n   * of importing it into a new Document and returning a sanitized copy */\n\n  let IN_PLACE = false;\n  /* Allow usage of profiles like html, svg and mathMl */\n\n  let USE_PROFILES = {};\n  /* Tags to ignore content of when KEEP_CONTENT is true */\n\n  let FORBID_CONTENTS = null;\n  const DEFAULT_FORBID_CONTENTS = addToSet({}, ['annotation-xml', 'audio', 'colgroup', 'desc', 'foreignobject', 'head', 'iframe', 'math', 'mi', 'mn', 'mo', 'ms', 'mtext', 'noembed', 'noframes', 'noscript', 'plaintext', 'script', 'style', 'svg', 'template', 'thead', 'title', 'video', 'xmp']);\n  /* Tags that are safe for data: URIs */\n\n  let DATA_URI_TAGS = null;\n  const DEFAULT_DATA_URI_TAGS = addToSet({}, ['audio', 'video', 'img', 'source', 'image', 'track']);\n  /* Attributes safe for values like \"javascript:\" */\n\n  let URI_SAFE_ATTRIBUTES = null;\n  const DEFAULT_URI_SAFE_ATTRIBUTES = addToSet({}, ['alt', 'class', 'for', 'id', 'label', 'name', 'pattern', 'placeholder', 'role', 'summary', 'title', 'value', 'style', 'xmlns']);\n  const MATHML_NAMESPACE = 'http://www.w3.org/1998/Math/MathML';\n  const SVG_NAMESPACE = 'http://www.w3.org/2000/svg';\n  const HTML_NAMESPACE = 'http://www.w3.org/1999/xhtml';\n  /* Document namespace */\n\n  let NAMESPACE = HTML_NAMESPACE;\n  let IS_EMPTY_INPUT = false;\n  /* Allowed XHTML+XML namespaces */\n\n  let ALLOWED_NAMESPACES = null;\n  const DEFAULT_ALLOWED_NAMESPACES = addToSet({}, [MATHML_NAMESPACE, SVG_NAMESPACE, HTML_NAMESPACE], stringToString);\n  /* Parsing of strict XHTML documents */\n\n  let PARSER_MEDIA_TYPE;\n  const SUPPORTED_PARSER_MEDIA_TYPES = ['application/xhtml+xml', 'text/html'];\n  const DEFAULT_PARSER_MEDIA_TYPE = 'text/html';\n  let transformCaseFunc;\n  /* Keep a reference to config to pass to hooks */\n\n  let CONFIG = null;\n  /* Ideally, do not touch anything below this line */\n\n  /* ______________________________________________ */\n\n  const formElement = document.createElement('form');\n\n  const isRegexOrFunction = function isRegexOrFunction(testValue) {\n    return testValue instanceof RegExp || testValue instanceof Function;\n  };\n  /**\n   * _parseConfig\n   *\n   * @param  {Object} cfg optional config literal\n   */\n  // eslint-disable-next-line complexity\n\n\n  const _parseConfig = function _parseConfig(cfg) {\n    if (CONFIG && CONFIG === cfg) {\n      return;\n    }\n    /* Shield configuration object from tampering */\n\n\n    if (!cfg || typeof cfg !== 'object') {\n      cfg = {};\n    }\n    /* Shield configuration object from prototype pollution */\n\n\n    cfg = clone(cfg);\n    PARSER_MEDIA_TYPE = // eslint-disable-next-line unicorn/prefer-includes\n    SUPPORTED_PARSER_MEDIA_TYPES.indexOf(cfg.PARSER_MEDIA_TYPE) === -1 ? PARSER_MEDIA_TYPE = DEFAULT_PARSER_MEDIA_TYPE : PARSER_MEDIA_TYPE = cfg.PARSER_MEDIA_TYPE; // HTML tags and attributes are not case-sensitive, converting to lowercase. Keeping XHTML as is.\n\n    transformCaseFunc = PARSER_MEDIA_TYPE === 'application/xhtml+xml' ? stringToString : stringToLowerCase;\n    /* Set configuration parameters */\n\n    ALLOWED_TAGS = 'ALLOWED_TAGS' in cfg ? addToSet({}, cfg.ALLOWED_TAGS, transformCaseFunc) : DEFAULT_ALLOWED_TAGS;\n    ALLOWED_ATTR = 'ALLOWED_ATTR' in cfg ? addToSet({}, cfg.ALLOWED_ATTR, transformCaseFunc) : DEFAULT_ALLOWED_ATTR;\n    ALLOWED_NAMESPACES = 'ALLOWED_NAMESPACES' in cfg ? addToSet({}, cfg.ALLOWED_NAMESPACES, stringToString) : DEFAULT_ALLOWED_NAMESPACES;\n    URI_SAFE_ATTRIBUTES = 'ADD_URI_SAFE_ATTR' in cfg ? addToSet(clone(DEFAULT_URI_SAFE_ATTRIBUTES), // eslint-disable-line indent\n    cfg.ADD_URI_SAFE_ATTR, // eslint-disable-line indent\n    transformCaseFunc // eslint-disable-line indent\n    ) // eslint-disable-line indent\n    : DEFAULT_URI_SAFE_ATTRIBUTES;\n    DATA_URI_TAGS = 'ADD_DATA_URI_TAGS' in cfg ? addToSet(clone(DEFAULT_DATA_URI_TAGS), // eslint-disable-line indent\n    cfg.ADD_DATA_URI_TAGS, // eslint-disable-line indent\n    transformCaseFunc // eslint-disable-line indent\n    ) // eslint-disable-line indent\n    : DEFAULT_DATA_URI_TAGS;\n    FORBID_CONTENTS = 'FORBID_CONTENTS' in cfg ? addToSet({}, cfg.FORBID_CONTENTS, transformCaseFunc) : DEFAULT_FORBID_CONTENTS;\n    FORBID_TAGS = 'FORBID_TAGS' in cfg ? addToSet({}, cfg.FORBID_TAGS, transformCaseFunc) : {};\n    FORBID_ATTR = 'FORBID_ATTR' in cfg ? addToSet({}, cfg.FORBID_ATTR, transformCaseFunc) : {};\n    USE_PROFILES = 'USE_PROFILES' in cfg ? cfg.USE_PROFILES : false;\n    ALLOW_ARIA_ATTR = cfg.ALLOW_ARIA_ATTR !== false; // Default true\n\n    ALLOW_DATA_ATTR = cfg.ALLOW_DATA_ATTR !== false; // Default true\n\n    ALLOW_UNKNOWN_PROTOCOLS = cfg.ALLOW_UNKNOWN_PROTOCOLS || false; // Default false\n\n    ALLOW_SELF_CLOSE_IN_ATTR = cfg.ALLOW_SELF_CLOSE_IN_ATTR !== false; // Default true\n\n    SAFE_FOR_TEMPLATES = cfg.SAFE_FOR_TEMPLATES || false; // Default false\n\n    WHOLE_DOCUMENT = cfg.WHOLE_DOCUMENT || false; // Default false\n\n    RETURN_DOM = cfg.RETURN_DOM || false; // Default false\n\n    RETURN_DOM_FRAGMENT = cfg.RETURN_DOM_FRAGMENT || false; // Default false\n\n    RETURN_TRUSTED_TYPE = cfg.RETURN_TRUSTED_TYPE || false; // Default false\n\n    FORCE_BODY = cfg.FORCE_BODY || false; // Default false\n\n    SANITIZE_DOM = cfg.SANITIZE_DOM !== false; // Default true\n\n    SANITIZE_NAMED_PROPS = cfg.SANITIZE_NAMED_PROPS || false; // Default false\n\n    KEEP_CONTENT = cfg.KEEP_CONTENT !== false; // Default true\n\n    IN_PLACE = cfg.IN_PLACE || false; // Default false\n\n    IS_ALLOWED_URI$1 = cfg.ALLOWED_URI_REGEXP || IS_ALLOWED_URI;\n    NAMESPACE = cfg.NAMESPACE || HTML_NAMESPACE;\n    CUSTOM_ELEMENT_HANDLING = cfg.CUSTOM_ELEMENT_HANDLING || {};\n\n    if (cfg.CUSTOM_ELEMENT_HANDLING && isRegexOrFunction(cfg.CUSTOM_ELEMENT_HANDLING.tagNameCheck)) {\n      CUSTOM_ELEMENT_HANDLING.tagNameCheck = cfg.CUSTOM_ELEMENT_HANDLING.tagNameCheck;\n    }\n\n    if (cfg.CUSTOM_ELEMENT_HANDLING && isRegexOrFunction(cfg.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)) {\n      CUSTOM_ELEMENT_HANDLING.attributeNameCheck = cfg.CUSTOM_ELEMENT_HANDLING.attributeNameCheck;\n    }\n\n    if (cfg.CUSTOM_ELEMENT_HANDLING && typeof cfg.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements === 'boolean') {\n      CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements = cfg.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements;\n    }\n\n    if (SAFE_FOR_TEMPLATES) {\n      ALLOW_DATA_ATTR = false;\n    }\n\n    if (RETURN_DOM_FRAGMENT) {\n      RETURN_DOM = true;\n    }\n    /* Parse profile info */\n\n\n    if (USE_PROFILES) {\n      ALLOWED_TAGS = addToSet({}, [...text]);\n      ALLOWED_ATTR = [];\n\n      if (USE_PROFILES.html === true) {\n        addToSet(ALLOWED_TAGS, html$1);\n        addToSet(ALLOWED_ATTR, html);\n      }\n\n      if (USE_PROFILES.svg === true) {\n        addToSet(ALLOWED_TAGS, svg$1);\n        addToSet(ALLOWED_ATTR, svg);\n        addToSet(ALLOWED_ATTR, xml);\n      }\n\n      if (USE_PROFILES.svgFilters === true) {\n        addToSet(ALLOWED_TAGS, svgFilters);\n        addToSet(ALLOWED_ATTR, svg);\n        addToSet(ALLOWED_ATTR, xml);\n      }\n\n      if (USE_PROFILES.mathMl === true) {\n        addToSet(ALLOWED_TAGS, mathMl$1);\n        addToSet(ALLOWED_ATTR, mathMl);\n        addToSet(ALLOWED_ATTR, xml);\n      }\n    }\n    /* Merge configuration parameters */\n\n\n    if (cfg.ADD_TAGS) {\n      if (ALLOWED_TAGS === DEFAULT_ALLOWED_TAGS) {\n        ALLOWED_TAGS = clone(ALLOWED_TAGS);\n      }\n\n      addToSet(ALLOWED_TAGS, cfg.ADD_TAGS, transformCaseFunc);\n    }\n\n    if (cfg.ADD_ATTR) {\n      if (ALLOWED_ATTR === DEFAULT_ALLOWED_ATTR) {\n        ALLOWED_ATTR = clone(ALLOWED_ATTR);\n      }\n\n      addToSet(ALLOWED_ATTR, cfg.ADD_ATTR, transformCaseFunc);\n    }\n\n    if (cfg.ADD_URI_SAFE_ATTR) {\n      addToSet(URI_SAFE_ATTRIBUTES, cfg.ADD_URI_SAFE_ATTR, transformCaseFunc);\n    }\n\n    if (cfg.FORBID_CONTENTS) {\n      if (FORBID_CONTENTS === DEFAULT_FORBID_CONTENTS) {\n        FORBID_CONTENTS = clone(FORBID_CONTENTS);\n      }\n\n      addToSet(FORBID_CONTENTS, cfg.FORBID_CONTENTS, transformCaseFunc);\n    }\n    /* Add #text in case KEEP_CONTENT is set to true */\n\n\n    if (KEEP_CONTENT) {\n      ALLOWED_TAGS['#text'] = true;\n    }\n    /* Add html, head and body to ALLOWED_TAGS in case WHOLE_DOCUMENT is true */\n\n\n    if (WHOLE_DOCUMENT) {\n      addToSet(ALLOWED_TAGS, ['html', 'head', 'body']);\n    }\n    /* Add tbody to ALLOWED_TAGS in case tables are permitted, see #286, #365 */\n\n\n    if (ALLOWED_TAGS.table) {\n      addToSet(ALLOWED_TAGS, ['tbody']);\n      delete FORBID_TAGS.tbody;\n    }\n\n    if (cfg.TRUSTED_TYPES_POLICY) {\n      if (typeof cfg.TRUSTED_TYPES_POLICY.createHTML !== 'function') {\n        throw typeErrorCreate('TRUSTED_TYPES_POLICY configuration option must provide a \"createHTML\" hook.');\n      }\n\n      if (typeof cfg.TRUSTED_TYPES_POLICY.createScriptURL !== 'function') {\n        throw typeErrorCreate('TRUSTED_TYPES_POLICY configuration option must provide a \"createScriptURL\" hook.');\n      } // Overwrite existing TrustedTypes policy.\n\n\n      trustedTypesPolicy = cfg.TRUSTED_TYPES_POLICY; // Sign local variables required by `sanitize`.\n\n      emptyHTML = trustedTypesPolicy.createHTML('');\n    } else {\n      // Uninitialized policy, attempt to initialize the internal dompurify policy.\n      if (trustedTypesPolicy === undefined) {\n        trustedTypesPolicy = _createTrustedTypesPolicy(trustedTypes, currentScript);\n      } // If creating the internal policy succeeded sign internal variables.\n\n\n      if (trustedTypesPolicy !== null && typeof emptyHTML === 'string') {\n        emptyHTML = trustedTypesPolicy.createHTML('');\n      }\n    } // Prevent further manipulation of configuration.\n    // Not available in IE8, Safari 5, etc.\n\n\n    if (freeze) {\n      freeze(cfg);\n    }\n\n    CONFIG = cfg;\n  };\n\n  const MATHML_TEXT_INTEGRATION_POINTS = addToSet({}, ['mi', 'mo', 'mn', 'ms', 'mtext']);\n  const HTML_INTEGRATION_POINTS = addToSet({}, ['foreignobject', 'desc', 'title', 'annotation-xml']); // Certain elements are allowed in both SVG and HTML\n  // namespace. We need to specify them explicitly\n  // so that they don't get erroneously deleted from\n  // HTML namespace.\n\n  const COMMON_SVG_AND_HTML_ELEMENTS = addToSet({}, ['title', 'style', 'font', 'a', 'script']);\n  /* Keep track of all possible SVG and MathML tags\n   * so that we can perform the namespace checks\n   * correctly. */\n\n  const ALL_SVG_TAGS = addToSet({}, svg$1);\n  addToSet(ALL_SVG_TAGS, svgFilters);\n  addToSet(ALL_SVG_TAGS, svgDisallowed);\n  const ALL_MATHML_TAGS = addToSet({}, mathMl$1);\n  addToSet(ALL_MATHML_TAGS, mathMlDisallowed);\n  /**\n   *\n   *\n   * @param  {Element} element a DOM element whose namespace is being checked\n   * @returns {boolean} Return false if the element has a\n   *  namespace that a spec-compliant parser would never\n   *  return. Return true otherwise.\n   */\n\n  const _checkValidNamespace = function _checkValidNamespace(element) {\n    let parent = getParentNode(element); // In JSDOM, if we're inside shadow DOM, then parentNode\n    // can be null. We just simulate parent in this case.\n\n    if (!parent || !parent.tagName) {\n      parent = {\n        namespaceURI: NAMESPACE,\n        tagName: 'template'\n      };\n    }\n\n    const tagName = stringToLowerCase(element.tagName);\n    const parentTagName = stringToLowerCase(parent.tagName);\n\n    if (!ALLOWED_NAMESPACES[element.namespaceURI]) {\n      return false;\n    }\n\n    if (element.namespaceURI === SVG_NAMESPACE) {\n      // The only way to switch from HTML namespace to SVG\n      // is via <svg>. If it happens via any other tag, then\n      // it should be killed.\n      if (parent.namespaceURI === HTML_NAMESPACE) {\n        return tagName === 'svg';\n      } // The only way to switch from MathML to SVG is via`\n      // svg if parent is either <annotation-xml> or MathML\n      // text integration points.\n\n\n      if (parent.namespaceURI === MATHML_NAMESPACE) {\n        return tagName === 'svg' && (parentTagName === 'annotation-xml' || MATHML_TEXT_INTEGRATION_POINTS[parentTagName]);\n      } // We only allow elements that are defined in SVG\n      // spec. All others are disallowed in SVG namespace.\n\n\n      return Boolean(ALL_SVG_TAGS[tagName]);\n    }\n\n    if (element.namespaceURI === MATHML_NAMESPACE) {\n      // The only way to switch from HTML namespace to MathML\n      // is via <math>. If it happens via any other tag, then\n      // it should be killed.\n      if (parent.namespaceURI === HTML_NAMESPACE) {\n        return tagName === 'math';\n      } // The only way to switch from SVG to MathML is via\n      // <math> and HTML integration points\n\n\n      if (parent.namespaceURI === SVG_NAMESPACE) {\n        return tagName === 'math' && HTML_INTEGRATION_POINTS[parentTagName];\n      } // We only allow elements that are defined in MathML\n      // spec. All others are disallowed in MathML namespace.\n\n\n      return Boolean(ALL_MATHML_TAGS[tagName]);\n    }\n\n    if (element.namespaceURI === HTML_NAMESPACE) {\n      // The only way to switch from SVG to HTML is via\n      // HTML integration points, and from MathML to HTML\n      // is via MathML text integration points\n      if (parent.namespaceURI === SVG_NAMESPACE && !HTML_INTEGRATION_POINTS[parentTagName]) {\n        return false;\n      }\n\n      if (parent.namespaceURI === MATHML_NAMESPACE && !MATHML_TEXT_INTEGRATION_POINTS[parentTagName]) {\n        return false;\n      } // We disallow tags that are specific for MathML\n      // or SVG and should never appear in HTML namespace\n\n\n      return !ALL_MATHML_TAGS[tagName] && (COMMON_SVG_AND_HTML_ELEMENTS[tagName] || !ALL_SVG_TAGS[tagName]);\n    } // For XHTML and XML documents that support custom namespaces\n\n\n    if (PARSER_MEDIA_TYPE === 'application/xhtml+xml' && ALLOWED_NAMESPACES[element.namespaceURI]) {\n      return true;\n    } // The code should never reach this place (this means\n    // that the element somehow got namespace that is not\n    // HTML, SVG, MathML or allowed via ALLOWED_NAMESPACES).\n    // Return false just in case.\n\n\n    return false;\n  };\n  /**\n   * _forceRemove\n   *\n   * @param  {Node} node a DOM node\n   */\n\n\n  const _forceRemove = function _forceRemove(node) {\n    arrayPush(DOMPurify.removed, {\n      element: node\n    });\n\n    try {\n      // eslint-disable-next-line unicorn/prefer-dom-node-remove\n      node.parentNode.removeChild(node);\n    } catch (_) {\n      node.remove();\n    }\n  };\n  /**\n   * _removeAttribute\n   *\n   * @param  {String} name an Attribute name\n   * @param  {Node} node a DOM node\n   */\n\n\n  const _removeAttribute = function _removeAttribute(name, node) {\n    try {\n      arrayPush(DOMPurify.removed, {\n        attribute: node.getAttributeNode(name),\n        from: node\n      });\n    } catch (_) {\n      arrayPush(DOMPurify.removed, {\n        attribute: null,\n        from: node\n      });\n    }\n\n    node.removeAttribute(name); // We void attribute values for unremovable \"is\"\" attributes\n\n    if (name === 'is' && !ALLOWED_ATTR[name]) {\n      if (RETURN_DOM || RETURN_DOM_FRAGMENT) {\n        try {\n          _forceRemove(node);\n        } catch (_) {}\n      } else {\n        try {\n          node.setAttribute(name, '');\n        } catch (_) {}\n      }\n    }\n  };\n  /**\n   * _initDocument\n   *\n   * @param  {String} dirty a string of dirty markup\n   * @return {Document} a DOM, filled with the dirty markup\n   */\n\n\n  const _initDocument = function _initDocument(dirty) {\n    /* Create a HTML document */\n    let doc;\n    let leadingWhitespace;\n\n    if (FORCE_BODY) {\n      dirty = '<remove></remove>' + dirty;\n    } else {\n      /* If FORCE_BODY isn't used, leading whitespace needs to be preserved manually */\n      const matches = stringMatch(dirty, /^[\\r\\n\\t ]+/);\n      leadingWhitespace = matches && matches[0];\n    }\n\n    if (PARSER_MEDIA_TYPE === 'application/xhtml+xml' && NAMESPACE === HTML_NAMESPACE) {\n      // Root of XHTML doc must contain xmlns declaration (see https://www.w3.org/TR/xhtml1/normative.html#strict)\n      dirty = '<html xmlns=\"http://www.w3.org/1999/xhtml\"><head></head><body>' + dirty + '</body></html>';\n    }\n\n    const dirtyPayload = trustedTypesPolicy ? trustedTypesPolicy.createHTML(dirty) : dirty;\n    /*\n     * Use the DOMParser API by default, fallback later if needs be\n     * DOMParser not work for svg when has multiple root element.\n     */\n\n    if (NAMESPACE === HTML_NAMESPACE) {\n      try {\n        doc = new DOMParser().parseFromString(dirtyPayload, PARSER_MEDIA_TYPE);\n      } catch (_) {}\n    }\n    /* Use createHTMLDocument in case DOMParser is not available */\n\n\n    if (!doc || !doc.documentElement) {\n      doc = implementation.createDocument(NAMESPACE, 'template', null);\n\n      try {\n        doc.documentElement.innerHTML = IS_EMPTY_INPUT ? emptyHTML : dirtyPayload;\n      } catch (_) {// Syntax error if dirtyPayload is invalid xml\n      }\n    }\n\n    const body = doc.body || doc.documentElement;\n\n    if (dirty && leadingWhitespace) {\n      body.insertBefore(document.createTextNode(leadingWhitespace), body.childNodes[0] || null);\n    }\n    /* Work on whole document or just its body */\n\n\n    if (NAMESPACE === HTML_NAMESPACE) {\n      return getElementsByTagName.call(doc, WHOLE_DOCUMENT ? 'html' : 'body')[0];\n    }\n\n    return WHOLE_DOCUMENT ? doc.documentElement : body;\n  };\n  /**\n   * _createIterator\n   *\n   * @param  {Document} root document/fragment to create iterator for\n   * @return {Iterator} iterator instance\n   */\n\n\n  const _createIterator = function _createIterator(root) {\n    return createNodeIterator.call(root.ownerDocument || root, root, // eslint-disable-next-line no-bitwise\n    NodeFilter.SHOW_ELEMENT | NodeFilter.SHOW_COMMENT | NodeFilter.SHOW_TEXT, null, false);\n  };\n  /**\n   * _isClobbered\n   *\n   * @param  {Node} elm element to check for clobbering attacks\n   * @return {Boolean} true if clobbered, false if safe\n   */\n\n\n  const _isClobbered = function _isClobbered(elm) {\n    return elm instanceof HTMLFormElement && (typeof elm.nodeName !== 'string' || typeof elm.textContent !== 'string' || typeof elm.removeChild !== 'function' || !(elm.attributes instanceof NamedNodeMap) || typeof elm.removeAttribute !== 'function' || typeof elm.setAttribute !== 'function' || typeof elm.namespaceURI !== 'string' || typeof elm.insertBefore !== 'function' || typeof elm.hasChildNodes !== 'function');\n  };\n  /**\n   * _isNode\n   *\n   * @param  {Node} obj object to check whether it's a DOM node\n   * @return {Boolean} true is object is a DOM node\n   */\n\n\n  const _isNode = function _isNode(object) {\n    return typeof Node === 'object' ? object instanceof Node : object && typeof object === 'object' && typeof object.nodeType === 'number' && typeof object.nodeName === 'string';\n  };\n  /**\n   * _executeHook\n   * Execute user configurable hooks\n   *\n   * @param  {String} entryPoint  Name of the hook's entry point\n   * @param  {Node} currentNode node to work on with the hook\n   * @param  {Object} data additional hook parameters\n   */\n\n\n  const _executeHook = function _executeHook(entryPoint, currentNode, data) {\n    if (!hooks[entryPoint]) {\n      return;\n    }\n\n    arrayForEach(hooks[entryPoint], hook => {\n      hook.call(DOMPurify, currentNode, data, CONFIG);\n    });\n  };\n  /**\n   * _sanitizeElements\n   *\n   * @protect nodeName\n   * @protect textContent\n   * @protect removeChild\n   *\n   * @param   {Node} currentNode to check for permission to exist\n   * @return  {Boolean} true if node was killed, false if left alive\n   */\n\n\n  const _sanitizeElements = function _sanitizeElements(currentNode) {\n    let content;\n    /* Execute a hook if present */\n\n    _executeHook('beforeSanitizeElements', currentNode, null);\n    /* Check if element is clobbered or can clobber */\n\n\n    if (_isClobbered(currentNode)) {\n      _forceRemove(currentNode);\n\n      return true;\n    }\n    /* Now let's check the element's type and name */\n\n\n    const tagName = transformCaseFunc(currentNode.nodeName);\n    /* Execute a hook if present */\n\n    _executeHook('uponSanitizeElement', currentNode, {\n      tagName,\n      allowedTags: ALLOWED_TAGS\n    });\n    /* Detect mXSS attempts abusing namespace confusion */\n\n\n    if (currentNode.hasChildNodes() && !_isNode(currentNode.firstElementChild) && (!_isNode(currentNode.content) || !_isNode(currentNode.content.firstElementChild)) && regExpTest(/<[/\\w]/g, currentNode.innerHTML) && regExpTest(/<[/\\w]/g, currentNode.textContent)) {\n      _forceRemove(currentNode);\n\n      return true;\n    }\n    /* Remove element if anything forbids its presence */\n\n\n    if (!ALLOWED_TAGS[tagName] || FORBID_TAGS[tagName]) {\n      /* Check if we have a custom element to handle */\n      if (!FORBID_TAGS[tagName] && _basicCustomElementTest(tagName)) {\n        if (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp && regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck, tagName)) return false;\n        if (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function && CUSTOM_ELEMENT_HANDLING.tagNameCheck(tagName)) return false;\n      }\n      /* Keep content except for bad-listed elements */\n\n\n      if (KEEP_CONTENT && !FORBID_CONTENTS[tagName]) {\n        const parentNode = getParentNode(currentNode) || currentNode.parentNode;\n        const childNodes = getChildNodes(currentNode) || currentNode.childNodes;\n\n        if (childNodes && parentNode) {\n          const childCount = childNodes.length;\n\n          for (let i = childCount - 1; i >= 0; --i) {\n            parentNode.insertBefore(cloneNode(childNodes[i], true), getNextSibling(currentNode));\n          }\n        }\n      }\n\n      _forceRemove(currentNode);\n\n      return true;\n    }\n    /* Check whether element has a valid namespace */\n\n\n    if (currentNode instanceof Element && !_checkValidNamespace(currentNode)) {\n      _forceRemove(currentNode);\n\n      return true;\n    }\n    /* Make sure that older browsers don't get noscript mXSS */\n\n\n    if ((tagName === 'noscript' || tagName === 'noembed') && regExpTest(/<\\/no(script|embed)/i, currentNode.innerHTML)) {\n      _forceRemove(currentNode);\n\n      return true;\n    }\n    /* Sanitize element content to be template-safe */\n\n\n    if (SAFE_FOR_TEMPLATES && currentNode.nodeType === 3) {\n      /* Get the element's text content */\n      content = currentNode.textContent;\n      content = stringReplace(content, MUSTACHE_EXPR, ' ');\n      content = stringReplace(content, ERB_EXPR, ' ');\n      content = stringReplace(content, TMPLIT_EXPR, ' ');\n\n      if (currentNode.textContent !== content) {\n        arrayPush(DOMPurify.removed, {\n          element: currentNode.cloneNode()\n        });\n        currentNode.textContent = content;\n      }\n    }\n    /* Execute a hook if present */\n\n\n    _executeHook('afterSanitizeElements', currentNode, null);\n\n    return false;\n  };\n  /**\n   * _isValidAttribute\n   *\n   * @param  {string} lcTag Lowercase tag name of containing element.\n   * @param  {string} lcName Lowercase attribute name.\n   * @param  {string} value Attribute value.\n   * @return {Boolean} Returns true if `value` is valid, otherwise false.\n   */\n  // eslint-disable-next-line complexity\n\n\n  const _isValidAttribute = function _isValidAttribute(lcTag, lcName, value) {\n    /* Make sure attribute cannot clobber */\n    if (SANITIZE_DOM && (lcName === 'id' || lcName === 'name') && (value in document || value in formElement)) {\n      return false;\n    }\n    /* Allow valid data-* attributes: At least one character after \"-\"\n        (https://html.spec.whatwg.org/multipage/dom.html#embedding-custom-non-visible-data-with-the-data-*-attributes)\n        XML-compatible (https://html.spec.whatwg.org/multipage/infrastructure.html#xml-compatible and http://www.w3.org/TR/xml/#d0e804)\n        We don't need to check the value; it's always URI safe. */\n\n\n    if (ALLOW_DATA_ATTR && !FORBID_ATTR[lcName] && regExpTest(DATA_ATTR, lcName)) ; else if (ALLOW_ARIA_ATTR && regExpTest(ARIA_ATTR, lcName)) ; else if (!ALLOWED_ATTR[lcName] || FORBID_ATTR[lcName]) {\n      if ( // First condition does a very basic check if a) it's basically a valid custom element tagname AND\n      // b) if the tagName passes whatever the user has configured for CUSTOM_ELEMENT_HANDLING.tagNameCheck\n      // and c) if the attribute name passes whatever the user has configured for CUSTOM_ELEMENT_HANDLING.attributeNameCheck\n      _basicCustomElementTest(lcTag) && (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp && regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck, lcTag) || CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function && CUSTOM_ELEMENT_HANDLING.tagNameCheck(lcTag)) && (CUSTOM_ELEMENT_HANDLING.attributeNameCheck instanceof RegExp && regExpTest(CUSTOM_ELEMENT_HANDLING.attributeNameCheck, lcName) || CUSTOM_ELEMENT_HANDLING.attributeNameCheck instanceof Function && CUSTOM_ELEMENT_HANDLING.attributeNameCheck(lcName)) || // Alternative, second condition checks if it's an `is`-attribute, AND\n      // the value passes whatever the user has configured for CUSTOM_ELEMENT_HANDLING.tagNameCheck\n      lcName === 'is' && CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements && (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp && regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck, value) || CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function && CUSTOM_ELEMENT_HANDLING.tagNameCheck(value))) ; else {\n        return false;\n      }\n      /* Check value is safe. First, is attr inert? If so, is safe */\n\n    } else if (URI_SAFE_ATTRIBUTES[lcName]) ; else if (regExpTest(IS_ALLOWED_URI$1, stringReplace(value, ATTR_WHITESPACE, ''))) ; else if ((lcName === 'src' || lcName === 'xlink:href' || lcName === 'href') && lcTag !== 'script' && stringIndexOf(value, 'data:') === 0 && DATA_URI_TAGS[lcTag]) ; else if (ALLOW_UNKNOWN_PROTOCOLS && !regExpTest(IS_SCRIPT_OR_DATA, stringReplace(value, ATTR_WHITESPACE, ''))) ; else if (value) {\n      return false;\n    } else ;\n\n    return true;\n  };\n  /**\n   * _basicCustomElementCheck\n   * checks if at least one dash is included in tagName, and it's not the first char\n   * for more sophisticated checking see https://github.com/sindresorhus/validate-element-name\n   * @param {string} tagName name of the tag of the node to sanitize\n   */\n\n\n  const _basicCustomElementTest = function _basicCustomElementTest(tagName) {\n    return tagName.indexOf('-') > 0;\n  };\n  /**\n   * _sanitizeAttributes\n   *\n   * @protect attributes\n   * @protect nodeName\n   * @protect removeAttribute\n   * @protect setAttribute\n   *\n   * @param  {Node} currentNode to sanitize\n   */\n\n\n  const _sanitizeAttributes = function _sanitizeAttributes(currentNode) {\n    let attr;\n    let value;\n    let lcName;\n    let l;\n    /* Execute a hook if present */\n\n    _executeHook('beforeSanitizeAttributes', currentNode, null);\n\n    const {\n      attributes\n    } = currentNode;\n    /* Check if we have attributes; if not we might have a text node */\n\n    if (!attributes) {\n      return;\n    }\n\n    const hookEvent = {\n      attrName: '',\n      attrValue: '',\n      keepAttr: true,\n      allowedAttributes: ALLOWED_ATTR\n    };\n    l = attributes.length;\n    /* Go backwards over all attributes; safely remove bad ones */\n\n    while (l--) {\n      attr = attributes[l];\n      const {\n        name,\n        namespaceURI\n      } = attr;\n      value = name === 'value' ? attr.value : stringTrim(attr.value);\n      lcName = transformCaseFunc(name);\n      /* Execute a hook if present */\n\n      hookEvent.attrName = lcName;\n      hookEvent.attrValue = value;\n      hookEvent.keepAttr = true;\n      hookEvent.forceKeepAttr = undefined; // Allows developers to see this is a property they can set\n\n      _executeHook('uponSanitizeAttribute', currentNode, hookEvent);\n\n      value = hookEvent.attrValue;\n      /* Did the hooks approve of the attribute? */\n\n      if (hookEvent.forceKeepAttr) {\n        continue;\n      }\n      /* Remove attribute */\n\n\n      _removeAttribute(name, currentNode);\n      /* Did the hooks approve of the attribute? */\n\n\n      if (!hookEvent.keepAttr) {\n        continue;\n      }\n      /* Work around a security issue in jQuery 3.0 */\n\n\n      if (!ALLOW_SELF_CLOSE_IN_ATTR && regExpTest(/\\/>/i, value)) {\n        _removeAttribute(name, currentNode);\n\n        continue;\n      }\n      /* Sanitize attribute content to be template-safe */\n\n\n      if (SAFE_FOR_TEMPLATES) {\n        value = stringReplace(value, MUSTACHE_EXPR, ' ');\n        value = stringReplace(value, ERB_EXPR, ' ');\n        value = stringReplace(value, TMPLIT_EXPR, ' ');\n      }\n      /* Is `value` valid for this attribute? */\n\n\n      const lcTag = transformCaseFunc(currentNode.nodeName);\n\n      if (!_isValidAttribute(lcTag, lcName, value)) {\n        continue;\n      }\n      /* Full DOM Clobbering protection via namespace isolation,\n       * Prefix id and name attributes with `user-content-`\n       */\n\n\n      if (SANITIZE_NAMED_PROPS && (lcName === 'id' || lcName === 'name')) {\n        // Remove the attribute with this value\n        _removeAttribute(name, currentNode); // Prefix the value and later re-create the attribute with the sanitized value\n\n\n        value = SANITIZE_NAMED_PROPS_PREFIX + value;\n      }\n      /* Handle attributes that require Trusted Types */\n\n\n      if (trustedTypesPolicy && typeof trustedTypes === 'object' && typeof trustedTypes.getAttributeType === 'function') {\n        if (namespaceURI) ; else {\n          switch (trustedTypes.getAttributeType(lcTag, lcName)) {\n            case 'TrustedHTML':\n              {\n                value = trustedTypesPolicy.createHTML(value);\n                break;\n              }\n\n            case 'TrustedScriptURL':\n              {\n                value = trustedTypesPolicy.createScriptURL(value);\n                break;\n              }\n          }\n        }\n      }\n      /* Handle invalid data-* attribute set by try-catching it */\n\n\n      try {\n        if (namespaceURI) {\n          currentNode.setAttributeNS(namespaceURI, name, value);\n        } else {\n          /* Fallback to setAttribute() for browser-unrecognized namespaces e.g. \"x-schema\". */\n          currentNode.setAttribute(name, value);\n        }\n\n        arrayPop(DOMPurify.removed);\n      } catch (_) {}\n    }\n    /* Execute a hook if present */\n\n\n    _executeHook('afterSanitizeAttributes', currentNode, null);\n  };\n  /**\n   * _sanitizeShadowDOM\n   *\n   * @param  {DocumentFragment} fragment to iterate over recursively\n   */\n\n\n  const _sanitizeShadowDOM = function _sanitizeShadowDOM(fragment) {\n    let shadowNode;\n\n    const shadowIterator = _createIterator(fragment);\n    /* Execute a hook if present */\n\n\n    _executeHook('beforeSanitizeShadowDOM', fragment, null);\n\n    while (shadowNode = shadowIterator.nextNode()) {\n      /* Execute a hook if present */\n      _executeHook('uponSanitizeShadowNode', shadowNode, null);\n      /* Sanitize tags and elements */\n\n\n      if (_sanitizeElements(shadowNode)) {\n        continue;\n      }\n      /* Deep shadow DOM detected */\n\n\n      if (shadowNode.content instanceof DocumentFragment) {\n        _sanitizeShadowDOM(shadowNode.content);\n      }\n      /* Check attributes, sanitize if necessary */\n\n\n      _sanitizeAttributes(shadowNode);\n    }\n    /* Execute a hook if present */\n\n\n    _executeHook('afterSanitizeShadowDOM', fragment, null);\n  };\n  /**\n   * Sanitize\n   * Public method providing core sanitation functionality\n   *\n   * @param {String|Node} dirty string or DOM node\n   * @param {Object} configuration object\n   */\n  // eslint-disable-next-line complexity\n\n\n  DOMPurify.sanitize = function (dirty) {\n    let cfg = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    let body;\n    let importedNode;\n    let currentNode;\n    let returnNode;\n    /* Make sure we have a string to sanitize.\n      DO NOT return early, as this will return the wrong type if\n      the user has requested a DOM object rather than a string */\n\n    IS_EMPTY_INPUT = !dirty;\n\n    if (IS_EMPTY_INPUT) {\n      dirty = '<!-->';\n    }\n    /* Stringify, in case dirty is an object */\n\n\n    if (typeof dirty !== 'string' && !_isNode(dirty)) {\n      if (typeof dirty.toString === 'function') {\n        dirty = dirty.toString();\n\n        if (typeof dirty !== 'string') {\n          throw typeErrorCreate('dirty is not a string, aborting');\n        }\n      } else {\n        throw typeErrorCreate('toString is not a function');\n      }\n    }\n    /* Return dirty HTML if DOMPurify cannot run */\n\n\n    if (!DOMPurify.isSupported) {\n      return dirty;\n    }\n    /* Assign config vars */\n\n\n    if (!SET_CONFIG) {\n      _parseConfig(cfg);\n    }\n    /* Clean up removed elements */\n\n\n    DOMPurify.removed = [];\n    /* Check if dirty is correctly typed for IN_PLACE */\n\n    if (typeof dirty === 'string') {\n      IN_PLACE = false;\n    }\n\n    if (IN_PLACE) {\n      /* Do some early pre-sanitization to avoid unsafe root nodes */\n      if (dirty.nodeName) {\n        const tagName = transformCaseFunc(dirty.nodeName);\n\n        if (!ALLOWED_TAGS[tagName] || FORBID_TAGS[tagName]) {\n          throw typeErrorCreate('root node is forbidden and cannot be sanitized in-place');\n        }\n      }\n    } else if (dirty instanceof Node) {\n      /* If dirty is a DOM element, append to an empty document to avoid\n         elements being stripped by the parser */\n      body = _initDocument('<!---->');\n      importedNode = body.ownerDocument.importNode(dirty, true);\n\n      if (importedNode.nodeType === 1 && importedNode.nodeName === 'BODY') {\n        /* Node is already a body, use as is */\n        body = importedNode;\n      } else if (importedNode.nodeName === 'HTML') {\n        body = importedNode;\n      } else {\n        // eslint-disable-next-line unicorn/prefer-dom-node-append\n        body.appendChild(importedNode);\n      }\n    } else {\n      /* Exit directly if we have nothing to do */\n      if (!RETURN_DOM && !SAFE_FOR_TEMPLATES && !WHOLE_DOCUMENT && // eslint-disable-next-line unicorn/prefer-includes\n      dirty.indexOf('<') === -1) {\n        return trustedTypesPolicy && RETURN_TRUSTED_TYPE ? trustedTypesPolicy.createHTML(dirty) : dirty;\n      }\n      /* Initialize the document to work on */\n\n\n      body = _initDocument(dirty);\n      /* Check we have a DOM node from the data */\n\n      if (!body) {\n        return RETURN_DOM ? null : RETURN_TRUSTED_TYPE ? emptyHTML : '';\n      }\n    }\n    /* Remove first element node (ours) if FORCE_BODY is set */\n\n\n    if (body && FORCE_BODY) {\n      _forceRemove(body.firstChild);\n    }\n    /* Get node iterator */\n\n\n    const nodeIterator = _createIterator(IN_PLACE ? dirty : body);\n    /* Now start iterating over the created document */\n\n\n    while (currentNode = nodeIterator.nextNode()) {\n      /* Sanitize tags and elements */\n      if (_sanitizeElements(currentNode)) {\n        continue;\n      }\n      /* Shadow DOM detected, sanitize it */\n\n\n      if (currentNode.content instanceof DocumentFragment) {\n        _sanitizeShadowDOM(currentNode.content);\n      }\n      /* Check attributes, sanitize if necessary */\n\n\n      _sanitizeAttributes(currentNode);\n    }\n    /* If we sanitized `dirty` in-place, return it. */\n\n\n    if (IN_PLACE) {\n      return dirty;\n    }\n    /* Return sanitized string or DOM */\n\n\n    if (RETURN_DOM) {\n      if (RETURN_DOM_FRAGMENT) {\n        returnNode = createDocumentFragment.call(body.ownerDocument);\n\n        while (body.firstChild) {\n          // eslint-disable-next-line unicorn/prefer-dom-node-append\n          returnNode.appendChild(body.firstChild);\n        }\n      } else {\n        returnNode = body;\n      }\n\n      if (ALLOWED_ATTR.shadowroot || ALLOWED_ATTR.shadowrootmod) {\n        /*\n          AdoptNode() is not used because internal state is not reset\n          (e.g. the past names map of a HTMLFormElement), this is safe\n          in theory but we would rather not risk another attack vector.\n          The state that is cloned by importNode() is explicitly defined\n          by the specs.\n        */\n        returnNode = importNode.call(originalDocument, returnNode, true);\n      }\n\n      return returnNode;\n    }\n\n    let serializedHTML = WHOLE_DOCUMENT ? body.outerHTML : body.innerHTML;\n    /* Serialize doctype if allowed */\n\n    if (WHOLE_DOCUMENT && ALLOWED_TAGS['!doctype'] && body.ownerDocument && body.ownerDocument.doctype && body.ownerDocument.doctype.name && regExpTest(DOCTYPE_NAME, body.ownerDocument.doctype.name)) {\n      serializedHTML = '<!DOCTYPE ' + body.ownerDocument.doctype.name + '>\\n' + serializedHTML;\n    }\n    /* Sanitize final string template-safe */\n\n\n    if (SAFE_FOR_TEMPLATES) {\n      serializedHTML = stringReplace(serializedHTML, MUSTACHE_EXPR, ' ');\n      serializedHTML = stringReplace(serializedHTML, ERB_EXPR, ' ');\n      serializedHTML = stringReplace(serializedHTML, TMPLIT_EXPR, ' ');\n    }\n\n    return trustedTypesPolicy && RETURN_TRUSTED_TYPE ? trustedTypesPolicy.createHTML(serializedHTML) : serializedHTML;\n  };\n  /**\n   * Public method to set the configuration once\n   * setConfig\n   *\n   * @param {Object} cfg configuration object\n   */\n\n\n  DOMPurify.setConfig = function (cfg) {\n    _parseConfig(cfg);\n\n    SET_CONFIG = true;\n  };\n  /**\n   * Public method to remove the configuration\n   * clearConfig\n   *\n   */\n\n\n  DOMPurify.clearConfig = function () {\n    CONFIG = null;\n    SET_CONFIG = false;\n  };\n  /**\n   * Public method to check if an attribute value is valid.\n   * Uses last set config, if any. Otherwise, uses config defaults.\n   * isValidAttribute\n   *\n   * @param  {string} tag Tag name of containing element.\n   * @param  {string} attr Attribute name.\n   * @param  {string} value Attribute value.\n   * @return {Boolean} Returns true if `value` is valid. Otherwise, returns false.\n   */\n\n\n  DOMPurify.isValidAttribute = function (tag, attr, value) {\n    /* Initialize shared config vars if necessary. */\n    if (!CONFIG) {\n      _parseConfig({});\n    }\n\n    const lcTag = transformCaseFunc(tag);\n    const lcName = transformCaseFunc(attr);\n    return _isValidAttribute(lcTag, lcName, value);\n  };\n  /**\n   * AddHook\n   * Public method to add DOMPurify hooks\n   *\n   * @param {String} entryPoint entry point for the hook to add\n   * @param {Function} hookFunction function to execute\n   */\n\n\n  DOMPurify.addHook = function (entryPoint, hookFunction) {\n    if (typeof hookFunction !== 'function') {\n      return;\n    }\n\n    hooks[entryPoint] = hooks[entryPoint] || [];\n    arrayPush(hooks[entryPoint], hookFunction);\n  };\n  /**\n   * RemoveHook\n   * Public method to remove a DOMPurify hook at a given entryPoint\n   * (pops it from the stack of hooks if more are present)\n   *\n   * @param {String} entryPoint entry point for the hook to remove\n   * @return {Function} removed(popped) hook\n   */\n\n\n  DOMPurify.removeHook = function (entryPoint) {\n    if (hooks[entryPoint]) {\n      return arrayPop(hooks[entryPoint]);\n    }\n  };\n  /**\n   * RemoveHooks\n   * Public method to remove all DOMPurify hooks at a given entryPoint\n   *\n   * @param  {String} entryPoint entry point for the hooks to remove\n   */\n\n\n  DOMPurify.removeHooks = function (entryPoint) {\n    if (hooks[entryPoint]) {\n      hooks[entryPoint] = [];\n    }\n  };\n  /**\n   * RemoveAllHooks\n   * Public method to remove all DOMPurify hooks\n   *\n   */\n\n\n  DOMPurify.removeAllHooks = function () {\n    hooks = {};\n  };\n\n  return DOMPurify;\n}\n\nvar purify = createDOMPurify();\n\nexport { purify as default };\n//# sourceMappingURL=purify.es.js.map\n","<script lang=\"ts\">\n\timport { Error, Info, Warning, Success } from \"@gradio/icons\";\n\timport DOMPurify from \"dompurify\";\n\timport { createEventDispatcher, onMount } from \"svelte\";\n\timport { fade } from \"svelte/transition\";\n\timport type { ToastMessage } from \"./types\";\n\n\texport let title = \"\";\n\texport let message = \"\";\n\texport let type: ToastMessage[\"type\"];\n\texport let id: number;\n\texport let duration: number | null = 10;\n\texport let visible = true;\n\n\tconst is_external_url = (link: string | null): boolean => {\n\t\ttry {\n\t\t\treturn !!link && new URL(link, location.href).origin !== location.origin;\n\t\t} catch (e) {\n\t\t\treturn false;\n\t\t}\n\t};\n\n\tDOMPurify.addHook(\"afterSanitizeAttributes\", function (node) {\n\t\tif (\"target\" in node) {\n\t\t\tif (is_external_url(node.getAttribute(\"href\"))) {\n\t\t\t\tnode.setAttribute(\"target\", \"_blank\");\n\t\t\t\tnode.setAttribute(\"rel\", \"noopener noreferrer\");\n\t\t\t}\n\t\t}\n\t});\n\t$: message = DOMPurify.sanitize(message);\n\t$: display = visible;\n\t$: duration = duration || null;\n\n\tconst dispatch = createEventDispatcher();\n\n\tfunction close_message(): void {\n\t\tdispatch(\"close\", id);\n\t}\n\n\tonMount(() => {\n\t\tif (duration !== null) {\n\t\t\tsetTimeout(() => {\n\t\t\t\tclose_message();\n\t\t\t}, duration * 1000);\n\t\t}\n\t});\n\n\t$: timer_animation_duration = `${duration || 0}s`;\n</script>\n\n<!-- TODO: fix-->\n<!-- svelte-ignore a11y-no-noninteractive-element-interactions-->\n<div\n\tclass=\"toast-body {type}\"\n\trole=\"alert\"\n\tdata-testid=\"toast-body\"\n\tclass:hidden={!display}\n\ton:click|stopPropagation\n\ton:keydown|stopPropagation\n\tin:fade={{ duration: 200, delay: 100 }}\n\tout:fade={{ duration: 200 }}\n>\n\t<div class=\"toast-icon {type}\">\n\t\t{#if type === \"warning\"}\n\t\t\t<Warning />\n\t\t{:else if type === \"info\"}\n\t\t\t<Info />\n\t\t{:else if type === \"success\"}\n\t\t\t<Success />\n\t\t{:else if type === \"error\"}\n\t\t\t<Error />\n\t\t{/if}\n\t</div>\n\n\t<div class=\"toast-details {type}\">\n\t\t<div class=\"toast-title {type}\">{title}</div>\n\t\t<div class=\"toast-text {type}\">\n\t\t\t{@html message}\n\t\t</div>\n\t</div>\n\n\t<button\n\t\ton:click={close_message}\n\t\tclass=\"toast-close {type}\"\n\t\ttype=\"button\"\n\t\taria-label=\"Close\"\n\t\tdata-testid=\"toast-close\"\n\t>\n\t\t<span aria-hidden=\"true\">&#215;</span>\n\t</button>\n\n\t<div\n\t\tclass=\"timer {type}\"\n\t\tstyle={`animation-duration: ${timer_animation_duration};`}\n\t/>\n</div>\n\n<style>\n\t.toast-body {\n\t\tdisplay: flex;\n\t\tposition: relative;\n\t\tright: 0;\n\t\tleft: 0;\n\t\talign-items: center;\n\t\tmargin: var(--size-6) var(--size-4);\n\t\tmargin: auto;\n\t\tborder-radius: var(--container-radius);\n\t\toverflow: hidden;\n\t\tpointer-events: auto;\n\t}\n\n\t.toast-body.error {\n\t\tborder: 1px solid var(--color-red-700);\n\t\tbackground: var(--color-red-50);\n\t}\n\n\t:global(.dark) .toast-body.error {\n\t\tborder: 1px solid var(--color-red-500);\n\t\tbackground-color: var(--color-grey-950);\n\t}\n\n\t.toast-body.warning {\n\t\tborder: 1px solid var(--color-yellow-700);\n\t\tbackground: var(--color-yellow-50);\n\t}\n\t:global(.dark) .toast-body.warning {\n\t\tborder: 1px solid var(--color-yellow-500);\n\t\tbackground-color: var(--color-grey-950);\n\t}\n\n\t.toast-body.info {\n\t\tborder: 1px solid var(--color-grey-700);\n\t\tbackground: var(--color-grey-50);\n\t}\n\t:global(.dark) .toast-body.info {\n\t\tborder: 1px solid var(--color-grey-500);\n\t\tbackground-color: var(--color-grey-950);\n\t}\n\n\t.toast-body.success {\n\t\tborder: 1px solid var(--color-green-700);\n\t\tbackground: var(--color-green-50);\n\t}\n\t:global(.dark) .toast-body.success {\n\t\tborder: 1px solid var(--color-green-500);\n\t\tbackground-color: var(--color-grey-950);\n\t}\n\n\t.toast-title {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tfont-weight: var(--weight-bold);\n\t\tfont-size: var(--text-lg);\n\t\tline-height: var(--line-sm);\n\t}\n\n\t.toast-title.error {\n\t\tcolor: var(--color-red-700);\n\t}\n\t:global(.dark) .toast-title.error {\n\t\tcolor: var(--color-red-50);\n\t}\n\n\t.toast-title.warning {\n\t\tcolor: var(--color-yellow-700);\n\t}\n\t:global(.dark) .toast-title.warning {\n\t\tcolor: var(--color-yellow-50);\n\t}\n\n\t.toast-title.info {\n\t\tcolor: var(--color-grey-700);\n\t}\n\t:global(.dark) .toast-title.info {\n\t\tcolor: var(--color-grey-50);\n\t}\n\n\t.toast-title.success {\n\t\tcolor: var(--color-green-700);\n\t}\n\t:global(.dark) .toast-title.success {\n\t\tcolor: var(--color-green-50);\n\t}\n\n\t.toast-close {\n\t\tmargin: 0 var(--size-3);\n\t\tborder-radius: var(--size-3);\n\t\tpadding: 0px var(--size-1-5);\n\t\tfont-size: var(--size-5);\n\t\tline-height: var(--size-5);\n\t}\n\n\t.toast-close.error {\n\t\tcolor: var(--color-red-700);\n\t}\n\t:global(.dark) .toast-close.error {\n\t\tcolor: var(--color-red-500);\n\t}\n\n\t.toast-close.warning {\n\t\tcolor: var(--color-yellow-700);\n\t}\n\t:global(.dark) .toast-close.warning {\n\t\tcolor: var(--color-yellow-500);\n\t}\n\n\t.toast-close.info {\n\t\tcolor: var(--color-grey-700);\n\t}\n\t:global(.dark) .toast-close.info {\n\t\tcolor: var(--color-grey-500);\n\t}\n\n\t.toast-close.success {\n\t\tcolor: var(--color-green-700);\n\t}\n\t:global(.dark) .toast-close.success {\n\t\tcolor: var(--color-green-500);\n\t}\n\n\t.toast-text {\n\t\tfont-size: var(--text-lg);\n\t\tword-wrap: break-word;\n\t\toverflow-wrap: break-word;\n\t\tword-break: break-word;\n\t}\n\n\t.toast-text.error {\n\t\tcolor: var(--color-red-700);\n\t}\n\t:global(.dark) .toast-text.error {\n\t\tcolor: var(--color-red-50);\n\t}\n\n\t.toast-text.warning {\n\t\tcolor: var(--color-yellow-700);\n\t}\n\n\t:global(.dark) .toast-text.warning {\n\t\tcolor: var(--color-yellow-50);\n\t}\n\n\t.toast-text.info {\n\t\tcolor: var(--color-grey-700);\n\t}\n\n\t:global(.dark) .toast-text.info {\n\t\tcolor: var(--color-grey-50);\n\t}\n\n\t.toast-text.success {\n\t\tcolor: var(--color-green-700);\n\t}\n\t:global(.dark) .toast-text.success {\n\t\tcolor: var(--color-green-50);\n\t}\n\n\t.toast-details {\n\t\tmargin: var(--size-3) var(--size-3) var(--size-3) 0;\n\t\twidth: 100%;\n\t}\n\n\t.toast-icon {\n\t\tdisplay: flex;\n\t\tposition: absolute;\n\t\tposition: relative;\n\t\tflex-shrink: 0;\n\t\tjustify-content: center;\n\t\talign-items: center;\n\t\tmargin: var(--size-2);\n\t\tborder-radius: var(--radius-full);\n\t\tpadding: var(--size-1);\n\t\tpadding-left: calc(var(--size-1) - 1px);\n\t\twidth: 35px;\n\t\theight: 35px;\n\t}\n\n\t.toast-icon.error {\n\t\tcolor: var(--color-red-700);\n\t}\n\n\t:global(.dark) .toast-icon.error {\n\t\tcolor: var(--color-red-500);\n\t}\n\n\t.toast-icon.warning {\n\t\tcolor: var(--color-yellow-700);\n\t}\n\n\t:global(.dark) .toast-icon.warning {\n\t\tcolor: var(--color-yellow-500);\n\t}\n\n\t.toast-icon.info {\n\t\tcolor: var(--color-grey-700);\n\t}\n\n\t:global(.dark) .toast-icon.info {\n\t\tcolor: var(--color-grey-500);\n\t}\n\n\t.toast-icon.success {\n\t\tcolor: var(--color-green-700);\n\t}\n\n\t:global(.dark) .toast-icon.success {\n\t\tcolor: var(--color-green-500);\n\t}\n\n\t@keyframes countdown {\n\t\tfrom {\n\t\t\ttransform: scaleX(1);\n\t\t}\n\t\tto {\n\t\t\ttransform: scaleX(0);\n\t\t}\n\t}\n\n\t.timer {\n\t\tposition: absolute;\n\t\tbottom: 0;\n\t\tleft: 0;\n\t\ttransform-origin: 0 0;\n\t\tanimation: countdown 10s linear forwards;\n\t\twidth: 100%;\n\t\theight: var(--size-1);\n\t}\n\n\t.timer.error {\n\t\tbackground: var(--color-red-700);\n\t}\n\n\t:global(.dark) .timer.error {\n\t\tbackground: var(--color-red-500);\n\t}\n\n\t.timer.warning {\n\t\tbackground: var(--color-yellow-700);\n\t}\n\n\t:global(.dark) .timer.warning {\n\t\tbackground: var(--color-yellow-500);\n\t}\n\n\t.timer.info {\n\t\tbackground: var(--color-grey-700);\n\t}\n\n\t:global(.dark) .timer.info {\n\t\tbackground: var(--color-grey-500);\n\t}\n\n\t.timer.success {\n\t\tbackground: var(--color-green-700);\n\t}\n\n\t:global(.dark) .timer.success {\n\t\tbackground: var(--color-green-500);\n\t}\n\n\t.hidden {\n\t\tdisplay: none;\n\t}\n\n\t.toast-text :global(a) {\n\t\ttext-decoration: underline;\n\t}\n</style>\n","<script lang=\"ts\">\n\timport { flip } from \"svelte/animate\";\n\timport type { ToastMessage } from \"./types\";\n\timport ToastContent from \"./ToastContent.svelte\";\n\n\texport let messages: ToastMessage[] = [];\n\n\t$: scroll_to_top(messages);\n\n\tfunction scroll_to_top(_messages: ToastMessage[]): void {\n\t\tif (_messages.length > 0) {\n\t\t\tif (\"parentIFrame\" in window) {\n\t\t\t\twindow.parentIFrame?.scrollTo(0, 0);\n\t\t\t}\n\t\t}\n\t}\n</script>\n\n<div class=\"toast-wrap\">\n\t{#each messages as { type, title, message, id, duration, visible } (id)}\n\t\t<div animate:flip={{ duration: 300 }} style:width=\"100%\">\n\t\t\t<ToastContent\n\t\t\t\t{type}\n\t\t\t\t{title}\n\t\t\t\t{message}\n\t\t\t\t{duration}\n\t\t\t\t{visible}\n\t\t\t\ton:close\n\t\t\t\t{id}\n\t\t\t/>\n\t\t</div>\n\t{/each}\n</div>\n\n<style>\n\t.toast-wrap {\n\t\tdisplay: flex;\n\t\tposition: fixed;\n\t\ttop: var(--size-4);\n\t\tright: var(--size-4);\n\n\t\tflex-direction: column;\n\t\talign-items: end;\n\t\tgap: var(--size-2);\n\t\tz-index: var(--layer-top);\n\t\twidth: calc(100% - var(--size-8));\n\t}\n\n\t@media (--screen-sm) {\n\t\t.toast-wrap {\n\t\t\twidth: calc(var(--size-96) + var(--size-10));\n\t\t}\n\t}\n</style>\n","<svelte:options immutable={true} />\n\n<script lang=\"ts\">\n\timport type { ComponentMeta, ThemeMode } from \"./types\";\n\timport type { SvelteComponent, ComponentType } from \"svelte\";\n\timport { translate_if_needed } from \"./i18n\";\n\t// @ts-ignore\n\timport { bind, binding_callbacks } from \"svelte/internal\";\n\n\texport let root: string;\n\texport let component: ComponentMeta[\"component\"];\n\texport let target: HTMLElement;\n\texport let theme_mode: ThemeMode;\n\texport let instance: ComponentMeta[\"instance\"];\n\texport let value: any;\n\t// export let gradio: Gradio;\n\texport let elem_id: string;\n\texport let elem_classes: string[];\n\texport let _id: number;\n\texport let visible: boolean;\n\n\tconst s = (id: number, p: string, v: any): CustomEvent =>\n\t\tnew CustomEvent(\"prop_change\", { detail: { id, prop: p, value: v } });\n\n\tfunction wrap(\n\t\tcomponent: ComponentType<SvelteComponent>\n\t): ComponentType<SvelteComponent> {\n\t\tconst ProxiedMyClass = new Proxy(component, {\n\t\t\tconstruct(_target, args: Record<string, any>[]) {\n\t\t\t\t//@ts-ignore\n\t\t\t\tconst instance = new _target(...args);\n\t\t\t\tconst props = Object.keys(instance.$$.props);\n\n\t\t\t\tfunction report(props: string) {\n\t\t\t\t\treturn function (propargs: any) {\n\t\t\t\t\t\tif (!target) return;\n\t\t\t\t\t\tconst ev = s(_id, props, propargs);\n\t\t\t\t\t\ttarget.dispatchEvent(ev);\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\tprops.forEach((v) => {\n\t\t\t\t\tbinding_callbacks.push(() => bind(instance, v, report(v)));\n\t\t\t\t});\n\n\t\t\t\treturn instance;\n\t\t\t}\n\t\t});\n\n\t\treturn ProxiedMyClass;\n\t}\n\n\tlet _component = wrap(component);\n\n\tconst supported_props = [\n\t\t\"description\",\n\t\t\"info\",\n\t\t\"title\",\n\t\t\"placeholder\",\n\t\t\"value\",\n\t\t\"label\"\n\t];\n\n\tfunction translate_prop(obj: SvelteRestProps): void {\n\t\tfor (const key in obj) {\n\t\t\tif (supported_props.includes(key as string)) {\n\t\t\t\tobj[key] = translate_if_needed(obj[key]);\n\t\t\t}\n\t\t}\n\t}\n\n\t$: translate_prop($$restProps);\n\t$: value = translate_if_needed(value);\n</script>\n\n{#if visible}\n\t<svelte:component\n\t\tthis={_component}\n\t\tbind:this={instance}\n\t\tbind:value\n\t\ton:prop_change\n\t\t{elem_id}\n\t\t{elem_classes}\n\t\t{target}\n\t\t{visible}\n\t\t{...$$restProps}\n\t\t{theme_mode}\n\t\t{root}\n\t>\n\t\t<slot />\n\t</svelte:component>\n{/if}\n","<script lang=\"ts\">\n\timport { Gradio, reactive_formatter } from \"./gradio_helper\";\n\timport { onMount, createEventDispatcher, setContext } from \"svelte\";\n\timport type { ComponentMeta, ThemeMode } from \"./types\";\n\timport type { Client } from \"@gradio/client\";\n\timport RenderComponent from \"./RenderComponent.svelte\";\n\timport { load_component } from \"virtual:component-loader\";\n\n\texport let root: string;\n\n\texport let node: ComponentMeta;\n\texport let parent: string | null = null;\n\texport let target: HTMLElement;\n\texport let theme_mode: ThemeMode;\n\texport let version: string;\n\texport let autoscroll: boolean;\n\texport let max_file_size: number | null;\n\texport let client: Client;\n\n\tconst dispatch = createEventDispatcher<{ mount: number; destroy: number }>();\n\tlet filtered_children: ComponentMeta[] = [];\n\n\tonMount(() => {\n\t\tdispatch(\"mount\", node.id);\n\n\t\tfor (const child of filtered_children) {\n\t\t\tdispatch(\"mount\", child.id);\n\t\t}\n\n\t\treturn () => {\n\t\t\tdispatch(\"destroy\", node.id);\n\n\t\t\tfor (const child of filtered_children) {\n\t\t\t\tdispatch(\"mount\", child.id);\n\t\t\t}\n\t\t};\n\t});\n\n\t$: {\n\t\tif (node) {\n\t\t\tnode.children =\n\t\t\t\tnode.children &&\n\t\t\t\tnode.children.filter((v) => {\n\t\t\t\t\tconst valid_node = node.type !== \"statustracker\";\n\t\t\t\t\tif (!valid_node) {\n\t\t\t\t\t\tfiltered_children.push(v);\n\t\t\t\t\t}\n\t\t\t\t\treturn valid_node;\n\t\t\t\t});\n\t\t}\n\t}\n\n\tsetContext(\"BLOCK_KEY\", parent);\n\n\t$: {\n\t\tif (node && node.type === \"form\") {\n\t\t\tif (\n\t\t\t\tnode.children?.every(\n\t\t\t\t\t(c) => typeof c.props.visible === \"boolean\" && !c.props.visible\n\t\t\t\t)\n\t\t\t) {\n\t\t\t\tnode.props.visible = false;\n\t\t\t} else {\n\t\t\t\tnode.props.visible = true;\n\t\t\t}\n\t\t}\n\t}\n\n\t$: node.props.gradio = new Gradio<Record<string, any>>(\n\t\tnode.id,\n\t\ttarget,\n\t\ttheme_mode,\n\t\tversion,\n\t\troot,\n\t\tautoscroll,\n\t\tmax_file_size,\n\t\t$reactive_formatter,\n\t\tclient,\n\t\tload_component\n\t);\n</script>\n\n{#if node.component}\n\t<RenderComponent\n\t\t_id={node?.id}\n\t\tcomponent={node.component}\n\t\tbind:instance={node.instance}\n\t\tbind:value={node.props.value}\n\t\telem_id={(\"elem_id\" in node.props && node.props.elem_id) ||\n\t\t\t`component-${node.id}`}\n\t\telem_classes={(\"elem_classes\" in node.props && node.props.elem_classes) ||\n\t\t\t[]}\n\t\t{target}\n\t\t{...node.props}\n\t\t{theme_mode}\n\t\t{root}\n\t\tvisible={typeof node.props.visible === \"boolean\"\n\t\t\t? node.props.visible\n\t\t\t: true}\n\t>\n\t\t{#if node.children && node.children.length}\n\t\t\t{#each node.children as _node (_node.id)}\n\t\t\t\t<svelte:self\n\t\t\t\t\tnode={_node}\n\t\t\t\t\tcomponent={_node.component}\n\t\t\t\t\t{target}\n\t\t\t\t\tid={_node.id}\n\t\t\t\t\t{root}\n\t\t\t\t\t{theme_mode}\n\t\t\t\t\ton:destroy\n\t\t\t\t\ton:mount\n\t\t\t\t\t{max_file_size}\n\t\t\t\t\t{client}\n\t\t\t\t/>\n\t\t\t{/each}\n\t\t{/if}\n\t</RenderComponent>\n{/if}\n","<script lang=\"ts\">\n\timport { onMount, createEventDispatcher } from \"svelte\";\n\timport type { Client } from \"@gradio/client\";\n\timport Render from \"./Render.svelte\";\n\n\texport let rootNode: any;\n\texport let root: any;\n\texport let target: any;\n\texport let theme_mode: any;\n\texport let version: any;\n\texport let autoscroll: boolean;\n\texport let max_file_size: number | null = null;\n\texport let client: Client;\n\n\tconst dispatch = createEventDispatcher<{ mount?: never }>();\n\tonMount(() => {\n\t\tdispatch(\"mount\");\n\t});\n</script>\n\n{#if rootNode}\n\t<Render\n\t\tnode={rootNode}\n\t\t{root}\n\t\t{target}\n\t\t{theme_mode}\n\t\t{version}\n\t\t{autoscroll}\n\t\t{max_file_size}\n\t\t{client}\n\t/>\n{/if}\n","export default \"data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='576'%20height='576'%20viewBox='0%200%20576%20576'%20fill='none'%3e%3cpath%20d='M287.5%20229L86%20344.5L287.5%20460L489%20344.5L287.5%20229Z'%20stroke='url(%23paint0_linear_102_7)'%20stroke-width='59'%20stroke-linejoin='round'/%3e%3cpath%20d='M287.5%20116L86%20231.5L287.5%20347L489%20231.5L287.5%20116Z'%20stroke='url(%23paint1_linear_102_7)'%20stroke-width='59'%20stroke-linejoin='round'/%3e%3cpath%20d='M86%20344L288%20229'%20stroke='url(%23paint2_linear_102_7)'%20stroke-width='59'%20stroke-linejoin='bevel'/%3e%3cdefs%3e%3clinearGradient%20id='paint0_linear_102_7'%20x1='60'%20y1='341'%20x2='429.5'%20y2='344'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%23F9D100'/%3e%3cstop%20offset='1'%20stop-color='%23F97700'/%3e%3c/linearGradient%3e%3clinearGradient%20id='paint1_linear_102_7'%20x1='513.5'%20y1='231'%20x2='143.5'%20y2='231'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%23F9D100'/%3e%3cstop%20offset='1'%20stop-color='%23F97700'/%3e%3c/linearGradient%3e%3clinearGradient%20id='paint2_linear_102_7'%20x1='60'%20y1='344'%20x2='428.987'%20y2='341.811'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%23F9D100'/%3e%3cstop%20offset='1'%20stop-color='%23F97700'/%3e%3c/linearGradient%3e%3c/defs%3e%3c/svg%3e\"","export default \"data:image/svg+xml,%3csvg%20width='28'%20height='28'%20viewBox='0%200%2028%2028'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M26.9425%202.94265C27.4632%202.42195%2027.4632%201.57773%2026.9425%201.05703C26.4218%200.536329%2025.5776%200.536329%2025.0569%201.05703L22.5713%203.54256C21.1213%202.59333%2019.5367%202.43378%2018.1753%202.64006C16.5495%202.88638%2015.1127%203.66838%2014.3905%204.39053L12.3905%206.39053C12.1405%206.64058%2012%206.97972%2012%207.33334C12%207.68697%2012.1405%208.0261%2012.3905%208.27615L19.7239%2015.6095C20.2446%2016.1302%2021.0888%2016.1302%2021.6095%2015.6095L23.6095%2013.6095C24.3316%2012.8873%2025.1136%2011.4505%2025.36%209.82475C25.5663%208.46312%2025.4066%206.87827%2024.4571%205.42807L26.9425%202.94265Z'%20fill='%233c4555'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M12.276%2012.9426C12.7967%2012.4219%2012.7967%2011.5777%2012.276%2011.057C11.7553%2010.5363%2010.9111%2010.5363%2010.3904%2011.057L8.66651%2012.7809L8.27615%2012.3905C8.0261%2012.1405%207.68697%2012%207.33334%2012C6.97972%2012%206.64058%2012.1405%206.39053%2012.3905L4.39053%2014.3905C3.66838%2015.1127%202.88638%2016.5495%202.64006%2018.1753C2.43377%2019.5367%202.59333%2021.1214%203.54262%2022.5714L1.05703%2025.057C0.536329%2025.5777%200.536329%2026.4219%201.05703%2026.9426C1.57773%2027.4633%202.42195%2027.4633%202.94265%2026.9426L5.42817%2024.4571C6.87835%2025.4066%208.46315%2025.5663%209.82475%2025.36C11.4505%2025.1136%2012.8873%2024.3316%2013.6095%2023.6095L15.6095%2021.6095C16.1302%2021.0888%2016.1302%2020.2446%2015.6095%2019.7239L15.2188%2019.3332L16.9426%2017.6093C17.4633%2017.0886%2017.4633%2016.2444%2016.9426%2015.7237C16.4219%2015.203%2015.5777%2015.203%2015.057%2015.7237L13.3332%2017.4475L10.5521%2014.6665L12.276%2012.9426Z'%20fill='%23FF7C00'/%3e%3c/svg%3e\"","export default \"data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20xmlns='http://www.w3.org/2000/svg'%3e%3c!--%20Outer%20gear%20teeth%20(gray)%20--%3e%3cpath%20d='M19.14%2012.94c.04-.3.06-.61.06-.94%200-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24%200-.43.17-.47.41l-.36%202.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47%200-.59.22L2.74%208.87c-.12.21-.08.47.12.61l2.03%201.58c-.05.3-.07.62-.07.94s.02.64.07.94l-2.03%201.58c-.18.14-.23.41-.12.61l1.92%203.32c.12.22.37.29.59.22l2.39-.96c.5.38%201.03.7%201.62.94l.36%202.54c.05.24.24.41.48.41h3.84c.24%200%20.44-.17.47-.41l.36-2.54c.59-.24%201.13-.56%201.62-.94l2.39.96c.22.08.47%200%20.59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12%2015.6c-1.98%200-3.6-1.62-3.6-3.6s1.62-3.6%203.6-3.6%203.6%201.62%203.6%203.6-1.62%203.6-3.6%203.6z'%20fill='%23808080'/%3e%3c!--%20Inner%20circle%20(now%20gray)%20--%3e%3ccircle%20cx='12'%20cy='12'%20r='2.5'%20fill='%23808080'/%3e%3c/svg%3e\"","export default \"data:image/svg+xml,%3csvg%20viewBox='0%200%2020%2020'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20fill='%23000000'%3e%3cg%20id='SVGRepo_bgCarrier'%20stroke-width='0'%3e%3c/g%3e%3cg%20id='SVGRepo_tracerCarrier'%20stroke-linecap='round'%20stroke-linejoin='round'%3e%3c/g%3e%3cg%20id='SVGRepo_iconCarrier'%3e%3ctitle%3erecord%20[%23982]%3c/title%3e%3cdesc%3eCreated%20with%20Sketch.%3c/desc%3e%3cdefs%3e%3c/defs%3e%3cg%20id='Page-1'%20stroke='none'%20stroke-width='1'%20fill='none'%20fill-rule='evenodd'%3e%3cg%20id='Dribbble-Light-Preview'%20transform='translate(-380.000000,%20-3839.000000)'%20fill='%23FF0000'%3e%3cg%20id='icons'%20transform='translate(56.000000,%20160.000000)'%3e%3cpath%20d='M338,3689%20C338,3691.209%20336.209,3693%20334,3693%20C331.791,3693%20330,3691.209%20330,3689%20C330,3686.791%20331.791,3685%20334,3685%20C336.209,3685%20338,3686.791%20338,3689%20M334,3697%20C329.589,3697%20326,3693.411%20326,3689%20C326,3684.589%20329.589,3681%20334,3681%20C338.411,3681%20342,3684.589%20342,3689%20C342,3693.411%20338.411,3697%20334,3697%20M334,3679%20C328.477,3679%20324,3683.477%20324,3689%20C324,3694.523%20328.477,3699%20334,3699%20C339.523,3699%20344,3694.523%20344,3689%20C344,3683.477%20339.523,3679%20334,3679'%20id='record-[%23982]'%3e%3c/path%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/svg%3e\"","import type { ToastMessage } from \"@gradio/statustracker\";\n\nlet isRecording = false;\nlet mediaRecorder: MediaRecorder | null = null;\nlet recordedChunks: Blob[] = [];\nlet recordingStartTime = 0;\nlet animationFrameId: number | null = null;\nlet removeSegment: { start?: number; end?: number } = {};\nlet root: string;\n\nlet add_message_callback: (\n\ttitle: string,\n\tmessage: string,\n\ttype: ToastMessage[\"type\"]\n) => void;\nlet onRecordingStateChange: ((isRecording: boolean) => void) | null = null;\nlet zoomEffects: {\n\tboundingBox: { topLeft: [number, number]; bottomRight: [number, number] };\n\tstart_frame: number;\n\tduration?: number;\n}[] = [];\n\nexport function initialize(\n\trootPath: string,\n\tadd_new_message: (\n\t\ttitle: string,\n\t\tmessage: string,\n\t\ttype: ToastMessage[\"type\"]\n\t) => void,\n\trecordingStateCallback?: (isRecording: boolean) => void\n): void {\n\troot = rootPath;\n\tadd_message_callback = add_new_message;\n\tif (recordingStateCallback) {\n\t\tonRecordingStateChange = recordingStateCallback;\n\t}\n}\n\nexport async function startRecording(): Promise<void> {\n\tif (isRecording) {\n\t\treturn;\n\t}\n\n\ttry {\n\t\tconst originalTitle = document.title;\n\t\tdocument.title = \"[Sharing] Gradio Tab\";\n\t\tconst stream = await navigator.mediaDevices.getDisplayMedia({\n\t\t\tvideo: {\n\t\t\t\twidth: { ideal: 1920 },\n\t\t\t\theight: { ideal: 1080 },\n\t\t\t\tframeRate: { ideal: 30 }\n\t\t\t},\n\t\t\taudio: true,\n\t\t\tselfBrowserSurface: \"include\"\n\t\t} as MediaStreamConstraints);\n\t\tdocument.title = originalTitle;\n\n\t\tconst options = {\n\t\t\tvideoBitsPerSecond: 5000000\n\t\t};\n\n\t\tmediaRecorder = new MediaRecorder(stream, options);\n\n\t\trecordedChunks = [];\n\t\tremoveSegment = {};\n\n\t\tmediaRecorder.ondataavailable = handleDataAvailable;\n\t\tmediaRecorder.onstop = handleStop;\n\n\t\tmediaRecorder.start(1000);\n\t\tisRecording = true;\n\t\tif (onRecordingStateChange) {\n\t\t\tonRecordingStateChange(true);\n\t\t}\n\t\trecordingStartTime = Date.now();\n\t} catch (error: any) {\n\t\tadd_message_callback(\n\t\t\t\"Recording Error\",\n\t\t\t\"Failed to start recording: \" + error.message,\n\t\t\t\"error\"\n\t\t);\n\t}\n}\n\nexport function stopRecording(): void {\n\tif (!isRecording || !mediaRecorder) {\n\t\treturn;\n\t}\n\n\tmediaRecorder.stop();\n\tisRecording = false;\n\tif (onRecordingStateChange) {\n\t\tonRecordingStateChange(false);\n\t}\n}\n\nexport function isCurrentlyRecording(): boolean {\n\treturn isRecording;\n}\n\nexport function markRemoveSegmentStart(): void {\n\tif (!isRecording) {\n\t\treturn;\n\t}\n\n\tconst currentTime = (Date.now() - recordingStartTime) / 1000;\n\tremoveSegment.start = currentTime;\n}\n\nexport function markRemoveSegmentEnd(): void {\n\tif (!isRecording || removeSegment.start === undefined) {\n\t\treturn;\n\t}\n\n\tconst currentTime = (Date.now() - recordingStartTime) / 1000;\n\tremoveSegment.end = currentTime;\n}\n\nexport function clearRemoveSegment(): void {\n\tremoveSegment = {};\n}\n\nexport function addZoomEffect(\n\tis_input: boolean,\n\tparams: {\n\t\tboundingBox: {\n\t\t\ttopLeft: [number, number];\n\t\t\tbottomRight: [number, number];\n\t\t};\n\t\tduration?: number;\n\t}\n): void {\n\tif (!isRecording) {\n\t\treturn;\n\t}\n\n\tconst FPS = 30;\n\tconst currentTime = (Date.now() - recordingStartTime) / 1000;\n\tconst currentFrame = is_input\n\t\t? Math.floor((currentTime - 2) * FPS)\n\t\t: Math.floor(currentTime * FPS);\n\n\tif (\n\t\tparams.boundingBox &&\n\t\tparams.boundingBox.topLeft &&\n\t\tparams.boundingBox.bottomRight &&\n\t\tparams.boundingBox.topLeft.length === 2 &&\n\t\tparams.boundingBox.bottomRight.length === 2\n\t) {\n\t\tconst newEffectDuration = params.duration || 2.0;\n\t\tconst newEffectEndFrame =\n\t\t\tcurrentFrame + Math.floor(newEffectDuration * FPS);\n\n\t\tconst hasOverlap = zoomEffects.some((existingEffect) => {\n\t\t\tconst existingEffectEndFrame =\n\t\t\t\texistingEffect.start_frame +\n\t\t\t\tMath.floor((existingEffect.duration || 2.0) * FPS);\n\t\t\treturn (\n\t\t\t\t(currentFrame >= existingEffect.start_frame &&\n\t\t\t\t\tcurrentFrame <= existingEffectEndFrame) ||\n\t\t\t\t(newEffectEndFrame >= existingEffect.start_frame &&\n\t\t\t\t\tnewEffectEndFrame <= existingEffectEndFrame) ||\n\t\t\t\t(currentFrame <= existingEffect.start_frame &&\n\t\t\t\t\tnewEffectEndFrame >= existingEffectEndFrame)\n\t\t\t);\n\t\t});\n\n\t\tif (!hasOverlap) {\n\t\t\tzoomEffects.push({\n\t\t\t\tboundingBox: params.boundingBox,\n\t\t\t\tstart_frame: currentFrame,\n\t\t\t\tduration: newEffectDuration\n\t\t\t});\n\t\t}\n\t}\n}\n\nexport function zoom(\n\tis_input: boolean,\n\telements: number[],\n\tduration = 2.0\n): void {\n\tif (!isRecording) {\n\t\treturn;\n\t}\n\n\ttry {\n\t\tsetTimeout(() => {\n\t\t\tif (!elements || elements.length === 0) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tlet minLeft = Infinity;\n\t\t\tlet minTop = Infinity;\n\t\t\tlet maxRight = 0;\n\t\t\tlet maxBottom = 0;\n\t\t\tlet foundElements = false;\n\n\t\t\tfor (const elementId of elements) {\n\t\t\t\tconst selector = `#component-${elementId}`;\n\t\t\t\tconst element = document.querySelector(selector);\n\n\t\t\t\tif (element) {\n\t\t\t\t\tfoundElements = true;\n\t\t\t\t\tconst rect = element.getBoundingClientRect();\n\n\t\t\t\t\tminLeft = Math.min(minLeft, rect.left);\n\t\t\t\t\tminTop = Math.min(minTop, rect.top);\n\t\t\t\t\tmaxRight = Math.max(maxRight, rect.right);\n\t\t\t\t\tmaxBottom = Math.max(maxBottom, rect.bottom);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (!foundElements) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst viewportWidth = window.innerWidth;\n\t\t\tconst viewportHeight = window.innerHeight;\n\n\t\t\tconst boxWidth = Math.min(maxRight, viewportWidth) - Math.max(0, minLeft);\n\t\t\tconst boxHeight =\n\t\t\t\tMath.min(maxBottom, viewportHeight) - Math.max(0, minTop);\n\n\t\t\tconst widthPercentage = boxWidth / viewportWidth;\n\t\t\tconst heightPercentage = boxHeight / viewportHeight;\n\n\t\t\tif (widthPercentage >= 0.8 || heightPercentage >= 0.8) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst isSafari = /^((?!chrome|android).)*safari/i.test(\n\t\t\t\tnavigator.userAgent\n\t\t\t);\n\n\t\t\tlet topLeft: [number, number] = [\n\t\t\t\tMath.max(0, minLeft) / viewportWidth,\n\t\t\t\tMath.max(0, minTop) / viewportHeight\n\t\t\t];\n\n\t\t\tlet bottomRight: [number, number] = [\n\t\t\t\tMath.min(maxRight, viewportWidth) / viewportWidth,\n\t\t\t\tMath.min(maxBottom, viewportHeight) / viewportHeight\n\t\t\t];\n\n\t\t\tif (isSafari) {\n\t\t\t\ttopLeft[0] = Math.max(0, topLeft[0] * 0.9);\n\t\t\t\tbottomRight[0] = Math.min(1, bottomRight[0] * 0.9);\n\t\t\t\tconst width = bottomRight[0] - topLeft[0];\n\t\t\t\tconst center = (topLeft[0] + bottomRight[0]) / 2;\n\t\t\t\tconst newCenter = center * 0.9;\n\t\t\t\ttopLeft[0] = Math.max(0, newCenter - width / 2);\n\t\t\t\tbottomRight[0] = Math.min(1, newCenter + width / 2);\n\t\t\t}\n\n\t\t\ttopLeft[0] = Math.max(0, topLeft[0]);\n\t\t\ttopLeft[1] = Math.max(0, topLeft[1]);\n\t\t\tbottomRight[0] = Math.min(1, bottomRight[0]);\n\t\t\tbottomRight[1] = Math.min(1, bottomRight[1]);\n\n\t\t\taddZoomEffect(is_input, {\n\t\t\t\tboundingBox: {\n\t\t\t\t\ttopLeft,\n\t\t\t\t\tbottomRight\n\t\t\t\t},\n\t\t\t\tduration: duration\n\t\t\t});\n\t\t}, 300);\n\t} catch (error) {\n\t\t// pass\n\t}\n}\n\nfunction handleDataAvailable(event: BlobEvent): void {\n\tif (event.data.size > 0) {\n\t\trecordedChunks.push(event.data);\n\t}\n}\n\nfunction handleStop(): void {\n\tisRecording = false;\n\tif (onRecordingStateChange) {\n\t\tonRecordingStateChange(false);\n\t}\n\n\tconst blob = new Blob(recordedChunks, {\n\t\ttype: \"video/mp4\"\n\t});\n\n\thandleRecordingComplete(blob);\n\n\tconst screenStream = mediaRecorder?.stream?.getTracks() || [];\n\tscreenStream.forEach((track) => track.stop());\n\n\tif (animationFrameId !== null) {\n\t\tcancelAnimationFrame(animationFrameId);\n\t\tanimationFrameId = null;\n\t}\n}\n\nasync function handleRecordingComplete(recordedBlob: Blob): Promise<void> {\n\ttry {\n\t\tadd_message_callback(\n\t\t\t\"Processing video\",\n\t\t\t\"This may take a few seconds...\",\n\t\t\t\"info\"\n\t\t);\n\n\t\tconst formData = new FormData();\n\t\tformData.append(\"video\", recordedBlob, \"recording.mp4\");\n\n\t\tif (removeSegment.start !== undefined && removeSegment.end !== undefined) {\n\t\t\tformData.append(\"remove_segment_start\", removeSegment.start.toString());\n\t\t\tformData.append(\"remove_segment_end\", removeSegment.end.toString());\n\t\t}\n\n\t\tif (zoomEffects.length > 0) {\n\t\t\tformData.append(\"zoom_effects\", JSON.stringify(zoomEffects));\n\t\t}\n\n\t\tconst response = await fetch(root + \"/gradio_api/process_recording\", {\n\t\t\tmethod: \"POST\",\n\t\t\tbody: formData\n\t\t});\n\n\t\tif (!response.ok) {\n\t\t\tthrow new Error(\n\t\t\t\t`Server returned ${response.status}: ${response.statusText}`\n\t\t\t);\n\t\t}\n\n\t\tconst processedBlob = await response.blob();\n\t\tconst defaultFilename = `gradio-screen-recording-${new Date().toISOString().replace(/:/g, \"-\").replace(/\\..+/, \"\")}.mp4`;\n\t\tsaveWithDownloadAttribute(processedBlob, defaultFilename);\n\t\tzoomEffects = [];\n\t} catch (error) {\n\t\tadd_message_callback(\n\t\t\t\"Processing Error\",\n\t\t\t\"Failed to process recording. Saving original version.\",\n\t\t\t\"warning\"\n\t\t);\n\n\t\tconst defaultFilename = `gradio-screen-recording-${new Date().toISOString().replace(/:/g, \"-\").replace(/\\..+/, \"\")}.mp4`;\n\t\tsaveWithDownloadAttribute(recordedBlob, defaultFilename);\n\t}\n}\n\nfunction saveWithDownloadAttribute(blob: Blob, suggestedName: string): void {\n\tconst url = URL.createObjectURL(blob);\n\tconst a = document.createElement(\"a\");\n\ta.style.display = \"none\";\n\ta.href = url;\n\ta.download = suggestedName;\n\n\tdocument.body.appendChild(a);\n\ta.click();\n\tsetTimeout(() => {\n\t\tdocument.body.removeChild(a);\n\t\tURL.revokeObjectURL(url);\n\t}, 100);\n}\n","<script lang=\"ts\">\n\timport { tick, onMount } from \"svelte\";\n\timport { _ } from \"svelte-i18n\";\n\timport { Client } from \"@gradio/client\";\n\timport { writable } from \"svelte/store\";\n\n\timport type { LoadingStatus, LoadingStatusCollection } from \"./stores\";\n\n\timport type { ComponentMeta, Dependency, LayoutNode } from \"./types\";\n\timport type { UpdateTransaction } from \"./init\";\n\timport { setupi18n } from \"./i18n\";\n\timport type { ThemeMode, Payload } from \"./types\";\n\timport { Toast } from \"@gradio/statustracker\";\n\timport type { ToastMessage } from \"@gradio/statustracker\";\n\timport type { ShareData, ValueData } from \"@gradio/utils\";\n\timport MountComponents from \"./MountComponents.svelte\";\n\timport { prefix_css } from \"./css\";\n\n\timport type ApiDocs from \"./api_docs/ApiDocs.svelte\";\n\timport type ApiRecorder from \"./api_docs/ApiRecorder.svelte\";\n\timport type Settings from \"./api_docs/Settings.svelte\";\n\timport type { ComponentType } from \"svelte\";\n\n\timport logo from \"./images/logo.svg\";\n\timport api_logo from \"./api_docs/img/api-logo.svg\";\n\timport settings_logo from \"./api_docs/img/settings-logo.svg\";\n\timport record_stop from \"./api_docs/img/record-stop.svg\";\n\timport { create_components, AsyncFunction } from \"./init\";\n\timport type {\n\t\tLogMessage,\n\t\tRenderMessage,\n\t\tStatusMessage\n\t} from \"@gradio/client\";\n\timport * as screen_recorder from \"./screen_recorder\";\n\n\texport let root: string;\n\texport let components: ComponentMeta[];\n\texport let layout: LayoutNode;\n\texport let dependencies: Dependency[];\n\texport let title = \"Gradio\";\n\texport let target: HTMLElement;\n\texport let autoscroll: boolean;\n\texport let show_api = true;\n\texport let show_footer = true;\n\texport let control_page_title = false;\n\texport let app_mode: boolean;\n\texport let theme_mode: ThemeMode;\n\texport let app: Awaited<ReturnType<typeof Client.connect>>;\n\texport let space_id: string | null;\n\texport let version: string;\n\texport let js: string | null;\n\texport let fill_height = false;\n\texport let ready: boolean;\n\texport let username: string | null;\n\texport let api_prefix = \"\";\n\texport let max_file_size: number | undefined = undefined;\n\texport let initial_layout: ComponentMeta | undefined = undefined;\n\texport let css: string | null | undefined = null;\n\texport let vibe_mode = false;\n\tlet broken_connection = false;\n\n\tlet {\n\t\tlayout: _layout,\n\t\ttargets,\n\t\tupdate_value,\n\t\tget_data,\n\t\tmodify_stream,\n\t\tget_stream_state,\n\t\tset_time_limit,\n\t\tloading_status,\n\t\tscheduled_updates,\n\t\tcreate_layout,\n\t\trerender_layout,\n\t\tvalue_change\n\t} = create_components({\n\t\tinitial_layout\n\t});\n\n\t$: components, layout, dependencies, root, app, fill_height, target, run();\n\n\t$: {\n\t\tready = !!$_layout;\n\t}\n\n\tlet old_dependencies = dependencies;\n\t$: if (\n\t\tdependencies !== old_dependencies &&\n\t\trender_complete &&\n\t\t!layout_creating\n\t) {\n\t\t// re-run load triggers in SSR mode when page changes\n\t\thandle_load_triggers();\n\t\told_dependencies = dependencies;\n\t}\n\n\tlet vibe_editor_width = 350;\n\n\tasync function run(): Promise<void> {\n\t\tawait setupi18n(app.config?.i18n_translations || undefined);\n\n\t\tlayout_creating = true;\n\t\tawait create_layout({\n\t\t\tcomponents,\n\t\t\tlayout,\n\t\t\tdependencies,\n\t\t\troot: root + api_prefix,\n\t\t\tapp,\n\t\t\toptions: {\n\t\t\t\tfill_height\n\t\t\t}\n\t\t});\n\t\tlayout_creating = false;\n\t}\n\n\texport let search_params: URLSearchParams;\n\tlet api_docs_visible = search_params.get(\"view\") === \"api\" && show_api;\n\tlet settings_visible = search_params.get(\"view\") === \"settings\";\n\tlet api_recorder_visible =\n\t\tsearch_params.get(\"view\") === \"api-recorder\" && show_api;\n\tlet allow_zoom = true;\n\tlet allow_video_trim = true;\n\n\t// Lazy component loading state\n\tlet ApiDocs: ComponentType<ApiDocs> | null = null;\n\tlet ApiRecorder: ComponentType<ApiRecorder> | null = null;\n\tlet Settings: ComponentType<Settings> | null = null;\n\tlet VibeEditor: ComponentType | null = null;\n\n\tasync function loadApiDocs(): Promise<void> {\n\t\tif (!ApiDocs || !ApiRecorder) {\n\t\t\tconst api_docs_module = await import(\"./api_docs/ApiDocs.svelte\");\n\t\t\tconst api_recorder_module = await import(\"./api_docs/ApiRecorder.svelte\");\n\t\t\tif (!ApiDocs) ApiDocs = api_docs_module.default;\n\t\t\tif (!ApiRecorder) ApiRecorder = api_recorder_module.default;\n\t\t}\n\t}\n\n\tasync function loadApiRecorder(): Promise<void> {\n\t\tif (!ApiRecorder) {\n\t\t\tconst api_recorder_module = await import(\"./api_docs/ApiRecorder.svelte\");\n\t\t\tApiRecorder = api_recorder_module.default;\n\t\t}\n\t}\n\n\tasync function loadSettings(): Promise<void> {\n\t\tif (!Settings) {\n\t\t\tconst settings_module = await import(\"./api_docs/Settings.svelte\");\n\t\t\tSettings = settings_module.default;\n\t\t}\n\t}\n\n\tasync function loadVibeEditor(): Promise<void> {\n\t\tif (!VibeEditor) {\n\t\t\tconst vibe_editor_module = await import(\"@gradio/vibeeditor\");\n\t\t\tVibeEditor = vibe_editor_module.default;\n\t\t}\n\t}\n\n\tasync function set_api_docs_visible(visible: boolean): Promise<void> {\n\t\tapi_recorder_visible = false;\n\t\tif (visible) {\n\t\t\tawait loadApiDocs();\n\t\t}\n\t\tapi_docs_visible = visible;\n\t\tlet params = new URLSearchParams(window.location.search);\n\t\tif (visible) {\n\t\t\tparams.set(\"view\", \"api\");\n\t\t} else {\n\t\t\tparams.delete(\"view\");\n\t\t}\n\t\thistory.replaceState(null, \"\", \"?\" + params.toString());\n\t}\n\n\tasync function set_settings_visible(visible: boolean): Promise<void> {\n\t\tif (visible) {\n\t\t\tawait loadSettings();\n\t\t}\n\t\tlet params = new URLSearchParams(window.location.search);\n\t\tif (visible) {\n\t\t\tparams.set(\"view\", \"settings\");\n\t\t} else {\n\t\t\tparams.delete(\"view\");\n\t\t}\n\t\thistory.replaceState(null, \"\", \"?\" + params.toString());\n\t\tsettings_visible = !settings_visible;\n\t}\n\n\tlet api_calls: Payload[] = [];\n\n\tlet layout_creating = false;\n\texport let render_complete = false;\n\n\tasync function handle_update(data: any, fn_index: number): Promise<void> {\n\t\tconst dep = dependencies.find((dep) => dep.id === fn_index);\n\t\tconst input_type = components.find(\n\t\t\t(comp) => comp.id === dep?.inputs[0]\n\t\t)?.type;\n\t\tif (allow_zoom && dep && input_type !== \"dataset\") {\n\t\t\tif (dep && dep.inputs && dep.inputs.length > 0 && $is_screen_recording) {\n\t\t\t\tscreen_recorder.zoom(true, dep.inputs, 1.0);\n\t\t\t}\n\n\t\t\tif (\n\t\t\t\tdep &&\n\t\t\t\tdep.outputs &&\n\t\t\t\tdep.outputs.length > 0 &&\n\t\t\t\t$is_screen_recording\n\t\t\t) {\n\t\t\t\tscreen_recorder.zoom(false, dep.outputs, 2.0);\n\t\t\t}\n\t\t}\n\n\t\tif (!dep) {\n\t\t\treturn;\n\t\t}\n\t\tconst outputs = dep.outputs;\n\t\tconst meta_updates = data?.map((value: any, i: number) => {\n\t\t\treturn {\n\t\t\t\tid: outputs[i],\n\t\t\t\tprop: \"value_is_output\",\n\t\t\t\tvalue: true\n\t\t\t};\n\t\t});\n\n\t\tupdate_value(meta_updates);\n\n\t\tawait tick();\n\n\t\tconst updates: UpdateTransaction[] = [];\n\n\t\tdata?.forEach((value: any, i: number) => {\n\t\t\tif (\n\t\t\t\ttypeof value === \"object\" &&\n\t\t\t\tvalue !== null &&\n\t\t\t\tvalue.__type__ === \"update\"\n\t\t\t) {\n\t\t\t\tfor (const [update_key, update_value] of Object.entries(value)) {\n\t\t\t\t\tif (update_key === \"__type__\") {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tupdates.push({\n\t\t\t\t\t\t\tid: outputs[i],\n\t\t\t\t\t\t\tprop: update_key,\n\t\t\t\t\t\t\tvalue: update_value\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tupdates.push({\n\t\t\t\t\tid: outputs[i],\n\t\t\t\t\tprop: \"value\",\n\t\t\t\t\tvalue\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t\tupdate_value(updates);\n\n\t\tawait tick();\n\t}\n\n\tlet submit_map: Map<number, ReturnType<typeof app.submit>> = new Map();\n\n\tlet messages: (ToastMessage & { fn_index: number })[] = [];\n\tfunction new_message(\n\t\ttitle: string,\n\t\tmessage: string,\n\t\tfn_index: number,\n\t\ttype: ToastMessage[\"type\"],\n\t\tduration: number | null = 10,\n\t\tvisible = true\n\t): ToastMessage & { fn_index: number } {\n\t\treturn {\n\t\t\ttitle,\n\t\t\tmessage,\n\t\t\tfn_index,\n\t\t\ttype,\n\t\t\tid: ++_error_id,\n\t\t\tduration,\n\t\t\tvisible\n\t\t};\n\t}\n\n\texport function add_new_message(\n\t\ttitle: string,\n\t\tmessage: string,\n\t\ttype: ToastMessage[\"type\"]\n\t): void {\n\t\tmessages = [new_message(title, message, -1, type), ...messages];\n\t}\n\n\tlet _error_id = -1;\n\n\tconst MESSAGE_QUOTE_RE = /^'([^]+)'$/;\n\n\tconst DUPLICATE_MESSAGE = $_(\"blocks.long_requests_queue\");\n\tconst MOBILE_QUEUE_WARNING = $_(\"blocks.connection_can_break\");\n\tconst LOST_CONNECTION_MESSAGE =\n\t\t\"Connection to the server was lost. Attempting reconnection...\";\n\tconst CHANGED_CONNECTION_MESSAGE =\n\t\t\"Reconnected to server, but the server has changed. You may need to <a href=''>refresh the page</a>.\";\n\tconst RECONNECTION_MESSAGE = \"Connection re-established.\";\n\tconst SESSION_NOT_FOUND_MESSAGE =\n\t\t\"Session not found - this is likely because the machine you were connected to has changed. <a href=''>Refresh the page</a> to continue.\";\n\tconst WAITING_FOR_INPUTS_MESSAGE = $_(\"blocks.waiting_for_inputs\");\n\tconst SHOW_DUPLICATE_MESSAGE_ON_ETA = 15;\n\tconst SHOW_MOBILE_QUEUE_WARNING_ON_ETA = 10;\n\tlet is_mobile_device = false;\n\tlet showed_duplicate_message = false;\n\tlet showed_mobile_warning = false;\n\tlet inputs_waiting: number[] = [];\n\n\t// as state updates are not synchronous, we need to ensure updates are flushed before triggering any requests\n\tfunction wait_then_trigger_api_call(\n\t\tdep_index: number,\n\t\ttrigger_id: number | null = null,\n\t\tevent_data: unknown = null\n\t): void {\n\t\tlet _unsub = (): void => {};\n\t\tfunction unsub(): void {\n\t\t\t_unsub();\n\t\t}\n\t\tif ($scheduled_updates) {\n\t\t\t_unsub = scheduled_updates.subscribe((updating) => {\n\t\t\t\tif (!updating) {\n\t\t\t\t\ttick().then(() => {\n\t\t\t\t\t\ttrigger_api_call(dep_index, trigger_id, event_data);\n\t\t\t\t\t\tunsub();\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t} else {\n\t\t\ttrigger_api_call(dep_index, trigger_id, event_data);\n\t\t}\n\t}\n\n\tasync function get_component_value_or_event_data(\n\t\tcomponent_id: number,\n\t\ttrigger_id: number | null,\n\t\tevent_data: unknown\n\t): Promise<any> {\n\t\tif (\n\t\t\tcomponent_id === trigger_id &&\n\t\t\tevent_data &&\n\t\t\t(event_data as ValueData).is_value_data === true\n\t\t) {\n\t\t\t// @ts-ignore\n\t\t\treturn event_data.value;\n\t\t}\n\t\treturn get_data(component_id);\n\t}\n\n\tasync function trigger_api_call(\n\t\tdep_index: number,\n\t\ttrigger_id: number | null = null,\n\t\tevent_data: unknown = null\n\t): Promise<void> {\n\t\tconst _dep = dependencies.find((dep) => dep.id === dep_index);\n\t\tif (_dep === undefined) {\n\t\t\treturn;\n\t\t}\n\t\tconst dep = _dep;\n\t\tif (inputs_waiting.length > 0) {\n\t\t\tfor (const input of inputs_waiting) {\n\t\t\t\tif (dep.inputs.includes(input)) {\n\t\t\t\t\tadd_new_message(\"Warning\", WAITING_FOR_INPUTS_MESSAGE, \"warning\");\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tconst current_status = loading_status.get_status_for_fn(dep_index);\n\t\tmessages = messages.filter(({ fn_index }) => fn_index !== dep_index);\n\t\tif (current_status === \"pending\" || current_status === \"generating\") {\n\t\t\tdep.pending_request = true;\n\t\t}\n\n\t\tlet payload: Payload = {\n\t\t\tfn_index: dep_index,\n\t\t\tdata: await Promise.all(\n\t\t\t\tdep.inputs.map((id) =>\n\t\t\t\t\tget_component_value_or_event_data(id, trigger_id, event_data)\n\t\t\t\t)\n\t\t\t),\n\t\t\tevent_data: dep.collects_event_data ? event_data : null,\n\t\t\ttrigger_id: trigger_id\n\t\t};\n\n\t\tif (dep.frontend_fn && typeof dep.frontend_fn !== \"boolean\") {\n\t\t\tdep\n\t\t\t\t.frontend_fn(\n\t\t\t\t\tpayload.data.concat(\n\t\t\t\t\t\tawait Promise.all(dep.outputs.map((id) => get_data(id)))\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t\t.then((v: unknown[]) => {\n\t\t\t\t\tif (dep.backend_fn) {\n\t\t\t\t\t\tpayload.data = v;\n\t\t\t\t\t\ttrigger_prediction(dep, payload);\n\t\t\t\t\t} else {\n\t\t\t\t\t\thandle_update(v, dep_index);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t} else if (dep.types.cancel && dep.cancels) {\n\t\t\tawait Promise.all(\n\t\t\t\tdep.cancels.map(async (fn_index) => {\n\t\t\t\t\tconst submission = submit_map.get(fn_index);\n\t\t\t\t\tsubmission?.cancel();\n\t\t\t\t\treturn submission;\n\t\t\t\t})\n\t\t\t);\n\t\t} else {\n\t\t\tif (dep.backend_fn) {\n\t\t\t\tif (dep.js_implementation) {\n\t\t\t\t\tlet js_fn = new AsyncFunction(\n\t\t\t\t\t\t`let result = await (${dep.js_implementation})(...arguments);\n\t\t\t\t\t\treturn (!Array.isArray(result)) ? [result] : result;`\n\t\t\t\t\t);\n\t\t\t\t\tjs_fn(...payload.data)\n\t\t\t\t\t\t.then((js_result) => {\n\t\t\t\t\t\t\thandle_update(js_result, dep_index);\n\t\t\t\t\t\t\tpayload.js_implementation = true;\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.catch((error) => {\n\t\t\t\t\t\t\tconsole.error(error);\n\t\t\t\t\t\t\tpayload.js_implementation = false;\n\t\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\ttrigger_prediction(dep, payload);\n\t\t\t}\n\t\t}\n\n\t\tfunction trigger_prediction(dep: Dependency, payload: Payload): void {\n\t\t\tif (dep.trigger_mode === \"once\") {\n\t\t\t\tif (!dep.pending_request)\n\t\t\t\t\tmake_prediction(payload, dep.connection == \"stream\");\n\t\t\t} else if (dep.trigger_mode === \"multiple\") {\n\t\t\t\tmake_prediction(payload, dep.connection == \"stream\");\n\t\t\t} else if (dep.trigger_mode === \"always_last\") {\n\t\t\t\tif (!dep.pending_request) {\n\t\t\t\t\tmake_prediction(payload, dep.connection == \"stream\");\n\t\t\t\t} else {\n\t\t\t\t\tdep.final_event = payload;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tasync function reconnect(): Promise<void> {\n\t\t\tconst connection_status = await app.reconnect();\n\t\t\tif (connection_status === \"broken\") {\n\t\t\t\tsetTimeout(reconnect, 1000);\n\t\t\t} else if (connection_status === \"changed\") {\n\t\t\t\tbroken_connection = false;\n\t\t\t\tmessages = [\n\t\t\t\t\tnew_message(\n\t\t\t\t\t\t\"Changed Connection\",\n\t\t\t\t\t\tCHANGED_CONNECTION_MESSAGE,\n\t\t\t\t\t\t-1,\n\t\t\t\t\t\t\"info\",\n\t\t\t\t\t\t3,\n\t\t\t\t\t\ttrue\n\t\t\t\t\t),\n\t\t\t\t\t...messages.map((m) =>\n\t\t\t\t\t\tm.message === LOST_CONNECTION_MESSAGE ? { ...m, visible: false } : m\n\t\t\t\t\t)\n\t\t\t\t];\n\t\t\t} else if (connection_status === \"connected\") {\n\t\t\t\tbroken_connection = false;\n\t\t\t\tmessages = [\n\t\t\t\t\tnew_message(\n\t\t\t\t\t\t\"Reconnected\",\n\t\t\t\t\t\tRECONNECTION_MESSAGE,\n\t\t\t\t\t\t-1,\n\t\t\t\t\t\t\"success\",\n\t\t\t\t\t\tnull,\n\t\t\t\t\t\ttrue\n\t\t\t\t\t),\n\t\t\t\t\t...messages.map((m) =>\n\t\t\t\t\t\tm.message === LOST_CONNECTION_MESSAGE ? { ...m, visible: false } : m\n\t\t\t\t\t)\n\t\t\t\t];\n\t\t\t}\n\t\t}\n\n\t\tasync function make_prediction(\n\t\t\tpayload: Payload,\n\t\t\tstreaming = false\n\t\t): Promise<void> {\n\t\t\tif (allow_video_trim) {\n\t\t\t\tscreen_recorder.markRemoveSegmentStart();\n\t\t\t}\n\t\t\tif (api_recorder_visible) {\n\t\t\t\tapi_calls = [...api_calls, JSON.parse(JSON.stringify(payload))];\n\t\t\t}\n\n\t\t\tlet submission: ReturnType<typeof app.submit>;\n\t\t\tapp.set_current_payload(payload);\n\t\t\tif (streaming) {\n\t\t\t\tif (!submit_map.has(dep_index)) {\n\t\t\t\t\tdep.inputs.forEach((id) => modify_stream(id, \"waiting\"));\n\t\t\t\t} else if (\n\t\t\t\t\tsubmit_map.has(dep_index) &&\n\t\t\t\t\tdep.inputs.some((id) => get_stream_state(id) === \"waiting\")\n\t\t\t\t) {\n\t\t\t\t\treturn;\n\t\t\t\t} else if (\n\t\t\t\t\tsubmit_map.has(dep_index) &&\n\t\t\t\t\tdep.inputs.some((id) => get_stream_state(id) === \"open\")\n\t\t\t\t) {\n\t\t\t\t\tawait app.send_ws_message(\n\t\t\t\t\t\t// @ts-ignore\n\t\t\t\t\t\t`${app.config.root + app.config.api_prefix}/stream/${submit_map.get(dep_index).event_id()}`,\n\t\t\t\t\t\t{ ...payload, session_hash: app.session_hash }\n\t\t\t\t\t);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\ttry {\n\t\t\t\tsubmission = app.submit(\n\t\t\t\t\tpayload.fn_index,\n\t\t\t\t\tpayload.data as unknown[],\n\t\t\t\t\tpayload.event_data,\n\t\t\t\t\tpayload.trigger_id\n\t\t\t\t);\n\t\t\t} catch (e) {\n\t\t\t\tconst fn_index = 0; // Mock value for fn_index\n\t\t\t\tif (app.closed) return; // when a user navigates away in multipage app.\n\t\t\t\tmessages = [\n\t\t\t\t\tnew_message(\"Error\", String(e), fn_index, \"error\"),\n\t\t\t\t\t...messages\n\t\t\t\t];\n\t\t\t\tloading_status.update({\n\t\t\t\t\tstatus: \"error\",\n\t\t\t\t\tfn_index,\n\t\t\t\t\teta: 0,\n\t\t\t\t\tqueue: false,\n\t\t\t\t\tqueue_position: null\n\t\t\t\t});\n\t\t\t\tset_status($loading_status);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tsubmit_map.set(dep_index, submission);\n\n\t\t\tfor await (const message of submission) {\n\t\t\t\tif (payload.js_implementation) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif (message.type === \"data\") {\n\t\t\t\t\thandle_data(message);\n\t\t\t\t} else if (message.type === \"render\") {\n\t\t\t\t\thandle_render(message);\n\t\t\t\t} else if (message.type === \"status\") {\n\t\t\t\t\thandle_status_update(message);\n\t\t\t\t} else if (message.type === \"log\") {\n\t\t\t\t\thandle_log(message);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfunction handle_data(message: Payload): void {\n\t\t\t\tconst { data, fn_index } = message;\n\t\t\t\tif (dep.pending_request && dep.final_event) {\n\t\t\t\t\tdep.pending_request = false;\n\t\t\t\t\tmake_prediction(dep.final_event, dep.connection == \"stream\");\n\t\t\t\t}\n\t\t\t\tdep.pending_request = false;\n\t\t\t\thandle_update(data, fn_index);\n\t\t\t\tset_status($loading_status);\n\t\t\t}\n\n\t\t\tfunction handle_render(message: RenderMessage): void {\n\t\t\t\tconst { data } = message;\n\t\t\t\tlet _components: ComponentMeta[] = data.components;\n\t\t\t\tlet render_layout: LayoutNode = data.layout;\n\t\t\t\tlet _dependencies: Dependency[] = data.dependencies;\n\t\t\t\tlet render_id = data.render_id;\n\n\t\t\t\tlet deps_to_remove: number[] = [];\n\t\t\t\tdependencies.forEach((old_dep, i) => {\n\t\t\t\t\tif (old_dep.rendered_in === dep.render_id) {\n\t\t\t\t\t\tdeps_to_remove.push(i);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tdeps_to_remove.reverse().forEach((i) => {\n\t\t\t\t\tdependencies.splice(i, 1);\n\t\t\t\t});\n\t\t\t\t_dependencies.forEach((dep) => {\n\t\t\t\t\tdependencies.push(dep);\n\t\t\t\t});\n\n\t\t\t\trerender_layout({\n\t\t\t\t\tcomponents: _components,\n\t\t\t\t\tlayout: render_layout,\n\t\t\t\t\troot: root + api_prefix,\n\t\t\t\t\tdependencies: dependencies,\n\t\t\t\t\trender_id: render_id\n\t\t\t\t});\n\t\t\t\t_dependencies.forEach((dep) => {\n\t\t\t\t\tif (dep.targets.some((dep) => dep[1] === \"load\")) {\n\t\t\t\t\t\twait_then_trigger_api_call(dep.id);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tfunction handle_log(msg: LogMessage): void {\n\t\t\t\tconst { title, log, fn_index, level, duration, visible } = msg;\n\t\t\t\tmessages = [\n\t\t\t\t\tnew_message(title, log, fn_index, level, duration, visible),\n\t\t\t\t\t...messages\n\t\t\t\t];\n\t\t\t}\n\n\t\t\tfunction open_stream_events(\n\t\t\t\tstatus: StatusMessage,\n\t\t\t\tid: number,\n\t\t\t\tdep: Dependency\n\t\t\t): void {\n\t\t\t\tif (\n\t\t\t\t\tstatus.original_msg === \"process_starts\" &&\n\t\t\t\t\tdep.connection === \"stream\"\n\t\t\t\t) {\n\t\t\t\t\tmodify_stream(id, \"open\");\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t/* eslint-disable complexity */\n\t\t\tfunction handle_status_update(message: StatusMessage): void {\n\t\t\t\tif (message.broken && !broken_connection) {\n\t\t\t\t\tmessages = [\n\t\t\t\t\t\tnew_message(\n\t\t\t\t\t\t\t\"Broken Connection\",\n\t\t\t\t\t\t\tLOST_CONNECTION_MESSAGE,\n\t\t\t\t\t\t\t-1,\n\t\t\t\t\t\t\t\"error\",\n\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\ttrue\n\t\t\t\t\t\t),\n\t\t\t\t\t\t...messages\n\t\t\t\t\t];\n\n\t\t\t\t\tbroken_connection = true;\n\t\t\t\t\tsetTimeout(reconnect, 1000);\n\t\t\t\t}\n\t\t\t\tif (message.session_not_found) {\n\t\t\t\t\tmessages = [\n\t\t\t\t\t\tnew_message(\n\t\t\t\t\t\t\t\"Session Not Found\",\n\t\t\t\t\t\t\tSESSION_NOT_FOUND_MESSAGE,\n\t\t\t\t\t\t\t-1,\n\t\t\t\t\t\t\t\"error\",\n\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\ttrue\n\t\t\t\t\t\t),\n\t\t\t\t\t\t...messages\n\t\t\t\t\t];\n\t\t\t\t}\n\t\t\t\tconst { fn_index, ...status } = message;\n\t\t\t\tif (status.stage === \"streaming\" && status.time_limit) {\n\t\t\t\t\tdep.inputs.forEach((id) => {\n\t\t\t\t\t\tset_time_limit(id, status.time_limit);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tdep.inputs.forEach((id) => {\n\t\t\t\t\topen_stream_events(message, id, dep);\n\t\t\t\t});\n\t\t\t\t//@ts-ignore\n\t\t\t\tloading_status.update({\n\t\t\t\t\t...status,\n\t\t\t\t\ttime_limit: status.time_limit,\n\t\t\t\t\tstatus: status.stage,\n\t\t\t\t\tprogress: status.progress_data,\n\t\t\t\t\tfn_index\n\t\t\t\t});\n\t\t\t\tset_status($loading_status);\n\t\t\t\tif (\n\t\t\t\t\t!showed_duplicate_message &&\n\t\t\t\t\tspace_id !== null &&\n\t\t\t\t\tstatus.position !== undefined &&\n\t\t\t\t\tstatus.position >= 2 &&\n\t\t\t\t\tstatus.eta !== undefined &&\n\t\t\t\t\tstatus.eta > SHOW_DUPLICATE_MESSAGE_ON_ETA\n\t\t\t\t) {\n\t\t\t\t\tshowed_duplicate_message = true;\n\t\t\t\t\tmessages = [\n\t\t\t\t\t\tnew_message(\"Warning\", DUPLICATE_MESSAGE, fn_index, \"warning\"),\n\t\t\t\t\t\t...messages\n\t\t\t\t\t];\n\t\t\t\t}\n\t\t\t\tif (\n\t\t\t\t\t!showed_mobile_warning &&\n\t\t\t\t\tis_mobile_device &&\n\t\t\t\t\tstatus.eta !== undefined &&\n\t\t\t\t\tstatus.eta > SHOW_MOBILE_QUEUE_WARNING_ON_ETA\n\t\t\t\t) {\n\t\t\t\t\tshowed_mobile_warning = true;\n\t\t\t\t\tmessages = [\n\t\t\t\t\t\tnew_message(\"Warning\", MOBILE_QUEUE_WARNING, fn_index, \"warning\"),\n\t\t\t\t\t\t...messages\n\t\t\t\t\t];\n\t\t\t\t}\n\n\t\t\t\tif (status.stage === \"complete\" || status.stage === \"generating\") {\n\t\t\t\t\tconst deps_triggered_by_state: Set<Dependency> = new Set();\n\t\t\t\t\tstatus.changed_state_ids?.forEach((id) => {\n\t\t\t\t\t\tdependencies\n\t\t\t\t\t\t\t.filter((dep) => dep.targets.some(([_id, _]) => _id === id))\n\t\t\t\t\t\t\t.forEach((dep) => {\n\t\t\t\t\t\t\t\tdeps_triggered_by_state.add(dep);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t\tdeps_triggered_by_state.forEach((dep) => {\n\t\t\t\t\t\twait_then_trigger_api_call(dep.id, payload.trigger_id);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tif (status.stage === \"complete\") {\n\t\t\t\t\tdependencies.forEach(async (dep) => {\n\t\t\t\t\t\tif (dep.trigger_after === fn_index) {\n\t\t\t\t\t\t\twait_then_trigger_api_call(dep.id, payload.trigger_id);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tdep.inputs.forEach((id) => {\n\t\t\t\t\t\tmodify_stream(id, \"closed\");\n\t\t\t\t\t});\n\t\t\t\t\tsubmit_map.delete(dep_index);\n\t\t\t\t}\n\t\t\t\tif (\n\t\t\t\t\tstatus.stage === \"error\" &&\n\t\t\t\t\t!broken_connection &&\n\t\t\t\t\t!message.session_not_found\n\t\t\t\t) {\n\t\t\t\t\tif (status.message) {\n\t\t\t\t\t\tconst _message = status.message.replace(\n\t\t\t\t\t\t\tMESSAGE_QUOTE_RE,\n\t\t\t\t\t\t\t(_, b) => b\n\t\t\t\t\t\t);\n\t\t\t\t\t\tconst _title = status.title ?? \"Error\";\n\t\t\t\t\t\tmessages = [\n\t\t\t\t\t\t\tnew_message(\n\t\t\t\t\t\t\t\t_title,\n\t\t\t\t\t\t\t\t_message,\n\t\t\t\t\t\t\t\tfn_index,\n\t\t\t\t\t\t\t\t\"error\",\n\t\t\t\t\t\t\t\tstatus.duration,\n\t\t\t\t\t\t\t\tstatus.visible\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t...messages\n\t\t\t\t\t\t];\n\t\t\t\t\t}\n\t\t\t\t\tdependencies.map(async (dep) => {\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tdep.trigger_after === fn_index &&\n\t\t\t\t\t\t\t!dep.trigger_only_on_success\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\twait_then_trigger_api_call(dep.id, payload.trigger_id);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (allow_video_trim) {\n\t\t\t\tscreen_recorder.markRemoveSegmentEnd();\n\t\t\t}\n\t\t}\n\t}\n\t/* eslint-enable complexity */\n\n\tfunction trigger_share(title: string | undefined, description: string): void {\n\t\tif (space_id === null) {\n\t\t\treturn;\n\t\t}\n\t\tconst discussion_url = new URL(\n\t\t\t`https://huggingface.co/spaces/${space_id}/discussions/new`\n\t\t);\n\t\tif (title !== undefined && title.length > 0) {\n\t\t\tdiscussion_url.searchParams.set(\"title\", title);\n\t\t}\n\t\tdiscussion_url.searchParams.set(\"description\", description);\n\t\twindow.open(discussion_url.toString(), \"_blank\");\n\t}\n\n\tfunction handle_error_close(e: Event & { detail: number }): void {\n\t\tconst _id = e.detail;\n\t\tmessages = messages.filter((m) => m.id !== _id);\n\t}\n\n\tconst is_external_url = (link: string | null): boolean =>\n\t\t!!(link && new URL(link, location.href).origin !== location.origin);\n\n\tasync function handle_mount(): Promise<void> {\n\t\tif (js) {\n\t\t\tlet blocks_frontend_fn = new AsyncFunction(\n\t\t\t\t`let result = await (${js})();\n\t\t\t\t\treturn (!Array.isArray(result)) ? [result] : result;`\n\t\t\t);\n\t\t\tawait blocks_frontend_fn();\n\t\t}\n\n\t\tawait tick();\n\n\t\tvar a = target.getElementsByTagName(\"a\");\n\n\t\tfor (var i = 0; i < a.length; i++) {\n\t\t\tconst _target = a[i].getAttribute(\"target\");\n\t\t\tconst _link = a[i].getAttribute(\"href\");\n\n\t\t\t// only target anchor tags with external links\n\t\t\tif (is_external_url(_link) && _target !== \"_blank\")\n\t\t\t\ta[i].setAttribute(\"target\", \"_blank\");\n\t\t}\n\t\thandle_load_triggers();\n\n\t\tif (!target || render_complete) return;\n\n\t\ttarget.addEventListener(\"prop_change\", (e: Event) => {\n\t\t\tif (!isCustomEvent(e)) throw new Error(\"not a custom event\");\n\t\t\tconst { id, prop, value } = e.detail;\n\t\t\tupdate_value([{ id, prop, value }]);\n\t\t\tif (prop === \"input_ready\" && value === false) {\n\t\t\t\tinputs_waiting.push(id);\n\t\t\t}\n\t\t\tif (prop === \"input_ready\" && value === true) {\n\t\t\t\tinputs_waiting = inputs_waiting.filter((item) => item !== id);\n\t\t\t}\n\t\t});\n\t\ttarget.addEventListener(\"gradio\", (e: Event) => {\n\t\t\tif (!isCustomEvent(e)) throw new Error(\"not a custom event\");\n\n\t\t\tconst { id, event, data } = e.detail;\n\n\t\t\tif (event === \"share\") {\n\t\t\t\tconst { title, description } = data as ShareData;\n\t\t\t\ttrigger_share(title, description);\n\t\t\t} else if (event === \"error\") {\n\t\t\t\tmessages = [new_message(\"Error\", data, -1, event), ...messages];\n\t\t\t} else if (event === \"warning\") {\n\t\t\t\tmessages = [new_message(\"Warning\", data, -1, event), ...messages];\n\t\t\t} else if (event === \"info\") {\n\t\t\t\tmessages = [new_message(\"Info\", data, -1, event), ...messages];\n\t\t\t} else if (event == \"clear_status\") {\n\t\t\t\tupdate_status(id, \"complete\", data);\n\t\t\t} else if (event == \"close_stream\") {\n\t\t\t\tconst deps = $targets[id]?.[data];\n\t\t\t\tdeps?.forEach((dep_id) => {\n\t\t\t\t\tif (submit_map.has(dep_id)) {\n\t\t\t\t\t\t// @ts-ignore\n\t\t\t\t\t\tconst url = `${app.config.root + app.config.api_prefix}/stream/${submit_map.get(dep_id).event_id()}`;\n\t\t\t\t\t\tapp.post_data(`${url}/close`, {});\n\t\t\t\t\t\tapp.close_ws(url);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tconst deps = $targets[id]?.[event];\n\n\t\t\t\tdeps?.forEach((dep_id) => {\n\t\t\t\t\trequestAnimationFrame(() => {\n\t\t\t\t\t\twait_then_trigger_api_call(dep_id, id, data);\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\n\t\trender_complete = true;\n\t}\n\n\tvalue_change((id, value) => {\n\t\tconst deps = $targets[id]?.[\"change\"];\n\n\t\tdeps?.forEach((dep_id) => {\n\t\t\trequestAnimationFrame(() => {\n\t\t\t\twait_then_trigger_api_call(dep_id, id, value);\n\t\t\t});\n\t\t});\n\t});\n\n\tconst handle_load_triggers = (): void => {\n\t\tdependencies.forEach((dep) => {\n\t\t\tif (dep.targets.some((dep) => dep[1] === \"load\")) {\n\t\t\t\twait_then_trigger_api_call(dep.id);\n\t\t\t}\n\t\t});\n\t};\n\n\t$: set_status($loading_status);\n\n\tfunction update_status(\n\t\tid: number,\n\t\tstatus: \"error\" | \"complete\" | \"pending\",\n\t\tdata: LoadingStatus\n\t): void {\n\t\tdata.status = status;\n\t\tupdate_value([\n\t\t\t{\n\t\t\t\tid,\n\t\t\t\tprop: \"loading_status\",\n\t\t\t\tvalue: data\n\t\t\t}\n\t\t]);\n\t}\n\n\tfunction set_status(statuses: LoadingStatusCollection): void {\n\t\tlet updates: {\n\t\t\tid: number;\n\t\t\tprop: string;\n\t\t\tvalue: LoadingStatus;\n\t\t}[] = [];\n\t\tObject.entries(statuses).forEach(([id, loading_status]) => {\n\t\t\tif (app.closed && loading_status.status === \"error\") {\n\t\t\t\t// when a user navigates away in multipage app.\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tlet dependency = dependencies.find(\n\t\t\t\t(dep) => dep.id == loading_status.fn_index\n\t\t\t);\n\t\t\tif (dependency === undefined) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tloading_status.scroll_to_output = dependency.scroll_to_output;\n\t\t\tloading_status.show_progress = dependency.show_progress;\n\t\t\tupdates.push({\n\t\t\t\tid: parseInt(id),\n\t\t\t\tprop: \"loading_status\",\n\t\t\t\tvalue: loading_status\n\t\t\t});\n\t\t});\n\n\t\tconst inputs_to_update = loading_status.get_inputs_to_update();\n\t\tconst additional_updates = Array.from(inputs_to_update).map(\n\t\t\t([id, pending_status]) => {\n\t\t\t\treturn {\n\t\t\t\t\tid,\n\t\t\t\t\tprop: \"pending\",\n\t\t\t\t\tvalue: pending_status === \"pending\"\n\t\t\t\t};\n\t\t\t}\n\t\t);\n\n\t\tupdate_value([...updates, ...additional_updates]);\n\t}\n\n\tfunction isCustomEvent(event: Event): event is CustomEvent {\n\t\treturn \"detail\" in event;\n\t}\n\n\tlet is_screen_recording = writable(false);\n\n\tonMount(() => {\n\t\tis_mobile_device =\n\t\t\t/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(\n\t\t\t\tnavigator.userAgent\n\t\t\t);\n\n\t\tscreen_recorder.initialize(\n\t\t\troot,\n\t\t\t(title, message, type) => {\n\t\t\t\tadd_new_message(title, message, type);\n\t\t\t},\n\t\t\t(isRecording) => {\n\t\t\t\t$is_screen_recording = isRecording;\n\t\t\t}\n\t\t);\n\n\t\tconst handleVibeEditorResize = (event: CustomEvent): void => {\n\t\t\tvibe_editor_width = event.detail.width;\n\t\t};\n\n\t\twindow.addEventListener(\n\t\t\t\"vibeEditorResize\",\n\t\t\thandleVibeEditorResize as EventListener\n\t\t);\n\n\t\t// Load components if they should be visible on initial page load\n\t\tif (api_docs_visible) {\n\t\t\tloadApiDocs();\n\t\t}\n\t\tif (api_recorder_visible) {\n\t\t\tloadApiRecorder();\n\t\t}\n\t\tif (settings_visible) {\n\t\t\tloadSettings();\n\t\t}\n\t\tif (vibe_mode) {\n\t\t\tloadVibeEditor();\n\t\t}\n\t});\n\n\tfunction screen_recording(): void {\n\t\tif ($is_screen_recording) {\n\t\t\tscreen_recorder.stopRecording();\n\t\t} else {\n\t\t\tscreen_recorder.startRecording();\n\t\t}\n\t}\n</script>\n\n<svelte:head>\n\t{#if control_page_title}\n\t\t<title>{title}</title>\n\t{/if}\n\t{#if css}\n\t\t{@html `\\<style\\>${prefix_css(css, version)}</style>`}\n\t{/if}\n</svelte:head>\n\n<div class=\"wrap\" style:min-height={app_mode ? \"100%\" : \"auto\"}>\n\t<div\n\t\tclass=\"contain\"\n\t\tstyle:flex-grow={app_mode ? \"1\" : \"auto\"}\n\t\tstyle:margin-right={vibe_mode ? `${vibe_editor_width}px` : \"0\"}\n\t>\n\t\t{#if $_layout && app.config}\n\t\t\t<MountComponents\n\t\t\t\trootNode={$_layout}\n\t\t\t\t{root}\n\t\t\t\t{target}\n\t\t\t\t{theme_mode}\n\t\t\t\ton:mount={handle_mount}\n\t\t\t\t{version}\n\t\t\t\t{autoscroll}\n\t\t\t\t{max_file_size}\n\t\t\t\tclient={app}\n\t\t\t/>\n\t\t{/if}\n\t</div>\n\n\t{#if show_footer}\n\t\t<footer>\n\t\t\t{#if show_api}\n\t\t\t\t<button\n\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\tset_api_docs_visible(!api_docs_visible);\n\t\t\t\t\t}}\n\t\t\t\t\ton:mouseenter={() => {\n\t\t\t\t\t\tloadApiDocs();\n\t\t\t\t\t\tloadApiRecorder();\n\t\t\t\t\t}}\n\t\t\t\t\tclass=\"show-api\"\n\t\t\t\t>\n\t\t\t\t\t{#if app.config?.mcp_server}\n\t\t\t\t\t\t{$_(\"errors.use_via_api_or_mcp\")}\n\t\t\t\t\t{:else}\n\t\t\t\t\t\t{$_(\"errors.use_via_api\")}\n\t\t\t\t\t{/if}\n\t\t\t\t\t<img src={api_logo} alt={$_(\"common.logo\")} />\n\t\t\t\t</button>\n\t\t\t\t<div class=\"divider show-api-divider\"></div>\n\t\t\t{/if}\n\t\t\t<a\n\t\t\t\thref=\"https://gradio.app\"\n\t\t\t\tclass=\"built-with\"\n\t\t\t\ttarget=\"_blank\"\n\t\t\t\trel=\"noreferrer\"\n\t\t\t>\n\t\t\t\t{$_(\"common.built_with_gradio\")}\n\t\t\t\t<img src={logo} alt={$_(\"common.logo\")} />\n\t\t\t</a>\n\t\t\t<div class=\"divider\" class:hidden={!$is_screen_recording}></div>\n\t\t\t<button\n\t\t\t\tclass:hidden={!$is_screen_recording}\n\t\t\t\ton:click={() => {\n\t\t\t\t\tscreen_recording();\n\t\t\t\t}}\n\t\t\t\tclass=\"record\"\n\t\t\t>\n\t\t\t\t{$_(\"common.stop_recording\")}\n\t\t\t\t<img src={record_stop} alt={$_(\"common.stop_recording\")} />\n\t\t\t</button>\n\t\t\t<div class=\"divider\"></div>\n\t\t\t<button\n\t\t\t\ton:click={() => {\n\t\t\t\t\tset_settings_visible(!settings_visible);\n\t\t\t\t}}\n\t\t\t\ton:mouseenter={() => {\n\t\t\t\t\tloadSettings();\n\t\t\t\t}}\n\t\t\t\tclass=\"settings\"\n\t\t\t>\n\t\t\t\t{$_(\"common.settings\")}\n\t\t\t\t<img src={settings_logo} alt={$_(\"common.settings\")} />\n\t\t\t</button>\n\t\t</footer>\n\t{/if}\n</div>\n\n{#if api_recorder_visible && ApiRecorder}\n\t<!-- TODO: fix -->\n\t<!-- svelte-ignore a11y-click-events-have-key-events-->\n\t<!-- svelte-ignore a11y-no-static-element-interactions-->\n\t<div\n\t\tid=\"api-recorder-container\"\n\t\ton:click={() => {\n\t\t\tset_api_docs_visible(true);\n\t\t\tapi_recorder_visible = false;\n\t\t}}\n\t>\n\t\t<svelte:component this={ApiRecorder} {api_calls} {dependencies} />\n\t</div>\n{/if}\n\n{#if api_docs_visible && $_layout && ApiDocs}\n\t<div class=\"api-docs\">\n\t\t<!-- TODO: fix -->\n\t\t<!-- svelte-ignore a11y-click-events-have-key-events-->\n\t\t<!-- svelte-ignore a11y-no-static-element-interactions-->\n\t\t<div\n\t\t\tclass=\"backdrop\"\n\t\t\ton:click={() => {\n\t\t\t\tset_api_docs_visible(false);\n\t\t\t}}\n\t\t/>\n\t\t<div class=\"api-docs-wrap\">\n\t\t\t<svelte:component\n\t\t\t\tthis={ApiDocs}\n\t\t\t\troot_node={$_layout}\n\t\t\t\ton:close={(event) => {\n\t\t\t\t\tset_api_docs_visible(false);\n\t\t\t\t\tapi_calls = [];\n\t\t\t\t\tapi_recorder_visible = api_recorder_visible =\n\t\t\t\t\t\tevent.detail?.api_recorder_visible;\n\t\t\t\t}}\n\t\t\t\t{dependencies}\n\t\t\t\t{root}\n\t\t\t\t{app}\n\t\t\t\t{space_id}\n\t\t\t\t{api_calls}\n\t\t\t\t{username}\n\t\t\t/>\n\t\t</div>\n\t</div>\n{/if}\n\n{#if settings_visible && $_layout && app.config && Settings}\n\t<div class=\"api-docs\">\n\t\t<!-- TODO: fix -->\n\t\t<!-- svelte-ignore a11y-click-events-have-key-events-->\n\t\t<!-- svelte-ignore a11y-no-static-element-interactions-->\n\t\t<div\n\t\t\tclass=\"backdrop\"\n\t\t\ton:click={() => {\n\t\t\t\tset_settings_visible(false);\n\t\t\t}}\n\t\t/>\n\t\t<div class=\"api-docs-wrap\">\n\t\t\t<svelte:component\n\t\t\t\tthis={Settings}\n\t\t\t\tbind:allow_zoom\n\t\t\t\tbind:allow_video_trim\n\t\t\t\ton:close={() => {\n\t\t\t\t\tset_settings_visible(false);\n\t\t\t\t}}\n\t\t\t\ton:start_recording={() => {\n\t\t\t\t\tscreen_recording();\n\t\t\t\t}}\n\t\t\t\tpwa_enabled={app.config.pwa}\n\t\t\t\t{root}\n\t\t\t\t{space_id}\n\t\t\t/>\n\t\t</div>\n\t</div>\n{/if}\n\n{#if messages}\n\t<Toast {messages} on:close={handle_error_close} />\n{/if}\n\n{#if vibe_mode && VibeEditor}\n\t<svelte:component this={VibeEditor} {app} {root} />\n{/if}\n\n<style>\n\t.wrap {\n\t\tdisplay: flex;\n\t\tflex-grow: 1;\n\t\tflex-direction: column;\n\t\twidth: var(--size-full);\n\t\tfont-weight: var(--body-text-weight);\n\t\tfont-size: var(--body-text-size);\n\t}\n\n\t.contain {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t}\n\n\tfooter {\n\t\tdisplay: flex;\n\t\tjustify-content: center;\n\t\tmargin-top: var(--size-4);\n\t\tcolor: var(--body-text-color-subdued);\n\t}\n\t.divider {\n\t\tmargin-left: var(--size-1);\n\t\tmargin-right: var(--size-2);\n\t}\n\n\t.show-api,\n\t.settings,\n\t.record {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t}\n\t.show-api:hover {\n\t\tcolor: var(--body-text-color);\n\t}\n\n\t.show-api img {\n\t\tmargin-right: var(--size-1);\n\t\tmargin-left: var(--size-2);\n\t\twidth: var(--size-3);\n\t}\n\n\t.settings img {\n\t\tmargin-right: var(--size-1);\n\t\tmargin-left: var(--size-1);\n\t\twidth: var(--size-4);\n\t}\n\n\t.record img {\n\t\tmargin-right: var(--size-1);\n\t\tmargin-left: var(--size-1);\n\t\twidth: var(--size-3);\n\t}\n\n\t.built-with {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t}\n\n\t.built-with:hover,\n\t.settings:hover,\n\t.record:hover {\n\t\tcolor: var(--body-text-color);\n\t}\n\n\t.built-with img {\n\t\tmargin-right: var(--size-1);\n\t\tmargin-left: var(--size-1);\n\t\tmargin-bottom: 1px;\n\t\twidth: var(--size-4);\n\t}\n\n\t.api-docs {\n\t\tdisplay: flex;\n\t\tposition: fixed;\n\t\ttop: 0;\n\t\tright: 0;\n\t\tz-index: var(--layer-top);\n\t\tbackground: rgba(0, 0, 0, 0.5);\n\t\twidth: var(--size-screen);\n\t\theight: var(--size-screen-h);\n\t}\n\n\t.backdrop {\n\t\tflex: 1 1 0%;\n\t\t-webkit-backdrop-filter: blur(4px);\n\t\tbackdrop-filter: blur(4px);\n\t}\n\n\t.api-docs-wrap {\n\t\tbox-shadow: var(--shadow-drop-lg);\n\t\tbackground: var(--background-fill-primary);\n\t\toverflow-x: hidden;\n\t\toverflow-y: auto;\n\t}\n\n\t@media (--screen-md) {\n\t\t.api-docs-wrap {\n\t\t\tborder-top-left-radius: var(--radius-lg);\n\t\t\tborder-bottom-left-radius: var(--radius-lg);\n\t\t\twidth: 950px;\n\t\t}\n\t}\n\n\t@media (--screen-xxl) {\n\t\t.api-docs-wrap {\n\t\t\twidth: 1150px;\n\t\t}\n\t}\n\n\t#api-recorder-container {\n\t\tposition: fixed;\n\t\tleft: 10px;\n\t\tbottom: 10px;\n\t\tz-index: 1000;\n\t}\n\n\t.show-api {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t}\n\n\t@media (max-width: 640px) {\n\t\t.show-api,\n\t\t.show-api-divider {\n\t\t\tdisplay: none;\n\t\t}\n\t}\n\n\t.show-api:hover {\n\t\tcolor: var(--body-text-color);\n\t}\n\n\t.hidden {\n\t\tdisplay: none;\n\t}\n</style>\n","<script lang=\"ts\">\n\texport let visible = true;\n\texport let scale: number | null = null;\n\texport let min_width = 0;\n</script>\n\n<div\n\tclass=\"form\"\n\tclass:hidden={!visible}\n\tstyle:flex-grow={scale}\n\tstyle:min-width={`calc(min(${min_width}px, 100%))`}\n>\n\t<slot />\n</div>\n\n<style>\n\tdiv {\n\t\tdisplay: flex;\n\t\tflex-direction: inherit;\n\t\tflex-wrap: wrap;\n\t\tgap: var(--form-gap-width);\n\t\tbox-shadow: var(--block-shadow);\n\t\tborder: var(--block-border-width) solid var(--block-border-color);\n\t\tborder-radius: var(--block-radius);\n\t\tbackground: var(--border-color-primary);\n\t\toverflow-y: hidden;\n\t}\n\n\tdiv :global(.block) {\n\t\tbox-shadow: none !important;\n\t\tborder-width: 0px !important;\n\t\tborder-radius: 0px !important;\n\t}\n\n\t.hidden {\n\t\tdisplay: none;\n\t}\n</style>\n","<script lang=\"ts\">\n\timport {\n\t\tbeforeUpdate,\n\t\tafterUpdate,\n\t\tcreateEventDispatcher,\n\t\ttick\n\t} from \"svelte\";\n\timport { BlockTitle } from \"@gradio/atoms\";\n\timport { Copy, Check, Send, Square } from \"@gradio/icons\";\n\timport { fade } from \"svelte/transition\";\n\timport type { SelectData, CopyData } from \"@gradio/utils\";\n\timport type { InputHTMLAttributes } from \"./types\";\n\n\texport let value = \"\";\n\texport let value_is_output = false;\n\texport let lines = 1;\n\texport let placeholder = \"Type here...\";\n\texport let label: string;\n\texport let info: string | undefined = undefined;\n\texport let disabled = false;\n\texport let show_label = true;\n\texport let container = true;\n\texport let max_lines: number | undefined = undefined;\n\texport let type: \"text\" | \"password\" | \"email\" = \"text\";\n\texport let show_copy_button = false;\n\texport let submit_btn: string | boolean | null = null;\n\texport let stop_btn: string | boolean | null = null;\n\texport let rtl = false;\n\texport let autofocus = false;\n\texport let text_align: \"left\" | \"right\" | undefined = undefined;\n\texport let autoscroll = true;\n\texport let max_length: number | undefined = undefined;\n\texport let html_attributes: InputHTMLAttributes | null = null;\n\n\tlet el: HTMLTextAreaElement | HTMLInputElement;\n\tlet copied = false;\n\tlet timer: NodeJS.Timeout;\n\tlet can_scroll: boolean;\n\tlet previous_scroll_top = 0;\n\tlet user_has_scrolled_up = false;\n\tlet _max_lines: number;\n\n\tconst show_textbox_border = !submit_btn;\n\n\t$: if (max_lines === undefined || max_lines === null) {\n\t\tif (type === \"text\") {\n\t\t\t_max_lines = Math.max(lines, 20);\n\t\t} else {\n\t\t\t_max_lines = 1;\n\t\t}\n\t} else {\n\t\t_max_lines = Math.max(max_lines, lines);\n\t}\n\n\t$: value, el && lines !== _max_lines && resize({ target: el });\n\n\t$: if (value === null) value = \"\";\n\n\tconst dispatch = createEventDispatcher<{\n\t\tchange: string;\n\t\tsubmit: undefined;\n\t\tstop: undefined;\n\t\tblur: undefined;\n\t\tselect: SelectData;\n\t\tinput: undefined;\n\t\tfocus: undefined;\n\t\tcopy: CopyData;\n\t}>();\n\n\tbeforeUpdate(() => {\n\t\tif (\n\t\t\t!user_has_scrolled_up &&\n\t\t\tel &&\n\t\t\tel.offsetHeight + el.scrollTop > el.scrollHeight - 100\n\t\t) {\n\t\t\tcan_scroll = true;\n\t\t}\n\t});\n\n\tconst scroll = (): void => {\n\t\tif (can_scroll && autoscroll && !user_has_scrolled_up) {\n\t\t\tel.scrollTo(0, el.scrollHeight);\n\t\t}\n\t};\n\n\tfunction handle_change(): void {\n\t\tdispatch(\"change\", value);\n\t\tif (!value_is_output) {\n\t\t\tdispatch(\"input\");\n\t\t}\n\t}\n\tafterUpdate(() => {\n\t\tif (autofocus) {\n\t\t\tel.focus();\n\t\t}\n\t\tif (can_scroll && autoscroll) {\n\t\t\tscroll();\n\t\t}\n\t\tvalue_is_output = false;\n\t});\n\t$: value, handle_change();\n\n\tasync function handle_copy(): Promise<void> {\n\t\tif (\"clipboard\" in navigator) {\n\t\t\tawait navigator.clipboard.writeText(value);\n\t\t\tdispatch(\"copy\", { value: value });\n\t\t\tcopy_feedback();\n\t\t}\n\t}\n\n\tfunction copy_feedback(): void {\n\t\tcopied = true;\n\t\tif (timer) clearTimeout(timer);\n\t\ttimer = setTimeout(() => {\n\t\t\tcopied = false;\n\t\t}, 1000);\n\t}\n\n\tfunction handle_select(event: Event): void {\n\t\tconst target: HTMLTextAreaElement | HTMLInputElement = event.target as\n\t\t\t| HTMLTextAreaElement\n\t\t\t| HTMLInputElement;\n\t\tconst text = target.value;\n\t\tconst index: [number, number] = [\n\t\t\ttarget.selectionStart as number,\n\t\t\ttarget.selectionEnd as number\n\t\t];\n\t\tdispatch(\"select\", { value: text.substring(...index), index: index });\n\t}\n\n\tasync function handle_keypress(e: KeyboardEvent): Promise<void> {\n\t\tawait tick();\n\t\tif (e.key === \"Enter\" && e.shiftKey && lines > 1) {\n\t\t\te.preventDefault();\n\t\t\tdispatch(\"submit\");\n\t\t} else if (\n\t\t\te.key === \"Enter\" &&\n\t\t\t!e.shiftKey &&\n\t\t\tlines === 1 &&\n\t\t\t_max_lines >= 1\n\t\t) {\n\t\t\te.preventDefault();\n\t\t\tdispatch(\"submit\");\n\t\t}\n\t}\n\n\tfunction handle_scroll(event: Event): void {\n\t\tconst target = event.target as HTMLElement;\n\t\tconst current_scroll_top = target.scrollTop;\n\t\tif (current_scroll_top < previous_scroll_top) {\n\t\t\tuser_has_scrolled_up = true;\n\t\t}\n\t\tprevious_scroll_top = current_scroll_top;\n\n\t\tconst max_scroll_top = target.scrollHeight - target.clientHeight;\n\t\tconst user_has_scrolled_to_bottom = current_scroll_top >= max_scroll_top;\n\t\tif (user_has_scrolled_to_bottom) {\n\t\t\tuser_has_scrolled_up = false;\n\t\t}\n\t}\n\n\tfunction handle_stop(): void {\n\t\tdispatch(\"stop\");\n\t}\n\n\tfunction handle_submit(): void {\n\t\tdispatch(\"submit\");\n\t}\n\n\tasync function resize(\n\t\tevent: Event | { target: HTMLTextAreaElement | HTMLInputElement }\n\t): Promise<void> {\n\t\tawait tick();\n\t\tif (lines === _max_lines) return;\n\n\t\tconst target = event.target as HTMLTextAreaElement;\n\t\tconst computed_styles = window.getComputedStyle(target);\n\t\tconst padding_top = parseFloat(computed_styles.paddingTop);\n\t\tconst padding_bottom = parseFloat(computed_styles.paddingBottom);\n\t\tconst line_height = parseFloat(computed_styles.lineHeight);\n\n\t\tlet max =\n\t\t\t_max_lines === undefined\n\t\t\t\t? false\n\t\t\t\t: padding_top + padding_bottom + line_height * _max_lines;\n\t\tlet min = padding_top + padding_bottom + lines * line_height;\n\n\t\ttarget.style.height = \"1px\";\n\n\t\tlet scroll_height;\n\t\tif (max && target.scrollHeight > max) {\n\t\t\tscroll_height = max;\n\t\t} else if (target.scrollHeight < min) {\n\t\t\tscroll_height = min;\n\t\t} else {\n\t\t\tscroll_height = target.scrollHeight;\n\t\t}\n\n\t\ttarget.style.height = `${scroll_height}px`;\n\n\t\tupdate_scrollbar_visibility(target);\n\t}\n\n\tfunction update_scrollbar_visibility(textarea: HTMLTextAreaElement): void {\n\t\t// Using \"auto\" scroll does not work, as the scrollbar is visible even\n\t\t// when the content is about the same height as the textarea height. So\n\t\t// here, we add the scrollbar if the content is longer than a threshold\n\t\t// of 1 line height beyond the textarea height.\n\t\tconst content_height = textarea.scrollHeight;\n\t\tconst visible_height = textarea.clientHeight;\n\t\tconst line_height = parseFloat(\n\t\t\twindow.getComputedStyle(textarea).lineHeight\n\t\t);\n\t\tif (content_height > visible_height + line_height) {\n\t\t\ttextarea.style.overflowY = \"scroll\";\n\t\t} else {\n\t\t\ttextarea.style.overflowY = \"hidden\";\n\t\t}\n\t}\n\n\tfunction text_area_resize(\n\t\t_el: HTMLTextAreaElement,\n\t\t_value: string\n\t): any | undefined {\n\t\tif (lines === _max_lines) return;\n\t\t_el.style.overflowY = \"scroll\";\n\t\t_el.addEventListener(\"input\", resize);\n\n\t\tif (!_value.trim()) return;\n\t\tresize({ target: _el });\n\n\t\treturn {\n\t\t\tdestroy: () => _el.removeEventListener(\"input\", resize)\n\t\t};\n\t}\n</script>\n\n<!-- svelte-ignore a11y-autofocus -->\n<label class:container class:show_textbox_border>\n\t{#if show_label && show_copy_button}\n\t\t{#if copied}\n\t\t\t<button\n\t\t\t\tin:fade={{ duration: 300 }}\n\t\t\t\tclass=\"copy-button\"\n\t\t\t\taria-label=\"Copied\"\n\t\t\t\taria-roledescription=\"Text copied\"><Check /></button\n\t\t\t>\n\t\t{:else}\n\t\t\t<button\n\t\t\t\ton:click={handle_copy}\n\t\t\t\tclass=\"copy-button\"\n\t\t\t\taria-label=\"Copy\"\n\t\t\t\taria-roledescription=\"Copy text\"><Copy /></button\n\t\t\t>\n\t\t{/if}\n\t{/if}\n\t<BlockTitle {show_label} {info}>{label}</BlockTitle>\n\n\t<div class=\"input-container\">\n\t\t{#if lines === 1 && _max_lines === 1}\n\t\t\t{#if type === \"text\"}\n\t\t\t\t<input\n\t\t\t\t\tdata-testid=\"textbox\"\n\t\t\t\t\ttype=\"text\"\n\t\t\t\t\tclass=\"scroll-hide\"\n\t\t\t\t\tdir={rtl ? \"rtl\" : \"ltr\"}\n\t\t\t\t\tbind:value\n\t\t\t\t\tbind:this={el}\n\t\t\t\t\t{placeholder}\n\t\t\t\t\t{disabled}\n\t\t\t\t\t{autofocus}\n\t\t\t\t\tmaxlength={max_length}\n\t\t\t\t\ton:keypress={handle_keypress}\n\t\t\t\t\ton:blur\n\t\t\t\t\ton:select={handle_select}\n\t\t\t\t\ton:focus\n\t\t\t\t\tstyle={text_align ? \"text-align: \" + text_align : \"\"}\n\t\t\t\t\tautocapitalize={html_attributes?.autocapitalize}\n\t\t\t\t\tautocorrect={html_attributes?.autocorrect}\n\t\t\t\t\tspellcheck={html_attributes?.spellcheck}\n\t\t\t\t\tautocomplete={html_attributes?.autocomplete}\n\t\t\t\t\ttabindex={html_attributes?.tabindex}\n\t\t\t\t\tenterkeyhint={html_attributes?.enterkeyhint}\n\t\t\t\t\tlang={html_attributes?.lang}\n\t\t\t\t/>\n\t\t\t{:else if type === \"password\"}\n\t\t\t\t<input\n\t\t\t\t\tdata-testid=\"password\"\n\t\t\t\t\ttype=\"password\"\n\t\t\t\t\tclass=\"scroll-hide\"\n\t\t\t\t\tbind:value\n\t\t\t\t\tbind:this={el}\n\t\t\t\t\t{placeholder}\n\t\t\t\t\t{disabled}\n\t\t\t\t\t{autofocus}\n\t\t\t\t\tmaxlength={max_length}\n\t\t\t\t\ton:keypress={handle_keypress}\n\t\t\t\t\ton:blur\n\t\t\t\t\ton:select={handle_select}\n\t\t\t\t\ton:focus\n\t\t\t\t\tautocomplete=\"\"\n\t\t\t\t\tautocapitalize={html_attributes?.autocapitalize}\n\t\t\t\t\tautocorrect={html_attributes?.autocorrect}\n\t\t\t\t\tspellcheck={html_attributes?.spellcheck}\n\t\t\t\t\ttabindex={html_attributes?.tabindex}\n\t\t\t\t\tenterkeyhint={html_attributes?.enterkeyhint}\n\t\t\t\t\tlang={html_attributes?.lang}\n\t\t\t\t/>\n\t\t\t{:else if type === \"email\"}\n\t\t\t\t<input\n\t\t\t\t\tdata-testid=\"textbox\"\n\t\t\t\t\ttype=\"email\"\n\t\t\t\t\tclass=\"scroll-hide\"\n\t\t\t\t\tbind:value\n\t\t\t\t\tbind:this={el}\n\t\t\t\t\t{placeholder}\n\t\t\t\t\t{disabled}\n\t\t\t\t\t{autofocus}\n\t\t\t\t\tmaxlength={max_length}\n\t\t\t\t\ton:keypress={handle_keypress}\n\t\t\t\t\ton:blur\n\t\t\t\t\ton:select={handle_select}\n\t\t\t\t\ton:focus\n\t\t\t\t\tautocomplete=\"email\"\n\t\t\t\t\tautocapitalize={html_attributes?.autocapitalize}\n\t\t\t\t\tautocorrect={html_attributes?.autocorrect}\n\t\t\t\t\tspellcheck={html_attributes?.spellcheck}\n\t\t\t\t\ttabindex={html_attributes?.tabindex}\n\t\t\t\t\tenterkeyhint={html_attributes?.enterkeyhint}\n\t\t\t\t\tlang={html_attributes?.lang}\n\t\t\t\t/>\n\t\t\t{/if}\n\t\t{:else}\n\t\t\t<textarea\n\t\t\t\tdata-testid=\"textbox\"\n\t\t\t\tuse:text_area_resize={value}\n\t\t\t\tdir={rtl ? \"rtl\" : \"ltr\"}\n\t\t\t\tclass:no-label={!show_label && (submit_btn || stop_btn)}\n\t\t\t\tbind:value\n\t\t\t\tbind:this={el}\n\t\t\t\t{placeholder}\n\t\t\t\trows={lines}\n\t\t\t\t{disabled}\n\t\t\t\t{autofocus}\n\t\t\t\tmaxlength={max_length}\n\t\t\t\ton:keypress={handle_keypress}\n\t\t\t\ton:blur\n\t\t\t\ton:select={handle_select}\n\t\t\t\ton:focus\n\t\t\t\ton:scroll={handle_scroll}\n\t\t\t\tstyle={text_align ? \"text-align: \" + text_align : \"\"}\n\t\t\t\tautocapitalize={html_attributes?.autocapitalize}\n\t\t\t\tautocorrect={html_attributes?.autocorrect}\n\t\t\t\tspellcheck={html_attributes?.spellcheck}\n\t\t\t\tautocomplete={html_attributes?.autocomplete}\n\t\t\t\ttabindex={html_attributes?.tabindex}\n\t\t\t\tenterkeyhint={html_attributes?.enterkeyhint}\n\t\t\t\tlang={html_attributes?.lang}\n\t\t\t/>\n\t\t{/if}\n\t\t{#if submit_btn}\n\t\t\t<button\n\t\t\t\tclass=\"submit-button\"\n\t\t\t\tclass:padded-button={submit_btn !== true}\n\t\t\t\ton:click={handle_submit}\n\t\t\t>\n\t\t\t\t{#if submit_btn === true}\n\t\t\t\t\t<Send />\n\t\t\t\t{:else}\n\t\t\t\t\t{submit_btn}\n\t\t\t\t{/if}\n\t\t\t</button>\n\t\t{/if}\n\t\t{#if stop_btn}\n\t\t\t<button\n\t\t\t\tclass=\"stop-button\"\n\t\t\t\tclass:padded-button={stop_btn !== true}\n\t\t\t\ton:click={handle_stop}\n\t\t\t>\n\t\t\t\t{#if stop_btn === true}\n\t\t\t\t\t<Square fill=\"none\" stroke_width={2.5} />\n\t\t\t\t{:else}\n\t\t\t\t\t{stop_btn}\n\t\t\t\t{/if}\n\t\t\t</button>\n\t\t{/if}\n\t</div>\n</label>\n\n<style>\n\tlabel {\n\t\tdisplay: block;\n\t\twidth: 100%;\n\t}\n\n\tinput,\n\ttextarea {\n\t\tflex-grow: 1;\n\t\toutline: none !important;\n\t\tmargin-top: 0px;\n\t\tmargin-bottom: 0px;\n\t\tresize: none;\n\t\tz-index: 1;\n\t\tdisplay: block;\n\t\tposition: relative;\n\t\toutline: none !important;\n\t\tbackground: var(--input-background-fill);\n\t\tpadding: var(--input-padding);\n\t\twidth: 100%;\n\t\tcolor: var(--body-text-color);\n\t\tfont-weight: var(--input-text-weight);\n\t\tfont-size: var(--input-text-size);\n\t\tline-height: var(--line-sm);\n\t\tborder: none;\n\t}\n\ttextarea.no-label {\n\t\tpadding-top: 5px;\n\t\tpadding-bottom: 5px;\n\t}\n\tlabel.show_textbox_border input,\n\tlabel.show_textbox_border textarea {\n\t\tbox-shadow: var(--input-shadow);\n\t}\n\tlabel:not(.container),\n\tlabel:not(.container) input,\n\tlabel:not(.container) textarea {\n\t\theight: 100%;\n\t}\n\tlabel.container.show_textbox_border input,\n\tlabel.container.show_textbox_border textarea {\n\t\tborder: var(--input-border-width) solid var(--input-border-color);\n\t\tborder-radius: var(--input-radius);\n\t}\n\tinput:disabled,\n\ttextarea:disabled {\n\t\t-webkit-opacity: 1;\n\t\topacity: 1;\n\t}\n\n\tlabel.container.show_textbox_border input:focus,\n\tlabel.container.show_textbox_border textarea:focus {\n\t\tbox-shadow: var(--input-shadow-focus);\n\t\tborder-color: var(--input-border-color-focus);\n\t\tbackground: var(--input-background-fill-focus);\n\t}\n\n\tinput::placeholder,\n\ttextarea::placeholder {\n\t\tcolor: var(--input-placeholder-color);\n\t}\n\n\t.copy-button {\n\t\tdisplay: flex;\n\t\tposition: absolute;\n\t\ttop: var(--block-label-margin);\n\t\tright: var(--block-label-margin);\n\t\talign-items: center;\n\t\tbox-shadow: var(--shadow-drop);\n\t\tborder: 1px solid var(--border-color-primary);\n\t\tborder-top: none;\n\t\tborder-right: none;\n\t\tborder-radius: var(--block-label-right-radius);\n\t\tbackground: var(--block-label-background-fill);\n\t\tpadding: 5px;\n\t\twidth: 22px;\n\t\theight: 22px;\n\t\toverflow: hidden;\n\t\tcolor: var(--block-label-color);\n\t\tfont: var(--font-sans);\n\t\tfont-size: var(--button-small-text-size);\n\t}\n\n\t/* Same submit button style as MultimodalTextbox for the consistent UI */\n\t.input-container {\n\t\tdisplay: flex;\n\t\tposition: relative;\n\t\talign-items: flex-end;\n\t}\n\t.submit-button,\n\t.stop-button {\n\t\tborder: none;\n\t\ttext-align: center;\n\t\ttext-decoration: none;\n\t\tfont-size: 14px;\n\t\tcursor: pointer;\n\t\tborder-radius: 15px;\n\t\tmin-width: 30px;\n\t\theight: 30px;\n\t\tflex-shrink: 0;\n\t\tdisplay: flex;\n\t\tjustify-content: center;\n\t\talign-items: center;\n\t\tz-index: var(--layer-1);\n\t}\n\t.stop-button,\n\t.submit-button {\n\t\tbackground: var(--button-secondary-background-fill);\n\t\tcolor: var(--button-secondary-text-color);\n\t}\n\t.stop-button:hover,\n\t.submit-button:hover {\n\t\tbackground: var(--button-secondary-background-fill-hover);\n\t}\n\t.stop-button:disabled,\n\t.submit-button:disabled {\n\t\tbackground: var(--button-secondary-background-fill);\n\t\tcursor: pointer;\n\t}\n\t.stop-button:active,\n\t.submit-button:active {\n\t\tbox-shadow: var(--button-shadow-active);\n\t}\n\t.submit-button :global(svg) {\n\t\theight: 22px;\n\t\twidth: 22px;\n\t}\n\n\t.stop-button :global(svg) {\n\t\theight: 16px;\n\t\twidth: 16px;\n\t}\n\t.padded-button {\n\t\tpadding: 0 10px;\n\t}\n</style>\n","import { setContext, getContext } from \"svelte\";\nimport type { WorkerProxy } from \"../src/worker-proxy\";\n\nconst WORKER_PROXY_CONTEXT_KEY = \"WORKER_PROXY_CONTEXT_KEY\";\n\nexport function setWorkerProxyContext(workerProxy: WorkerProxy): void {\n\tsetContext(WORKER_PROXY_CONTEXT_KEY, workerProxy);\n}\n\nexport function getWorkerProxyContext(): WorkerProxy | undefined {\n\treturn getContext(WORKER_PROXY_CONTEXT_KEY);\n}\n","// A special hostname representing the Lite's server.\n// For example, when the endpoint is a local file (`file:/*`), the host name is set to this value (ref: determine_protocol() in client/js/src/helpers/init_helpers.ts)\nexport const FAKE_LITE_HOST = \"lite.local\";\n\nexport function is_self_host(url: URL): boolean {\n\treturn (\n\t\turl.host === window.location.host ||\n\t\turl.host === \"localhost:7860\" ||\n\t\turl.host === \"127.0.0.1:7860\" || // Ref: https://github.com/gradio-app/gradio/blob/v3.32.0/js/app/src/Index.svelte#L194\n\t\turl.host === FAKE_LITE_HOST\n\t);\n}\n","export interface HttpRequest {\n\tmethod: \"GET\" | \"POST\" | \"PUT\" | \"DELETE\";\n\tpath: string;\n\tquery_string: string; // This field must not contain the leading `?`, as it's directly used in the ASGI spec which requires this.\n\theaders: Record<string, string>;\n\tbody?: Uint8Array | ReadableStream<Uint8Array> | null;\n}\nexport interface HttpResponse {\n\tstatus: number;\n\theaders: Record<string, string>;\n\tbody: Uint8Array;\n}\n\n// Inspired by https://github.com/rstudio/shinylive/blob/v0.1.2/src/messageporthttp.ts\nexport function headersToASGI(\n\theaders: HttpRequest[\"headers\"]\n): [string, string][] {\n\tconst result: [string, string][] = [];\n\tfor (const [key, value] of Object.entries(headers)) {\n\t\tresult.push([key, value]);\n\t}\n\treturn result;\n}\n\nexport function uint8ArrayToString(buf: Uint8Array): string {\n\tlet result = \"\";\n\tfor (let i = 0; i < buf.length; i++) {\n\t\tresult += String.fromCharCode(buf[i]);\n\t}\n\treturn result;\n}\n\nexport function asgiHeadersToRecord(headers: any): Record<string, string> {\n\theaders = headers.map(([key, val]: [Uint8Array, Uint8Array]) => {\n\t\treturn [uint8ArrayToString(key), uint8ArrayToString(val)];\n\t});\n\treturn Object.fromEntries(headers);\n}\n\nexport function getHeaderValue(\n\theaders: HttpRequest[\"headers\"],\n\tkey: string\n): string | undefined {\n\t// The keys in `headers` are case-insensitive.\n\tconst unifiedKey = key.toLowerCase();\n\tfor (const [k, v] of Object.entries(headers)) {\n\t\tif (k.toLowerCase() === unifiedKey) {\n\t\t\treturn v;\n\t\t}\n\t}\n}\n\nexport function logHttpReqRes(\n\trequest: HttpRequest,\n\tresponse: HttpResponse\n): void {\n\tif (Math.floor(response.status / 100) !== 2) {\n\t\tlet bodyText: string;\n\t\tlet bodyJson: unknown;\n\t\ttry {\n\t\t\tbodyText = new TextDecoder().decode(response.body);\n\t\t} catch (e) {\n\t\t\tbodyText = \"(failed to decode body)\";\n\t\t}\n\t\ttry {\n\t\t\tbodyJson = JSON.parse(bodyText);\n\t\t} catch (e) {\n\t\t\tbodyJson = \"(failed to parse body as JSON)\";\n\t\t}\n\t\tconsole.error(\"Wasm HTTP error\", {\n\t\t\trequest,\n\t\t\tresponse,\n\t\t\tbodyText,\n\t\t\tbodyJson\n\t\t});\n\t}\n}\n","import { getWorkerProxyContext } from \"./context\";\nimport { is_self_host } from \"../network/host\";\nimport { getHeaderValue } from \"../src/http\";\nimport type { WorkerProxy } from \"../src/worker-proxy\";\n\ntype MediaSrc = string | undefined | null;\n\nexport function should_proxy_wasm_src(src: MediaSrc): boolean {\n\tconst is_browser = typeof window !== \"undefined\";\n\n\tif (src == null || !is_browser) {\n\t\treturn false;\n\t}\n\n\tconst url = new URL(src, window.location.href);\n\tif (!is_self_host(url)) {\n\t\t// `src` is not accessing a local server resource, so we don't need to proxy this request to the Wasm worker.\n\t\treturn false;\n\t}\n\tif (url.protocol !== \"http:\" && url.protocol !== \"https:\") {\n\t\t// `src` can be a data URL.\n\t\treturn false;\n\t}\n\n\treturn true;\n}\n\nlet maybeWorkerProxy: WorkerProxy | undefined;\n\nexport async function resolve_wasm_src(src: MediaSrc): Promise<MediaSrc> {\n\tconst is_browser = typeof window !== \"undefined\";\n\tif (src == null || !is_browser || !should_proxy_wasm_src(src)) {\n\t\treturn src;\n\t}\n\n\tif (maybeWorkerProxy == null) {\n\t\ttry {\n\t\t\tmaybeWorkerProxy = getWorkerProxyContext();\n\t\t} catch (e) {\n\t\t\t// We are not in the Wasm env. Just use the src as is.\n\t\t\treturn src;\n\t\t}\n\t}\n\n\tif (maybeWorkerProxy == null) {\n\t\t// We are not in the Wasm env. Just use the src as is.\n\t\treturn src;\n\t}\n\n\tconst url = new URL(src, window.location.href);\n\tconst path = url.pathname;\n\treturn maybeWorkerProxy\n\t\t.httpRequest({\n\t\t\tmethod: \"GET\",\n\t\t\tpath,\n\t\t\theaders: {},\n\t\t\tquery_string: \"\"\n\t\t})\n\t\t.then((response) => {\n\t\t\tif (response.status !== 200) {\n\t\t\t\tthrow new Error(`Failed to get file ${path} from the Wasm worker.`);\n\t\t\t}\n\t\t\tconst blob = new Blob([response.body], {\n\t\t\t\ttype: getHeaderValue(response.headers, \"content-type\")\n\t\t\t});\n\t\t\tconst blobUrl = URL.createObjectURL(blob);\n\t\t\treturn blobUrl;\n\t\t});\n}\n","<script lang=\"ts\">\n\timport type { HTMLImgAttributes } from \"svelte/elements\";\n\n\tinterface Props extends HTMLImgAttributes {\n\t\t\"data-testid\"?: string;\n\t}\n\ttype $$Props = Props;\n\n\timport { resolve_wasm_src } from \"@gradio/wasm/svelte\";\n\n\texport let src: HTMLImgAttributes[\"src\"] = undefined;\n\n\tlet resolved_src: typeof src;\n\n\t// The `src` prop can be updated before the Promise from `resolve_wasm_src` is resolved.\n\t// In such a case, the resolved value for the old `src` has to be discarded,\n\t// This variable `latest_src` is used to pick up only the value resolved for the latest `src` prop.\n\tlet latest_src: typeof src;\n\t$: {\n\t\t// In normal (non-Wasm) Gradio, the `<img>` element should be rendered with the passed `src` props immediately\n\t\t// without waiting for `resolve_wasm_src()` to resolve.\n\t\t// If it waits, a blank image is displayed until the async task finishes\n\t\t// and it leads to undesirable flickering.\n\t\t// So set `src` to `resolved_src` here.\n\t\tresolved_src = src;\n\n\t\tlatest_src = src;\n\t\tconst resolving_src = src;\n\t\tresolve_wasm_src(resolving_src).then((s) => {\n\t\t\tif (latest_src === resolving_src) {\n\t\t\t\tresolved_src = s;\n\t\t\t}\n\t\t});\n\t}\n</script>\n\n<!-- svelte-ignore a11y-missing-attribute -->\n<img src={resolved_src} {...$$restProps} on:load />\n\n<style>\n\timg {\n\t\tobject-fit: cover;\n\t}\n</style>\n","<script lang=\"ts\">\n\timport { type FileData } from \"@gradio/client\";\n\timport { Image } from \"@gradio/image/shared\";\n\n\texport let elem_id = \"\";\n\texport let elem_classes: string[] = [];\n\texport let visible = true;\n\texport let variant: \"primary\" | \"secondary\" | \"stop\" | \"huggingface\" =\n\t\t\"secondary\";\n\texport let size: \"sm\" | \"md\" | \"lg\" = \"lg\";\n\texport let value: string | null = null;\n\texport let link: string | null = null;\n\texport let icon: FileData | null = null;\n\texport let disabled = false;\n\texport let scale: number | null = null;\n\texport let min_width: number | undefined = undefined;\n</script>\n\n{#if link && link.length > 0}\n\t<a\n\t\thref={link}\n\t\trel=\"noopener noreferrer\"\n\t\tclass:hidden={!visible}\n\t\tclass:disabled\n\t\taria-disabled={disabled}\n\t\tclass=\"{size} {variant} {elem_classes.join(' ')}\"\n\t\tstyle:flex-grow={scale}\n\t\tstyle:pointer-events={disabled ? \"none\" : null}\n\t\tstyle:width={scale === 0 ? \"fit-content\" : null}\n\t\tstyle:min-width={typeof min_width === \"number\"\n\t\t\t? `calc(min(${min_width}px, 100%))`\n\t\t\t: null}\n\t\tid={elem_id}\n\t>\n\t\t{#if icon}\n\t\t\t<Image class=\"button-icon\" src={icon.url} alt={`${value} icon`} />\n\t\t{/if}\n\t\t<slot />\n\t</a>\n{:else}\n\t<button\n\t\ton:click\n\t\tclass:hidden={!visible}\n\t\tclass=\"{size} {variant} {elem_classes.join(' ')}\"\n\t\tstyle:flex-grow={scale}\n\t\tstyle:width={scale === 0 ? \"fit-content\" : null}\n\t\tstyle:min-width={typeof min_width === \"number\"\n\t\t\t? `calc(min(${min_width}px, 100%))`\n\t\t\t: null}\n\t\tid={elem_id}\n\t\t{disabled}\n\t>\n\t\t{#if icon}\n\t\t\t<Image\n\t\t\t\tclass={`button-icon ${value ? \"right-padded\" : \"\"}`}\n\t\t\t\tsrc={icon.url}\n\t\t\t\talt={`${value} icon`}\n\t\t\t/>\n\t\t{/if}\n\t\t<slot />\n\t</button>\n{/if}\n\n<style>\n\tbutton,\n\ta {\n\t\tdisplay: inline-flex;\n\t\tjustify-content: center;\n\t\talign-items: center;\n\t\ttransition: var(--button-transition);\n\t\tpadding: var(--size-0-5) var(--size-2);\n\t\ttext-align: center;\n\t}\n\n\tbutton:hover {\n\t\ttransform: var(--button-transform-hover);\n\t}\n\n\tbutton:active,\n\ta:active {\n\t\ttransform: var(--button-transform-active);\n\t}\n\n\tbutton[disabled],\n\ta.disabled {\n\t\topacity: 0.5;\n\t\tfilter: grayscale(30%);\n\t\tcursor: not-allowed;\n\t\ttransform: none;\n\t}\n\n\t.hidden {\n\t\tdisplay: none;\n\t}\n\n\t.primary {\n\t\tborder: var(--button-border-width) solid var(--button-primary-border-color);\n\t\tbackground: var(--button-primary-background-fill);\n\t\tcolor: var(--button-primary-text-color);\n\t\tbox-shadow: var(--button-primary-shadow);\n\t}\n\t.primary:hover,\n\t.primary[disabled] {\n\t\tbackground: var(--button-primary-background-fill-hover);\n\t\tcolor: var(--button-primary-text-color-hover);\n\t}\n\n\t.primary:hover {\n\t\tborder-color: var(--button-primary-border-color-hover);\n\t\tbox-shadow: var(--button-primary-shadow-hover);\n\t}\n\t.primary:active {\n\t\tbox-shadow: var(--button-primary-shadow-active);\n\t}\n\n\t.primary[disabled] {\n\t\tborder-color: var(--button-primary-border-color);\n\t}\n\n\t.secondary {\n\t\tborder: var(--button-border-width) solid\n\t\t\tvar(--button-secondary-border-color);\n\t\tbackground: var(--button-secondary-background-fill);\n\t\tcolor: var(--button-secondary-text-color);\n\t\tbox-shadow: var(--button-secondary-shadow);\n\t}\n\n\t.secondary:hover,\n\t.secondary[disabled] {\n\t\tbackground: var(--button-secondary-background-fill-hover);\n\t\tcolor: var(--button-secondary-text-color-hover);\n\t}\n\n\t.secondary:hover {\n\t\tborder-color: var(--button-secondary-border-color-hover);\n\t\tbox-shadow: var(--button-secondary-shadow-hover);\n\t}\n\t.secondary:active {\n\t\tbox-shadow: var(--button-secondary-shadow-active);\n\t}\n\n\t.secondary[disabled] {\n\t\tborder-color: var(--button-secondary-border-color);\n\t}\n\n\t.stop {\n\t\tbackground: var(--button-cancel-background-fill);\n\t\tcolor: var(--button-cancel-text-color);\n\t\tborder: var(--button-border-width) solid var(--button-cancel-border-color);\n\t\tbox-shadow: var(--button-secondary-shadow);\n\t}\n\n\t.stop:hover,\n\t.stop[disabled] {\n\t\tbackground: var(--button-cancel-background-fill-hover);\n\t}\n\n\t.stop:hover {\n\t\tborder-color: var(--button-cancel-border-color-hover);\n\t\tbox-shadow: var(--button-secondary-shadow-hover);\n\t}\n\t.stop:active {\n\t\tbox-shadow: var(--button-secondary-shadow-active);\n\t}\n\n\t.stop[disabled] {\n\t\tborder-color: var(--button-cancel-border-color);\n\t}\n\n\t.sm {\n\t\tborder-radius: var(--button-small-radius);\n\t\tpadding: var(--button-small-padding);\n\t\tfont-weight: var(--button-small-text-weight);\n\t\tfont-size: var(--button-small-text-size);\n\t}\n\n\t.md {\n\t\tborder-radius: var(--button-medium-radius);\n\t\tpadding: var(--button-medium-padding);\n\t\tfont-weight: var(--button-medium-text-weight);\n\t\tfont-size: var(--button-medium-text-size);\n\t}\n\n\t.lg {\n\t\tborder-radius: var(--button-large-radius);\n\t\tpadding: var(--button-large-padding);\n\t\tfont-weight: var(--button-large-text-weight);\n\t\tfont-size: var(--button-large-text-size);\n\t}\n\n\t:global(.button-icon) {\n\t\twidth: var(--text-xl);\n\t\theight: var(--text-xl);\n\t}\n\t:global(.button-icon.right-padded) {\n\t\tmargin-right: var(--spacing-md);\n\t}\n\n\t.huggingface {\n\t\tbackground: rgb(20, 28, 46);\n\t\tcolor: white;\n\t}\n\n\t.huggingface:hover {\n\t\tbackground: rgb(40, 48, 66);\n\t\tcolor: white;\n\t}\n</style>\n","<script lang=\"ts\">\n\timport { StatusTracker } from \"@gradio/statustracker\";\n\timport type { LoadingStatus } from \"@gradio/statustracker\";\n\timport type { Gradio } from \"@gradio/utils\";\n\n\texport let scale: number | null = null;\n\texport let min_width = 0;\n\texport let elem_id = \"\";\n\texport let elem_classes: string[] = [];\n\texport let visible = true;\n\texport let variant: \"default\" | \"panel\" | \"compact\" = \"default\";\n\texport let loading_status: LoadingStatus | undefined = undefined;\n\texport let gradio: Gradio | undefined = undefined;\n\texport let show_progress = false;\n</script>\n\n<div\n\tid={elem_id}\n\tclass=\"column {elem_classes.join(' ')}\"\n\tclass:compact={variant === \"compact\"}\n\tclass:panel={variant === \"panel\"}\n\tclass:hide={!visible}\n\tstyle:flex-grow={scale}\n\tstyle:min-width=\"calc(min({min_width}px, 100%))\"\n>\n\t{#if loading_status && show_progress && gradio}\n\t\t<StatusTracker\n\t\t\tautoscroll={gradio.autoscroll}\n\t\t\ti18n={gradio.i18n}\n\t\t\t{...loading_status}\n\t\t\tstatus={loading_status\n\t\t\t\t? loading_status.status == \"pending\"\n\t\t\t\t\t? \"generating\"\n\t\t\t\t\t: loading_status.status\n\t\t\t\t: null}\n\t\t/>\n\t{/if}\n\t<slot />\n</div>\n\n<style>\n\tdiv {\n\t\tdisplay: flex;\n\t\tposition: relative;\n\t\tflex-direction: column;\n\t\tgap: var(--layout-gap);\n\t}\n\n\tdiv > :global(*),\n\tdiv > :global(.form > *) {\n\t\twidth: var(--size-full);\n\t}\n\n\t.hide {\n\t\tdisplay: none;\n\t}\n\n\t.compact > :global(*),\n\t.compact :global(.box) {\n\t\tborder-radius: 0;\n\t}\n\n\t.compact,\n\t.panel {\n\t\tborder: solid var(--panel-border-width) var(--panel-border-color);\n\t\tborder-radius: var(--container-radius);\n\t\tbackground: var(--panel-background-fill);\n\t\tpadding: var(--spacing-lg);\n\t}\n</style>\n","<script lang=\"ts\">\n\timport Form from \"@gradio/form\";\n\timport { BaseTextbox as Textbox } from \"@gradio/textbox\";\n\timport { BaseButton } from \"@gradio/button\";\n\timport Column from \"@gradio/column\";\n\timport { Block } from \"@gradio/atoms\";\n\timport { _ } from \"svelte-i18n\";\n\texport let root: string;\n\texport let auth_message: string | null;\n\texport let app_mode: boolean;\n\texport let space_id: string | null;\n\n\tlet username = \"\";\n\tlet password = \"\";\n\tlet incorrect_credentials = false;\n\n\tconst submit = async (): Promise<void> => {\n\t\tconst formData = new FormData();\n\t\tformData.append(\"username\", username);\n\t\tformData.append(\"password\", password);\n\n\t\tlet response = await fetch(root + \"/login\", {\n\t\t\tmethod: \"POST\",\n\t\t\tbody: formData\n\t\t});\n\t\tif (response.status === 400) {\n\t\t\tincorrect_credentials = true;\n\t\t\tusername = \"\";\n\t\t\tpassword = \"\";\n\t\t} else if (response.status == 200) {\n\t\t\tlocation.reload();\n\t\t}\n\t};\n</script>\n\n<div class=\"wrap\" class:min-h-screen={app_mode}>\n\t<Column variant=\"panel\" min_width={480}>\n\t\t<h2>{$_(\"login.login\")}</h2>\n\t\t{#if auth_message}\n\t\t\t<p class=\"auth\">{@html auth_message}</p>\n\t\t{/if}\n\t\t{#if space_id}\n\t\t\t<p class=\"auth\">\n\t\t\t\t{$_(\"login.enable_cookies\")}\n\t\t\t</p>\n\t\t{/if}\n\t\t{#if incorrect_credentials}\n\t\t\t<p class=\"creds\">{$_(\"login.incorrect_credentials\")}</p>\n\t\t{/if}\n\t\t<Form>\n\t\t\t<Block>\n\t\t\t\t<Textbox\n\t\t\t\t\tlabel={$_(\"login.username\")}\n\t\t\t\t\tlines={1}\n\t\t\t\t\tshow_label={true}\n\t\t\t\t\tmax_lines={1}\n\t\t\t\t\ton:submit={submit}\n\t\t\t\t\tbind:value={username}\n\t\t\t\t/>\n\t\t\t</Block>\n\n\t\t\t<Block>\n\t\t\t\t<Textbox\n\t\t\t\t\tlabel={$_(\"login.password\")}\n\t\t\t\t\tlines={1}\n\t\t\t\t\tshow_label={true}\n\t\t\t\t\tmax_lines={1}\n\t\t\t\t\ttype=\"password\"\n\t\t\t\t\ton:submit={submit}\n\t\t\t\t\tbind:value={password}\n\t\t\t\t/>\n\t\t\t</Block>\n\t\t</Form>\n\n\t\t<BaseButton size=\"lg\" variant=\"primary\" on:click={submit}\n\t\t\t>{$_(\"login.login\")}</BaseButton\n\t\t>\n\t</Column>\n</div>\n\n<style>\n\t.wrap {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tjustify-content: center;\n\t\talign-items: center;\n\t\tmargin-top: var(--size-3);\n\t\tbackground: var(--background-fill-primary);\n\t\twidth: var(--size-full);\n\t}\n\n\th2 {\n\t\tmargin-bottom: var(--size-3);\n\t\tcolor: var(--body-text-color);\n\t\tfont-weight: var(--section-header-text-weight);\n\t\tfont-size: var(--text-xl);\n\t}\n\n\t.auth {\n\t\tmargin-top: var(--size-1);\n\t\tmargin-bottom: var(--size-1);\n\t\tcolor: var(--body-text-color);\n\t}\n\n\t.creds {\n\t\tmargin-top: var(--size-4);\n\t\tmargin-bottom: var(--size-4);\n\t\tcolor: var(--error-text-color);\n\t\tfont-weight: var(--weight-semibold);\n\t}\n</style>\n","// import { type LayoutServerLoad } from \"./$types\";\nimport { browser } from \"$app/environment\";\nimport { setupi18n } from \"@gradio/core\";\n\nimport { Client } from \"@gradio/client\";\nimport {\n\tcreate_components,\n\ttype ComponentMeta,\n\ttype Dependency\n} from \"@gradio/core\";\nimport { get } from \"svelte/store\";\nimport type { Config } from \"@gradio/client\";\nimport { MISSING_CREDENTIALS_MSG } from \"@gradio/client\";\n\nimport Blocks from \"@gradio/core/blocks\";\nimport Login from \"@gradio/core/login\";\n\nexport async function load({\n\turl,\n\tdata: { server, port, local_dev_mode }\n}): Promise<{\n\tRender: typeof Login | typeof Blocks;\n\tconfig: Config;\n\tapi_url: string;\n\tlayout: unknown;\n\tapp: Client | null;\n}> {\n\tlet app: Client;\n\tconst api_url =\n\t\tbrowser && !local_dev_mode ? new URL(\".\", location.href).href : server;\n\tconst deepLink = url.searchParams.get(\"deep_link\");\n\ttry {\n\t\tapp = await Client.connect(api_url, {\n\t\t\twith_null_state: true,\n\t\t\tevents: [\"data\", \"log\", \"status\", \"render\"],\n\t\t\tquery_params: deepLink ? { deep_link: deepLink } : undefined\n\t\t});\n\t} catch (error: any) {\n\t\tconst error_message = error.message || \"\";\n\t\tlet auth_message = \"\";\n\t\tif (!error_message.includes(MISSING_CREDENTIALS_MSG)) {\n\t\t\tauth_message = error_message.replace(/^Error:?\\s*/, \"\");\n\t\t}\n\t\treturn {\n\t\t\tRender: Login,\n\t\t\tconfig: {\n\t\t\t\tauth_message: auth_message,\n\t\t\t\tauth_required: true,\n\t\t\t\tcomponents: [],\n\t\t\t\tcurrent_page: \"\",\n\t\t\t\tdependencies: [],\n\t\t\t\tlayout: {},\n\t\t\t\tpages: [],\n\t\t\t\tpage: {},\n\t\t\t\troot: url.origin,\n\t\t\t\tspace_id: null,\n\t\t\t\tanalytics_enabled: false,\n\t\t\t\tconnect_heartbeat: false,\n\t\t\t\tcss: \"\",\n\t\t\t\tjs: \"\",\n\t\t\t\ttheme_hash: 0,\n\t\t\t\thead: \"\",\n\t\t\t\tdev_mode: false,\n\t\t\t\tenable_queue: false,\n\t\t\t\tshow_error: false,\n\t\t\t\tfill_height: false,\n\t\t\t\tfill_width: false,\n\t\t\t\tmode: \"blocks\",\n\t\t\t\ttheme: \"default\",\n\t\t\t\ttitle: \"\",\n\t\t\t\tversion: \"\",\n\t\t\t\tapi_prefix: \"\",\n\n\t\t\t\tis_space: false,\n\t\t\t\tis_colab: false,\n\t\t\t\tshow_api: false,\n\t\t\t\tstylesheets: [],\n\t\t\t\tprotocol: \"sse_v3\",\n\t\t\t\tusername: \"\"\n\t\t\t},\n\t\t\tapi_url,\n\t\t\tlayout: {},\n\t\t\tapp: null\n\t\t};\n\t}\n\n\tif (!app.config) {\n\t\tthrow new Error(\"No config found\");\n\t}\n\n\tlet page_config = app.get_url_config(url.toString());\n\n\tconst { create_layout, layout } = create_components();\n\n\tawait create_layout({\n\t\tapp,\n\t\tcomponents: page_config.components,\n\t\tdependencies: page_config.dependencies,\n\t\tlayout: page_config.layout,\n\t\troot: app.config.root + app.config.api_prefix,\n\t\toptions: {\n\t\t\tfill_height: app.config.fill_height ?? false\n\t\t}\n\t});\n\n\tconst layouts = get(layout);\n\n\tawait setupi18n();\n\n\treturn {\n\t\tRender: app.config?.auth_required ? Login : Blocks,\n\t\tconfig: page_config,\n\t\tapi_url,\n\t\tlayout: layouts,\n\t\tapp\n\t};\n}\n","// src/inject_fonts.ts\nvar inject_fonts = () => {\n  const source_sans_pro = document.createElement(\"link\");\n  source_sans_pro.href = \"https://fonts.googleapis.com/css2?family=Source+Sans+Pro:ital,wght@0,200;0,300;0,400;0,600;0,700;0,900;1,200;1,300;1,400;1,600;1,700;1,900&display=swap\";\n  source_sans_pro.rel = \"stylesheet\";\n  const ibm_mono = document.createElement(\"link\");\n  ibm_mono.href = \"https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:wght@400;600;700&display=swap\";\n  ibm_mono.rel = \"stylesheet\";\n  document.head.appendChild(source_sans_pro);\n  document.head.appendChild(ibm_mono);\n};\n\n// src/header/components/box.ts\nvar Box = () => {\n  const box = document.createElement(\"div\");\n  box.style.backgroundImage = \"linear-gradient(to top, #f9fafb, white)\";\n  box.style.border = \"1px solid #e5e7eb\";\n  box.style.borderRadius = \"0.75rem\";\n  box.style.boxShadow = \"0 0 10px rgba(0, 0, 0, 0.1)\";\n  box.style.color = \"#374151\";\n  box.style.display = \"flex\";\n  box.style.flexDirection = \"row\";\n  box.style.alignItems = \"center\";\n  box.style.height = \"40px\";\n  box.style.justifyContent = \"space-between\";\n  box.style.overflow = \"hidden\";\n  box.style.position = \"fixed\";\n  box.style.right = \".75rem\";\n  box.style.top = \".75rem\";\n  box.style.width = \"auto\";\n  box.style.zIndex = \"20\";\n  box.style.paddingLeft = \"1rem\";\n  box.setAttribute(\"id\", \"huggingface-space-header\");\n  window.matchMedia(\"(max-width: 768px)\").addEventListener(\"change\", (e) => {\n    if (e.matches) {\n      box.style.display = \"none\";\n    } else {\n      box.style.display = \"flex\";\n    }\n  });\n  return box;\n};\n\n// src/header/components/collapse/arrow.ts\nvar ArrowCollapse = () => {\n  const arrow = document.createElementNS(\"http://www.w3.org/2000/svg\", \"svg\");\n  arrow.setAttribute(\"xmlns\", \"http://www.w3.org/2000/svg\");\n  arrow.setAttribute(\"xmlns:link\", \"http://www.w3.org/1999/xlink\");\n  arrow.setAttribute(\"aria-hidden\", \"true\");\n  arrow.setAttribute(\"focusable\", \"false\");\n  arrow.setAttribute(\"role\", \"img\");\n  arrow.setAttribute(\"width\", \"1em\");\n  arrow.setAttribute(\"height\", \"1em\");\n  arrow.setAttribute(\"preserveAspectRatio\", \"xMidYMid meet\");\n  arrow.setAttribute(\"viewBox\", \"0 0 12 12\");\n  arrow.setAttribute(\"fill\", \"currentColor\");\n  const path = document.createElementNS(\"http://www.w3.org/2000/svg\", \"path\");\n  path.setAttribute(\n    \"d\",\n    \"M0.375001 10.3828L0.375 1.61719C0.375 1.104 0.816001 0.687501 1.35938 0.687501L10.6406 0.6875C10.9017 0.6875 11.1521 0.785449 11.3367 0.959797C11.5213 1.13415 11.625 1.37062 11.625 1.61719V10.3828C11.625 10.6294 11.5213 10.8659 11.3367 11.0402C11.1521 11.2145 10.9017 11.3125 10.6406 11.3125H1.35938C0.816001 11.3125 0.375001 10.896 0.375001 10.3828ZM1.35938 10.5156H10.6406C10.7183 10.5156 10.7813 10.4561 10.7813 10.3828V4.40625H1.21875V10.3828C1.21875 10.418 1.23356 10.4518 1.25994 10.4767C1.28631 10.5017 1.32208 10.5156 1.35938 10.5156ZM4.61052 6.38251L5.9999 7.69472L7.38927 6.38251C7.44083 6.33007 7.50645 6.29173 7.57913 6.27153C7.6518 6.25134 7.72898 6.25003 7.8024 6.26776C7.87583 6.28549 7.9428 6.3216 7.99628 6.37227C8.04983 6.42295 8.08785 6.48631 8.10645 6.5557C8.12528 6.62497 8.12393 6.69773 8.10263 6.76635C8.0814 6.83497 8.0409 6.8969 7.98555 6.94564L6.29802 8.53936C6.21892 8.61399 6.11169 8.65592 5.9999 8.65592C5.8881 8.65592 5.78087 8.61399 5.70177 8.53936L4.01427 6.94564C3.95874 6.89694 3.91814 6.835 3.89676 6.76633C3.87538 6.69766 3.874 6.62483 3.89277 6.55549C3.91154 6.48615 3.94977 6.42287 4.00343 6.37233C4.05708 6.32179 4.12418 6.28585 4.19765 6.2683C4.27098 6.25054 4.34803 6.25178 4.42068 6.27188C4.49334 6.29198 4.55891 6.3302 4.61052 6.38251Z\"\n  );\n  arrow.appendChild(path);\n  return arrow;\n};\n\n// src/header/components/collapse/index.ts\nvar Collapse = (space, callback) => {\n  const box = document.createElement(\"div\");\n  box.setAttribute(\"id\", \"space-header__collapse\");\n  box.style.display = \"flex\";\n  box.style.flexDirection = \"row\";\n  box.style.alignItems = \"center\";\n  box.style.justifyContent = \"center\";\n  box.style.fontSize = \"16px\";\n  box.style.paddingLeft = \"10px\";\n  box.style.paddingRight = \"10px\";\n  box.style.height = \"40px\";\n  box.style.cursor = \"pointer\";\n  box.style.color = \"#40546e\";\n  box.style.transitionDuration = \"0.1s\";\n  box.style.transitionProperty = \"all\";\n  box.style.transitionTimingFunction = \"ease-in-out\";\n  box.appendChild(ArrowCollapse());\n  box.addEventListener(\"click\", (e) => {\n    e.preventDefault();\n    e.stopPropagation();\n    callback();\n  });\n  box.addEventListener(\"mouseenter\", () => {\n    box.style.color = \"#213551\";\n  });\n  box.addEventListener(\"mouseleave\", () => {\n    box.style.color = \"#40546e\";\n  });\n  return box;\n};\n\n// src/header/components/like/count.ts\nvar Count = (count) => {\n  const text = document.createElement(\"p\");\n  text.style.margin = \"0\";\n  text.style.padding = \"0\";\n  text.style.color = \"#9ca3af\";\n  text.style.fontSize = \"14px\";\n  text.style.fontFamily = \"Source Sans Pro, sans-serif\";\n  text.style.padding = \"0px 6px\";\n  text.style.borderLeft = \"1px solid #e5e7eb\";\n  text.style.marginLeft = \"4px\";\n  text.textContent = (count != null ? count : 0).toString();\n  return text;\n};\n\n// src/header/components/like/heart.ts\nvar Heart = () => {\n  const heart = document.createElementNS(\"http://www.w3.org/2000/svg\", \"svg\");\n  heart.setAttribute(\"xmlns\", \"http://www.w3.org/2000/svg\");\n  heart.setAttribute(\"xmlns:link\", \"http://www.w3.org/1999/xlink\");\n  heart.setAttribute(\"aria-hidden\", \"true\");\n  heart.setAttribute(\"focusable\", \"false\");\n  heart.setAttribute(\"role\", \"img\");\n  heart.setAttribute(\"width\", \"1em\");\n  heart.setAttribute(\"height\", \"1em\");\n  heart.setAttribute(\"preserveAspectRatio\", \"xMidYMid meet\");\n  heart.setAttribute(\"viewBox\", \"0 0 32 32\");\n  heart.setAttribute(\"fill\", \"#6b7280\");\n  const path = document.createElementNS(\"http://www.w3.org/2000/svg\", \"path\");\n  path.setAttribute(\n    \"d\",\n    \"M22.45,6a5.47,5.47,0,0,1,3.91,1.64,5.7,5.7,0,0,1,0,8L16,26.13,5.64,15.64a5.7,5.7,0,0,1,0-8,5.48,5.48,0,0,1,7.82,0L16,10.24l2.53-2.58A5.44,5.44,0,0,1,22.45,6m0-2a7.47,7.47,0,0,0-5.34,2.24L16,7.36,14.89,6.24a7.49,7.49,0,0,0-10.68,0,7.72,7.72,0,0,0,0,10.82L16,29,27.79,17.06a7.72,7.72,0,0,0,0-10.82A7.49,7.49,0,0,0,22.45,4Z\"\n  );\n  heart.appendChild(path);\n  return heart;\n};\n\n// src/header/components/like/index.ts\nvar Like = (space) => {\n  const box = document.createElement(\"a\");\n  box.setAttribute(\"href\", `https://huggingface.co/spaces/${space.id}`);\n  box.setAttribute(\"rel\", \"noopener noreferrer\");\n  box.setAttribute(\"target\", \"_blank\");\n  box.style.border = \"1px solid #e5e7eb\";\n  box.style.borderRadius = \"6px\";\n  box.style.display = \"flex\";\n  box.style.flexDirection = \"row\";\n  box.style.alignItems = \"center\";\n  box.style.margin = \"0 0 0 12px\";\n  box.style.fontSize = \"14px\";\n  box.style.paddingLeft = \"4px\";\n  box.style.textDecoration = \"none\";\n  box.appendChild(Heart());\n  box.appendChild(Count(space.likes));\n  return box;\n};\n\n// src/header/components/content/avatar.ts\nvar Avatar = (username, type = \"user\") => {\n  const route = type === \"user\" ? \"users\" : \"organizations\";\n  const element = document.createElement(\"img\");\n  element.src = `https://huggingface.co/api/${route}/${username}/avatar`;\n  element.style.width = \"0.875rem\";\n  element.style.height = \"0.875rem\";\n  element.style.borderRadius = \"50%\";\n  element.style.flex = \"none\";\n  element.style.marginRight = \"0.375rem\";\n  return element;\n};\n\n// src/header/components/content/namespace.ts\nvar Namespace = (id) => {\n  const [_, spaceName] = id.split(\"/\");\n  const element = document.createElement(\"a\");\n  element.setAttribute(\"href\", `https://huggingface.co/spaces/${id}`);\n  element.setAttribute(\"rel\", \"noopener noreferrer\");\n  element.setAttribute(\"target\", \"_blank\");\n  element.style.color = \"#1f2937\";\n  element.style.textDecoration = \"none\";\n  element.style.fontWeight = \"600\";\n  element.style.fontSize = \"15px\";\n  element.style.lineHeight = \"24px\";\n  element.style.flex = \"none\";\n  element.style.fontFamily = \"IBM Plex Mono, sans-serif\";\n  element.addEventListener(\"mouseover\", () => {\n    element.style.color = \"#2563eb\";\n  });\n  element.addEventListener(\"mouseout\", () => {\n    element.style.color = \"#1f2937\";\n  });\n  element.textContent = spaceName;\n  return element;\n};\n\n// src/header/components/content/separation.ts\nvar Separation = () => {\n  const separation = document.createElement(\"div\");\n  separation.style.marginLeft = \".125rem\";\n  separation.style.marginRight = \".125rem\";\n  separation.style.color = \"#d1d5db\";\n  separation.textContent = \"/\";\n  return separation;\n};\n\n// src/header/components/content/username.ts\nvar Username = (username) => {\n  const element = document.createElement(\"a\");\n  element.setAttribute(\"href\", `https://huggingface.co/${username}`);\n  element.setAttribute(\"rel\", \"noopener noreferrer\");\n  element.setAttribute(\"target\", \"_blank\");\n  element.style.color = \"rgb(107, 114, 128)\";\n  element.style.textDecoration = \"none\";\n  element.style.fontWeight = \"400\";\n  element.style.fontSize = \"16px\";\n  element.style.lineHeight = \"24px\";\n  element.style.flex = \"none\";\n  element.style.fontFamily = \"Source Sans Pro, sans-serif\";\n  element.addEventListener(\"mouseover\", () => {\n    element.style.color = \"#2563eb\";\n  });\n  element.addEventListener(\"mouseout\", () => {\n    element.style.color = \"rgb(107, 114, 128)\";\n  });\n  element.textContent = username;\n  return element;\n};\n\n// src/header/components/content/index.ts\nvar Content = (space) => {\n  const content = document.createElement(\"div\");\n  content.style.display = \"flex\";\n  content.style.flexDirection = \"row\";\n  content.style.alignItems = \"center\";\n  content.style.justifyContent = \"center\";\n  content.style.borderRight = \"1px solid #e5e7eb\";\n  content.style.paddingRight = \"12px\";\n  content.style.height = \"40px\";\n  if (space.type !== \"unknown\") {\n    content.appendChild(Avatar(space.author, space.type));\n  }\n  content.appendChild(Username(space.author));\n  content.appendChild(Separation());\n  content.appendChild(Namespace(space.id));\n  content.appendChild(Like(space));\n  return content;\n};\n\n// src/header/create.ts\nvar create = (space) => {\n  const box = Box();\n  const handleCollapse = () => box.style.display = \"none\";\n  box.appendChild(Content(space));\n  box.appendChild(Collapse(space, handleCollapse));\n  return box;\n};\n\n// src/utils/check_avatar.ts\nvar check_avatar = async (username, type = \"user\") => {\n  const route = type === \"user\" ? \"users\" : \"organizations\";\n  try {\n    const response = await fetch(`https://huggingface.co/api/${route}/${username}/avatar`);\n    return response.ok;\n  } catch (error) {\n    return false;\n  }\n};\n\n// src/utils/get_space.ts\nvar get_space = async (space_id) => {\n  try {\n    const response = await fetch(`https://huggingface.co/api/spaces/${space_id}`);\n    const data = await response.json();\n    return data;\n  } catch (error) {\n    return null;\n  }\n};\n\n// src/inject.ts\nvar inject = (element, options) => {\n  if (options == null ? void 0 : options.target) {\n    if (options.target.appendChild) {\n      options.target.appendChild(element);\n      return;\n    }\n    return console.error(\"the target element does not have an appendChild method\");\n  }\n  if (document.body === null) {\n    return console.error(\"document.body is null\");\n  }\n  document.body.appendChild(element);\n};\n\n// src/index.ts\nasync function main(initialSpace, options) {\n  var _a, _b;\n  if (window === void 0) return console.error(\"Please run this script in a browser environment\");\n  const has_huggingface_ancestor = Object.values(\n    (_b = (_a = window.location) == null ? void 0 : _a.ancestorOrigins) != null ? _b : {\n      0: window.document.referrer\n    }\n  ).some((origin) => {\n    var _a2;\n    return ((_a2 = new URL(origin)) == null ? void 0 : _a2.origin) === \"https://huggingface.co\";\n  });\n  if (has_huggingface_ancestor) return;\n  inject_fonts();\n  let space;\n  if (typeof initialSpace === \"string\") {\n    space = await get_space(initialSpace);\n    if (space === null) return console.error(\"Space not found\");\n  } else {\n    space = initialSpace;\n  }\n  const [user, org] = await Promise.all([check_avatar(space.author, \"user\"), check_avatar(space.author, \"org\")]);\n  space.type = user ? \"user\" : org ? \"org\" : \"unknown\";\n  const mini_header_element = create(space);\n  inject(mini_header_element, options);\n  return {\n    element: mini_header_element\n  };\n}\nvar init = (space, options) => main(space, options);\nexport {\n  init\n};\n","<script context=\"module\" lang=\"ts\">\n\timport { writable } from \"svelte/store\";\n\n\timport type { Client as ClientType } from \"@gradio/client\";\n\n\timport type { ComponentMeta, Dependency, LayoutNode } from \"@gradio/core\";\n\tdeclare let GRADIO_VERSION: string;\n\n\tinterface Config {\n\t\tdeep_link_state?: \"none\" | \"valid\" | \"invalid\";\n\t\tauth_required?: true;\n\t\tauth_message: string;\n\t\tcomponents: ComponentMeta[];\n\t\tcss: string | null;\n\t\tjs: string | null;\n\t\thead: string | null;\n\t\tdependencies: Dependency[];\n\t\tdev_mode: boolean;\n\t\tenable_queue: boolean;\n\t\tlayout: LayoutNode;\n\t\tmode: \"blocks\" | \"interface\";\n\t\troot: string;\n\t\ttheme: string;\n\t\ttitle: string;\n\t\tversion: string;\n\t\tspace_id: string | null;\n\t\tis_colab: boolean;\n\t\tshow_api: boolean;\n\t\tstylesheets?: string[];\n\t\tapp_id?: string;\n\t\tfill_height?: boolean;\n\t\tfill_width?: boolean;\n\t\ttheme_hash?: number;\n\t\tusername: string | null;\n\t\tpages: [string, string][];\n\t\tcurrent_page: string;\n\t\tpage: Record<\n\t\t\tstring,\n\t\t\t{\n\t\t\t\tcomponents: number[];\n\t\t\t\tdependencies: number[];\n\t\t\t\tlayout: any;\n\t\t\t}\n\t\t>;\n\t}\n\n\tlet id = -1;\n\n\tfunction create_intersection_store(): {\n\t\tregister: (n: number, el: HTMLDivElement) => void;\n\t\tsubscribe: (typeof intersecting)[\"subscribe\"];\n\t} {\n\t\tconst intersecting = writable<Record<string, boolean>>({});\n\n\t\tconst els = new Map<HTMLDivElement, number>();\n\n\t\tconst observer = new IntersectionObserver((entries) => {\n\t\t\tentries.forEach((entry) => {\n\t\t\t\tif (entry.isIntersecting) {\n\t\t\t\t\tlet _el: number | undefined = els.get(entry.target as HTMLDivElement);\n\t\t\t\t\tif (_el !== undefined)\n\t\t\t\t\t\tintersecting.update((s) => ({ ...s, [_el as number]: true }));\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\n\t\tfunction register(_id: number, el: HTMLDivElement): void {\n\t\t\tels.set(el, _id);\n\t\t\tobserver.observe(el);\n\t\t}\n\n\t\treturn { register, subscribe: intersecting.subscribe };\n\t}\n</script>\n\n<script lang=\"ts\">\n\timport { onMount, createEventDispatcher, onDestroy } from \"svelte\";\n\timport type { SpaceStatus } from \"@gradio/client\";\n\timport { Embed } from \"@gradio/core\";\n\timport type { ThemeMode } from \"@gradio/core\";\n\timport { _ } from \"svelte-i18n\";\n\timport { Client } from \"@gradio/client\";\n\timport { page } from \"$app/stores\";\n\n\timport { init } from \"@huggingface/space-header\";\n\timport { browser } from \"$app/environment\";\n\n\tconst dispatch = createEventDispatcher();\n\texport let data;\n\n\texport let autoscroll = false;\n\texport let version = GRADIO_VERSION;\n\texport let initial_height: string;\n\texport let app_mode = true;\n\texport let is_embed = false;\n\texport let theme_mode: ThemeMode | null = null;\n\texport let control_page_title = true;\n\texport let container: boolean;\n\tlet stream: EventSource;\n\n\tfunction handle_theme_mode(target: HTMLElement): \"light\" | \"dark\" {\n\t\tlet new_theme_mode: ThemeMode;\n\n\t\tconst url = new URL(window.location.toString());\n\t\tconst url_color_mode: ThemeMode | null = url.searchParams.get(\n\t\t\t\"__theme\"\n\t\t) as ThemeMode | null;\n\t\tnew_theme_mode = theme_mode || url_color_mode || \"system\";\n\n\t\tif (new_theme_mode === \"dark\" || new_theme_mode === \"light\") {\n\t\t\tapply_theme(target, new_theme_mode);\n\t\t} else {\n\t\t\tnew_theme_mode = sync_system_theme(target);\n\t\t}\n\t\treturn new_theme_mode;\n\t}\n\n\tfunction sync_system_theme(target: HTMLElement): \"light\" | \"dark\" {\n\t\tconst theme = update_scheme();\n\t\twindow\n\t\t\t?.matchMedia(\"(prefers-color-scheme: dark)\")\n\t\t\t?.addEventListener(\"change\", update_scheme);\n\n\t\tfunction update_scheme(): \"light\" | \"dark\" {\n\t\t\tlet _theme: \"light\" | \"dark\" = window?.matchMedia?.(\n\t\t\t\t\"(prefers-color-scheme: dark)\"\n\t\t\t).matches\n\t\t\t\t? \"dark\"\n\t\t\t\t: \"light\";\n\n\t\t\tapply_theme(target, _theme);\n\t\t\treturn _theme;\n\t\t}\n\t\treturn theme;\n\t}\n\n\tfunction apply_theme(target: HTMLElement, theme: \"dark\" | \"light\"): void {\n\t\tconst dark_class_element = is_embed ? target.parentElement! : document.body;\n\t\tconst bg_element = is_embed ? target : target.parentElement!;\n\t\tbg_element.style.background = \"var(--body-background-fill)\";\n\t\tdark_class_element.classList.add(\"theme-loaded\");\n\t\tif (theme === \"dark\") {\n\t\t\tdark_class_element.classList.add(\"dark\");\n\t\t} else {\n\t\t\tdark_class_element.classList.remove(\"dark\");\n\t\t}\n\t}\n\n\tlet active_theme_mode: ThemeMode;\n\n\tif (browser) {\n\t\tactive_theme_mode = handle_theme_mode(document.body);\n\t}\n\n\tasync function add_custom_html_head(\n\t\thead_string: string | null\n\t): Promise<void> {\n\t\tif (head_string) {\n\t\t\tconst parser = new DOMParser();\n\t\t\tconst parsed_head_html = Array.from(\n\t\t\t\tparser.parseFromString(head_string, \"text/html\").head.children\n\t\t\t);\n\n\t\t\tif (parsed_head_html) {\n\t\t\t\tfor (let head_element of parsed_head_html) {\n\t\t\t\t\tlet newElement = document.createElement(head_element.tagName);\n\t\t\t\t\tArray.from(head_element.attributes).forEach((attr) => {\n\t\t\t\t\t\tnewElement.setAttribute(attr.name, attr.value);\n\t\t\t\t\t});\n\t\t\t\t\tnewElement.textContent = head_element.textContent;\n\n\t\t\t\t\tif (newElement.tagName == \"META\") {\n\t\t\t\t\t\tconst propertyAttr = newElement.getAttribute(\"property\");\n\t\t\t\t\t\tconst nameAttr = newElement.getAttribute(\"name\");\n\n\t\t\t\t\t\tif (propertyAttr || nameAttr) {\n\t\t\t\t\t\t\tconst domMetaList = Array.from(\n\t\t\t\t\t\t\t\tdocument.head.getElementsByTagName(\"meta\") ?? []\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\tconst matched = domMetaList.find((el) => {\n\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\tpropertyAttr &&\n\t\t\t\t\t\t\t\t\tel.getAttribute(\"property\") === propertyAttr\n\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\treturn !el.isEqualNode(newElement);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (nameAttr && el.getAttribute(\"name\") === nameAttr) {\n\t\t\t\t\t\t\t\t\treturn !el.isEqualNode(newElement);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tif (matched) {\n\t\t\t\t\t\t\t\tdocument.head.replaceChild(newElement, matched);\n\t\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tdocument.head.appendChild(newElement);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\texport let space: string | null;\n\tlet _id = id++;\n\n\tlet loader_status: \"pending\" | \"error\" | \"complete\" | \"generating\" =\n\t\t\"complete\";\n\tlet app_id: string | null = null;\n\tlet wrapper: HTMLDivElement;\n\tlet ready = false;\n\tlet render_complete = false;\n\t$: config = data.config;\n\n\tlet intersecting: ReturnType<typeof create_intersection_store> = {\n\t\tregister: () => {},\n\t\tsubscribe: writable({}).subscribe\n\t};\n\n\t$: if (config?.app_id) {\n\t\tapp_id = config.app_id;\n\t}\n\n\tlet status: SpaceStatus = {\n\t\tmessage: \"\",\n\t\tload_status: \"pending\",\n\t\tstatus: \"sleeping\",\n\t\tdetail: \"SLEEPING\"\n\t};\n\n\tlet app: ClientType = data.app;\n\tlet css_ready = false;\n\tfunction handle_status(_status: SpaceStatus): void {\n\t\tstatus = _status;\n\t}\n\t//@ts-ignore\n\tlet pending_deep_link_error = false;\n\n\tlet gradio_dev_mode = \"\";\n\tlet i18n_ready: boolean;\n\tonMount(async () => {\n\t\t//@ts-ignore\n\t\tconfig = data.config;\n\t\twindow.gradio_config = config;\n\t\twindow.gradio_config = data.config;\n\t\tconfig = data.config;\n\n\t\tif (config.deep_link_state === \"invalid\") {\n\t\t\tpending_deep_link_error = true;\n\t\t}\n\n\t\tif (!app.config) {\n\t\t\tthrow new Error(\"Could not resolve app config\");\n\t\t}\n\n\t\twindow.__gradio_space__ = config.space_id;\n\t\twindow.__gradio_session_hash__ = app.session_hash; // type: ignore\n\t\tgradio_dev_mode = window?.__GRADIO_DEV__;\n\n\t\tstatus = {\n\t\t\tmessage: \"\",\n\t\t\tload_status: \"complete\",\n\t\t\tstatus: \"running\",\n\t\t\tdetail: \"RUNNING\"\n\t\t};\n\n\t\tcss_ready = true;\n\t\twindow.__is_colab__ = config.is_colab;\n\n\t\tawait add_custom_html_head(config.head);\n\n\t\tconst supports_zerogpu_headers = \"supports-zerogpu-headers\";\n\t\twindow.addEventListener(\"message\", (event) => {\n\t\t\tif (event.data === supports_zerogpu_headers) {\n\t\t\t\twindow.supports_zerogpu_headers = true;\n\t\t\t}\n\t\t});\n\t\tconst hostname = window.location.hostname;\n\t\tconst origin = hostname.includes(\".dev.\")\n\t\t\t? `https://moon-${hostname.split(\".\")[1]}.dev.spaces.huggingface.tech`\n\t\t\t: `https://huggingface.co`;\n\t\twindow.parent.postMessage(supports_zerogpu_headers, origin);\n\n\t\tdispatch(\"loaded\");\n\t\tif (config.dev_mode) {\n\t\t\tsetTimeout(() => {\n\t\t\t\tconst { host } = new URL(data.api_url);\n\t\t\t\tlet url = new URL(`http://${host}${app.api_prefix}/dev/reload`);\n\t\t\t\tstream = new EventSource(url);\n\t\t\t\tstream.addEventListener(\"error\", async (e) => {\n\t\t\t\t\t// @ts-ignore\n\t\t\t\t\tlet event_data: string | undefined = e.data;\n\t\t\t\t\tif (event_data) {\n\t\t\t\t\t\tnew_message_fn(\"Error\", \"Error reloading app\", \"error\");\n\t\t\t\t\t\tconsole.error(JSON.parse(event_data));\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tstream.addEventListener(\"reload\", async (event) => {\n\t\t\t\t\tapp.close();\n\t\t\t\t\tapp = await Client.connect(data.api_url, {\n\t\t\t\t\t\tstatus_callback: handle_status,\n\t\t\t\t\t\twith_null_state: true,\n\t\t\t\t\t\tevents: [\"data\", \"log\", \"status\", \"render\"],\n\t\t\t\t\t\tsession_hash: app.session_hash\n\t\t\t\t\t});\n\n\t\t\t\t\tif (!app.config) {\n\t\t\t\t\t\tthrow new Error(\"Could not resolve app config\");\n\t\t\t\t\t}\n\n\t\t\t\t\tconfig = app.config;\n\t\t\t\t\twindow.__gradio_space__ = config.space_id;\n\t\t\t\t});\n\t\t\t}, 200);\n\t\t}\n\t});\n\n\tlet new_message_fn: (title: string, message: string, type: string) => void;\n\n\t$: if (new_message_fn && pending_deep_link_error) {\n\t\tnew_message_fn(\"Error\", \"Deep link was not valid\", \"error\");\n\t\tpending_deep_link_error = false;\n\t}\n\n\tonMount(async () => {\n\t\tintersecting = create_intersection_store();\n\t\tintersecting.register(_id, wrapper);\n\t});\n\n\t$: if (render_complete) {\n\t\twrapper.dispatchEvent(\n\t\t\tnew CustomEvent(\"render\", {\n\t\t\t\tbubbles: true,\n\t\t\t\tcancelable: false,\n\t\t\t\tcomposed: true\n\t\t\t})\n\t\t);\n\t}\n\n\t$: app?.config &&\n\t\tbrowser &&\n\t\tmount_space_header(app?.config?.space_id, is_embed);\n\tlet spaceheader: HTMLElement | undefined;\n\n\tasync function mount_space_header(\n\t\tspace_id: string | null | undefined,\n\t\tis_embed: boolean\n\t): Promise<void> {\n\t\tif (space_id && !is_embed && window.self === window.top) {\n\t\t\tif (spaceheader) {\n\t\t\t\tspaceheader.remove();\n\t\t\t\tspaceheader = undefined;\n\t\t\t}\n\t\t\tconst header = await init(space_id);\n\t\t\tif (header) spaceheader = header.element;\n\t\t}\n\t}\n\n\tonDestroy(() => {\n\t\tspaceheader?.remove();\n\t});\n</script>\n\n<svelte:head>\n\t<link rel=\"stylesheet\" href={\"./theme.css?v=\" + config?.theme_hash} />\n\t{#if config?.stylesheets}\n\t\t{#each config.stylesheets as stylesheet}\n\t\t\t{#if stylesheet.startsWith(\"http:\") || stylesheet.startsWith(\"https:\")}\n\t\t\t\t<link rel=\"stylesheet\" href={stylesheet} />\n\t\t\t{/if}\n\t\t{/each}\n\t{/if}\n\t<link rel=\"manifest\" href=\"/manifest.json\" />\n</svelte:head>\n\n<Embed\n\tdisplay={container && is_embed}\n\t{is_embed}\n\tinfo={false}\n\t{version}\n\t{initial_height}\n\t{space}\n\tpages={config.pages}\n\tcurrent_page={config.current_page}\n\troot={config.root}\n\tloaded={loader_status === \"complete\"}\n\tfill_width={config?.fill_width || false}\n\tbind:wrapper\n>\n\t{#if config?.auth_required}\n\t\t<svelte:component\n\t\t\tthis={data.Render}\n\t\t\tauth_message={config.auth_message}\n\t\t\troot={config.root}\n\t\t\tspace_id={space}\n\t\t\t{app_mode}\n\t\t/>\n\t{:else if config && app}\n\t\t<svelte:component\n\t\t\tthis={data.Render}\n\t\t\t{app}\n\t\t\t{...config}\n\t\t\tfill_height={!is_embed && config.fill_height}\n\t\t\ttheme_mode={active_theme_mode}\n\t\t\t{control_page_title}\n\t\t\ttarget={wrapper}\n\t\t\t{autoscroll}\n\t\t\tbind:ready\n\t\t\tbind:render_complete\n\t\t\tbind:add_new_message={new_message_fn}\n\t\t\tshow_footer={!is_embed}\n\t\t\t{app_mode}\n\t\t\t{version}\n\t\t\tsearch_params={$page.url.searchParams}\n\t\t\tinitial_layout={data.layout}\n\t\t/>\n\t{/if}\n</Embed>\n"],"file":"_app/immutable/chunks/2.BnXZFkJe.js"}