const __vite__fileDeps=["./ApiDocs-CZwTtU3T.js","./clear-CvR6Cdu7.js","./index-CE5Dq9Ft.js","./index-D0yov38F.css","./Button-CIf_3anj.js","./Image-CnqB5dbD.js","./file-url-DoxvUUVV.js","./DownloadLink.svelte_svelte_type_style_lang-C_5UIfol.js","./DownloadLink-CqD3Uu0l.css","./Image-B8dFOee4.css","./MarkdownCode.svelte_svelte_type_style_lang-CndpmQbB.js","./prism-python-CfAyo7Kj.js","./MarkdownCode-BAgvaa0A.css","./Button-DTh9AgeE.css","./IconButtonWrapper-BqcF4N5S.css","./ImagePreview-C_qhEOxI.css","./index-BS0vHs21.js","./StreamingBar.svelte_svelte_type_style_lang-DyfAPhwM.js","./StreamingBar-pGVW9eBG.css","./IconButton-C_HS7fTi.js","./Clear-By3xiIwg.js","./Block-CJdXVpa7.js","./Toast-CFHpinwe.js","./index-BjaWoMJF.js","./utils-BsGrhMNe.js","./ApiDocs-C1ssMq67.css","./ApiRecorder-D7_5CoRi.js","./ApiRecorder-7UmvbTxs.css","./Settings-C5oP3g1U.js","./Dropdown-BvbpNOTS.js","./BlockTitle-Bo3Clcoc.js","./Info-liNK1-j3.js","./MarkdownCode-ClpO4-JW.js","./DropdownArrow-DYWFcSFn.js","./Dropdown-CWxB-qJp.css","./Checkbox-CjOIpf6b.js","./Checkbox-COx9d1js.css","./Settings-BVvHX4gg.css","./Example-D7K5RtQ2.css","./Index-CmRbJgcA.js","./Code-YdWqpJVY.js","./Code-DloLYeAi.css","./Index-CQqQuB-Q.css","./Example-oomIF0ca.css"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import{t as Vt,y as bi,z as wi,$ as vi,c as ki,p as Ht,s as Ei,_ as We,A as Zt,w as Si}from"./index-CE5Dq9Ft.js";import"./StreamingBar.svelte_svelte_type_style_lang-DyfAPhwM.js";/* empty css                                                        */import"./MarkdownCode.svelte_svelte_type_style_lang-CndpmQbB.js";import{T as Ci}from"./Toast-CFHpinwe.js";import{G as zi}from"./utils-BsGrhMNe.js";const{SvelteComponent:Mi,add_flush_callback:Li,assign:_t,bind:Jt,binding_callbacks:Rt,bubble:yi,check_outros:Ln,compute_rest_props:Qt,construct_svelte_component:Kt,create_component:Yt,create_slot:Ni,destroy_component:Xt,detach:yn,empty:Nn,exclude_internal_props:Ri,flush:se,get_all_dirty_from_scope:Oi,get_slot_changes:Ai,get_spread_object:$t,get_spread_update:xt,group_outros:Rn,init:Ti,insert:On,mount_component:en,not_equal:Pi,transition_in:De,transition_out:Qe,update_slot_base:Di}=window.__gradio__svelte__internal,{bind:Bi,binding_callbacks:Ii}=window.__gradio__svelte__internal;function tn(i){let e,t,n,s;const o=[{elem_id:i[5]},{elem_classes:i[6]},{target:i[3]},{visible:i[7]},i[9],{theme_mode:i[4]},{root:i[2]}];function f(r){i[14](r)}var c=i[8];function a(r,u){let m={$$slots:{default:[ji]},$$scope:{ctx:r}};for(let _=0;_<o.length;_+=1)m=_t(m,o[_]);return u!==void 0&&u&764&&(m=_t(m,xt(o,[u&32&&{elem_id:r[5]},u&64&&{elem_classes:r[6]},u&8&&{target:r[3]},u&128&&{visible:r[7]},u&512&&$t(r[9]),u&16&&{theme_mode:r[4]},u&4&&{root:r[2]}]))),r[0]!==void 0&&(m.value=r[0]),{props:m}}return c&&(e=Kt(c,a(i)),i[13](e),Rt.push(()=>Jt(e,"value",f)),e.$on("prop_change",i[15])),{c(){e&&Yt(e.$$.fragment),n=Nn()},m(r,u){e&&en(e,r,u),On(r,n,u),s=!0},p(r,u){if(c!==(c=r[8])){if(e){Rn();const m=e;Qe(m.$$.fragment,1,0,()=>{Xt(m,1)}),Ln()}c?(e=Kt(c,a(r,u)),r[13](e),Rt.push(()=>Jt(e,"value",f)),e.$on("prop_change",r[15]),Yt(e.$$.fragment),De(e.$$.fragment,1),en(e,n.parentNode,n)):e=null}else if(c){const m=u&764?xt(o,[u&32&&{elem_id:r[5]},u&64&&{elem_classes:r[6]},u&8&&{target:r[3]},u&128&&{visible:r[7]},u&512&&$t(r[9]),u&16&&{theme_mode:r[4]},u&4&&{root:r[2]}]):{};u&65536&&(m.$$scope={dirty:u,ctx:r}),!t&&u&1&&(t=!0,m.value=r[0],Li(()=>t=!1)),e.$set(m)}},i(r){s||(e&&De(e.$$.fragment,r),s=!0)},o(r){e&&Qe(e.$$.fragment,r),s=!1},d(r){r&&yn(n),i[13](null),e&&Xt(e,r)}}}function ji(i){let e;const t=i[12].default,n=Ni(t,i,i[16],null);return{c(){n&&n.c()},m(s,o){n&&n.m(s,o),e=!0},p(s,o){n&&n.p&&(!e||o&65536)&&Di(n,t,s,s[16],e?Ai(t,s[16],o,null):Oi(s[16]),null)},i(s){e||(De(n,s),e=!0)},o(s){Qe(n,s),e=!1},d(s){n&&n.d(s)}}}function Fi(i){let e,t,n=i[7]&&tn(i);return{c(){n&&n.c(),e=Nn()},m(s,o){n&&n.m(s,o),On(s,e,o),t=!0},p(s,[o]){s[7]?n?(n.p(s,o),o&128&&De(n,1)):(n=tn(s),n.c(),De(n,1),n.m(e.parentNode,e)):n&&(Rn(),Qe(n,1,1,()=>{n=null}),Ln())},i(s){t||(De(n),t=!0)},o(s){Qe(n),t=!1},d(s){s&&yn(e),n&&n.d(s)}}}function Gi(i,e,t){const n=["root","component","target","theme_mode","instance","value","elem_id","elem_classes","_id","visible"];let s=Qt(e,n),{$$slots:o={},$$scope:f}=e,{root:c}=e,{component:a}=e,{target:r}=e,{theme_mode:u}=e,{instance:m}=e,{value:_}=e,{elem_id:p}=e,{elem_classes:S}=e,{_id:g}=e,{visible:w}=e;const k=(C,ee,x)=>new CustomEvent("prop_change",{detail:{id:C,prop:ee,value:x}});function R(C){return new Proxy(C,{construct(x,fe){const ne=new x(...fe),ue=Object.keys(ne.$$.props);function Ce(G){return function(U){if(!r)return;const $=k(g,G,U);r.dispatchEvent($)}}return ue.forEach(G=>{Ii.push(()=>Bi(ne,G,Ce(G)))}),ne}})}let h=R(a);const N=["description","info","title","placeholder","value","label"];function z(C){for(const ee in C)N.includes(ee)&&(C[ee]=Vt(C[ee]))}function D(C){Rt[C?"unshift":"push"](()=>{m=C,t(1,m)})}function d(C){_=C,t(0,_)}function M(C){yi.call(this,i,C)}return i.$$set=C=>{e=_t(_t({},e),Ri(C)),t(9,s=Qt(e,n)),"root"in C&&t(2,c=C.root),"component"in C&&t(10,a=C.component),"target"in C&&t(3,r=C.target),"theme_mode"in C&&t(4,u=C.theme_mode),"instance"in C&&t(1,m=C.instance),"value"in C&&t(0,_=C.value),"elem_id"in C&&t(5,p=C.elem_id),"elem_classes"in C&&t(6,S=C.elem_classes),"_id"in C&&t(11,g=C._id),"visible"in C&&t(7,w=C.visible),"$$scope"in C&&t(16,f=C.$$scope)},i.$$.update=()=>{z(s),i.$$.dirty&1&&t(0,_=Vt(_))},[_,m,c,r,u,p,S,w,h,s,a,g,o,D,d,M,f]}class Ui extends Mi{constructor(e){super(),Ti(this,e,Gi,Fi,Pi,{root:2,component:10,target:3,theme_mode:4,instance:1,value:0,elem_id:5,elem_classes:6,_id:11,visible:7})}get root(){return this.$$.ctx[2]}set root(e){this.$$set({root:e}),se()}get component(){return this.$$.ctx[10]}set component(e){this.$$set({component:e}),se()}get target(){return this.$$.ctx[3]}set target(e){this.$$set({target:e}),se()}get theme_mode(){return this.$$.ctx[4]}set theme_mode(e){this.$$set({theme_mode:e}),se()}get instance(){return this.$$.ctx[1]}set instance(e){this.$$set({instance:e}),se()}get value(){return this.$$.ctx[0]}set value(e){this.$$set({value:e}),se()}get elem_id(){return this.$$.ctx[5]}set elem_id(e){this.$$set({elem_id:e}),se()}get elem_classes(){return this.$$.ctx[6]}set elem_classes(e){this.$$set({elem_classes:e}),se()}get _id(){return this.$$.ctx[11]}set _id(e){this.$$set({_id:e}),se()}get visible(){return this.$$.ctx[7]}set visible(e){this.$$set({visible:e}),se()}}const{SvelteComponent:qi,add_flush_callback:nn,assign:Wi,bind:on,binding_callbacks:sn,bubble:rn,check_outros:At,component_subscribe:Vi,create_component:An,destroy_component:Tn,detach:ut,empty:mt,ensure_array_like:ln,flush:he,get_spread_object:Hi,get_spread_update:Zi,group_outros:Tt,init:Ji,insert:dt,mount_component:Pn,outro_and_destroy_block:Qi,safe_not_equal:Ki,transition_in:ge,transition_out:Ne,update_keyed_each:Yi}=window.__gradio__svelte__internal,{onMount:Xi,createEventDispatcher:$i,setContext:xi}=window.__gradio__svelte__internal;function an(i,e,t){const n=i.slice();return n[16]=e[t],n}function cn(i){let e,t,n,s;const o=[{_id:i[0]?.id},{component:i[0].component},{elem_id:"elem_id"in i[0].props&&i[0].props.elem_id||`component-${i[0].id}`},{elem_classes:"elem_classes"in i[0].props&&i[0].props.elem_classes||[]},{target:i[2]},i[0].props,{theme_mode:i[3]},{root:i[1]},{visible:typeof i[0].props.visible=="boolean"?i[0].props.visible:!0}];function f(r){i[12](r)}function c(r){i[13](r)}let a={$$slots:{default:[eo]},$$scope:{ctx:i}};for(let r=0;r<o.length;r+=1)a=Wi(a,o[r]);return i[0].instance!==void 0&&(a.instance=i[0].instance),i[0].props.value!==void 0&&(a.value=i[0].props.value),e=new Ui({props:a}),sn.push(()=>on(e,"instance",f)),sn.push(()=>on(e,"value",c)),{c(){An(e.$$.fragment)},m(r,u){Pn(e,r,u),s=!0},p(r,u){const m=u&15?Zi(o,[u&1&&{_id:r[0]?.id},u&1&&{component:r[0].component},u&1&&{elem_id:"elem_id"in r[0].props&&r[0].props.elem_id||`component-${r[0].id}`},u&1&&{elem_classes:"elem_classes"in r[0].props&&r[0].props.elem_classes||[]},u&4&&{target:r[2]},u&1&&Hi(r[0].props),u&8&&{theme_mode:r[3]},u&2&&{root:r[1]},u&1&&{visible:typeof r[0].props.visible=="boolean"?r[0].props.visible:!0}]):{};u&524351&&(m.$$scope={dirty:u,ctx:r}),!t&&u&1&&(t=!0,m.instance=r[0].instance,nn(()=>t=!1)),!n&&u&1&&(n=!0,m.value=r[0].props.value,nn(()=>n=!1)),e.$set(m)},i(r){s||(ge(e.$$.fragment,r),s=!0)},o(r){Ne(e.$$.fragment,r),s=!1},d(r){Tn(e,r)}}}function _n(i){let e=[],t=new Map,n,s,o=ln(i[0].children);const f=c=>c[16].id;for(let c=0;c<o.length;c+=1){let a=an(i,o,c),r=f(a);t.set(r,e[c]=fn(r,a))}return{c(){for(let c=0;c<e.length;c+=1)e[c].c();n=mt()},m(c,a){for(let r=0;r<e.length;r+=1)e[r]&&e[r].m(c,a);dt(c,n,a),s=!0},p(c,a){a&63&&(o=ln(c[0].children),Tt(),e=Yi(e,a,f,1,c,o,t,n.parentNode,Qi,fn,n,an),At())},i(c){if(!s){for(let a=0;a<o.length;a+=1)ge(e[a]);s=!0}},o(c){for(let a=0;a<e.length;a+=1)Ne(e[a]);s=!1},d(c){c&&ut(n);for(let a=0;a<e.length;a+=1)e[a].d(c)}}}function fn(i,e){let t,n,s;return n=new Dn({props:{node:e[16],component:e[16].component,target:e[2],id:e[16].id,root:e[1],theme_mode:e[3],max_file_size:e[4],client:e[5]}}),n.$on("destroy",e[10]),n.$on("mount",e[11]),{key:i,first:null,c(){t=mt(),An(n.$$.fragment),this.first=t},m(o,f){dt(o,t,f),Pn(n,o,f),s=!0},p(o,f){e=o;const c={};f&1&&(c.node=e[16]),f&1&&(c.component=e[16].component),f&4&&(c.target=e[2]),f&1&&(c.id=e[16].id),f&2&&(c.root=e[1]),f&8&&(c.theme_mode=e[3]),f&16&&(c.max_file_size=e[4]),f&32&&(c.client=e[5]),n.$set(c)},i(o){s||(ge(n.$$.fragment,o),s=!0)},o(o){Ne(n.$$.fragment,o),s=!1},d(o){o&&ut(t),Tn(n,o)}}}function eo(i){let e,t,n=i[0].children&&i[0].children.length&&_n(i);return{c(){n&&n.c(),e=mt()},m(s,o){n&&n.m(s,o),dt(s,e,o),t=!0},p(s,o){s[0].children&&s[0].children.length?n?(n.p(s,o),o&1&&ge(n,1)):(n=_n(s),n.c(),ge(n,1),n.m(e.parentNode,e)):n&&(Tt(),Ne(n,1,1,()=>{n=null}),At())},i(s){t||(ge(n),t=!0)},o(s){Ne(n),t=!1},d(s){s&&ut(e),n&&n.d(s)}}}function to(i){let e,t,n=i[0].component&&cn(i);return{c(){n&&n.c(),e=mt()},m(s,o){n&&n.m(s,o),dt(s,e,o),t=!0},p(s,[o]){s[0].component?n?(n.p(s,o),o&1&&ge(n,1)):(n=cn(s),n.c(),ge(n,1),n.m(e.parentNode,e)):n&&(Tt(),Ne(n,1,1,()=>{n=null}),At())},i(s){t||(ge(n),t=!0)},o(s){Ne(n),t=!1},d(s){s&&ut(e),n&&n.d(s)}}}function no(i,e,t){let n;Vi(i,bi,h=>t(9,n=h));let{root:s}=e,{node:o}=e,{parent:f=null}=e,{target:c}=e,{theme_mode:a}=e,{version:r}=e,{autoscroll:u}=e,{max_file_size:m}=e,{client:_}=e;const p=$i();let S=[];Xi(()=>{p("mount",o.id);for(const h of S)p("mount",h.id);return()=>{p("destroy",o.id);for(const h of S)p("mount",h.id)}}),xi("BLOCK_KEY",f);function g(h){rn.call(this,i,h)}function w(h){rn.call(this,i,h)}function k(h){i.$$.not_equal(o.instance,h)&&(o.instance=h,t(0,o),t(15,S),t(2,c),t(3,a),t(7,r),t(1,s),t(8,u),t(4,m),t(9,n),t(5,_))}function R(h){i.$$.not_equal(o.props.value,h)&&(o.props.value=h,t(0,o),t(15,S),t(2,c),t(3,a),t(7,r),t(1,s),t(8,u),t(4,m),t(9,n),t(5,_))}return i.$$set=h=>{"root"in h&&t(1,s=h.root),"node"in h&&t(0,o=h.node),"parent"in h&&t(6,f=h.parent),"target"in h&&t(2,c=h.target),"theme_mode"in h&&t(3,a=h.theme_mode),"version"in h&&t(7,r=h.version),"autoscroll"in h&&t(8,u=h.autoscroll),"max_file_size"in h&&t(4,m=h.max_file_size),"client"in h&&t(5,_=h.client)},i.$$.update=()=>{i.$$.dirty&1&&o&&t(0,o.children=o.children&&o.children.filter(h=>{const N=o.type!=="statustracker";return N||S.push(h),N}),o),i.$$.dirty&1&&o&&o.type==="form"&&(o.children?.every(h=>typeof h.props.visible=="boolean"&&!h.props.visible)?t(0,o.props.visible=!1,o):t(0,o.props.visible=!0,o)),i.$$.dirty&959&&t(0,o.props.gradio=new zi(o.id,c,a,r,s,u,m,n,_,wi),o)},[o,s,c,a,m,_,f,r,u,n,g,w,k,R]}class Dn extends qi{constructor(e){super(),Ji(this,e,no,to,Ki,{root:1,node:0,parent:6,target:2,theme_mode:3,version:7,autoscroll:8,max_file_size:4,client:5})}get root(){return this.$$.ctx[1]}set root(e){this.$$set({root:e}),he()}get node(){return this.$$.ctx[0]}set node(e){this.$$set({node:e}),he()}get parent(){return this.$$.ctx[6]}set parent(e){this.$$set({parent:e}),he()}get target(){return this.$$.ctx[2]}set target(e){this.$$set({target:e}),he()}get theme_mode(){return this.$$.ctx[3]}set theme_mode(e){this.$$set({theme_mode:e}),he()}get version(){return this.$$.ctx[7]}set version(e){this.$$set({version:e}),he()}get autoscroll(){return this.$$.ctx[8]}set autoscroll(e){this.$$set({autoscroll:e}),he()}get max_file_size(){return this.$$.ctx[4]}set max_file_size(e){this.$$set({max_file_size:e}),he()}get client(){return this.$$.ctx[5]}set client(e){this.$$set({client:e}),he()}}const{SvelteComponent:io,check_outros:oo,create_component:so,destroy_component:ro,detach:lo,empty:ao,flush:ve,group_outros:co,init:_o,insert:fo,mount_component:uo,safe_not_equal:mo,transition_in:at,transition_out:Ot}=window.__gradio__svelte__internal,{onMount:ho,createEventDispatcher:go}=window.__gradio__svelte__internal;function un(i){let e,t;return e=new Dn({props:{node:i[0],root:i[1],target:i[2],theme_mode:i[3],version:i[4],autoscroll:i[5],max_file_size:i[6],client:i[7]}}),{c(){so(e.$$.fragment)},m(n,s){uo(e,n,s),t=!0},p(n,s){const o={};s&1&&(o.node=n[0]),s&2&&(o.root=n[1]),s&4&&(o.target=n[2]),s&8&&(o.theme_mode=n[3]),s&16&&(o.version=n[4]),s&32&&(o.autoscroll=n[5]),s&64&&(o.max_file_size=n[6]),s&128&&(o.client=n[7]),e.$set(o)},i(n){t||(at(e.$$.fragment,n),t=!0)},o(n){Ot(e.$$.fragment,n),t=!1},d(n){ro(e,n)}}}function po(i){let e,t,n=i[0]&&un(i);return{c(){n&&n.c(),e=ao()},m(s,o){n&&n.m(s,o),fo(s,e,o),t=!0},p(s,[o]){s[0]?n?(n.p(s,o),o&1&&at(n,1)):(n=un(s),n.c(),at(n,1),n.m(e.parentNode,e)):n&&(co(),Ot(n,1,1,()=>{n=null}),oo())},i(s){t||(at(n),t=!0)},o(s){Ot(n),t=!1},d(s){s&&lo(e),n&&n.d(s)}}}function bo(i,e,t){let{rootNode:n}=e,{root:s}=e,{target:o}=e,{theme_mode:f}=e,{version:c}=e,{autoscroll:a}=e,{max_file_size:r=null}=e,{client:u}=e;const m=go();return ho(()=>{m("mount")}),i.$$set=_=>{"rootNode"in _&&t(0,n=_.rootNode),"root"in _&&t(1,s=_.root),"target"in _&&t(2,o=_.target),"theme_mode"in _&&t(3,f=_.theme_mode),"version"in _&&t(4,c=_.version),"autoscroll"in _&&t(5,a=_.autoscroll),"max_file_size"in _&&t(6,r=_.max_file_size),"client"in _&&t(7,u=_.client)},[n,s,o,f,c,a,r,u]}class wo extends io{constructor(e){super(),_o(this,e,bo,po,mo,{rootNode:0,root:1,target:2,theme_mode:3,version:4,autoscroll:5,max_file_size:6,client:7})}get rootNode(){return this.$$.ctx[0]}set rootNode(e){this.$$set({rootNode:e}),ve()}get root(){return this.$$.ctx[1]}set root(e){this.$$set({root:e}),ve()}get target(){return this.$$.ctx[2]}set target(e){this.$$set({target:e}),ve()}get theme_mode(){return this.$$.ctx[3]}set theme_mode(e){this.$$set({theme_mode:e}),ve()}get version(){return this.$$.ctx[4]}set version(e){this.$$set({version:e}),ve()}get autoscroll(){return this.$$.ctx[5]}set autoscroll(e){this.$$set({autoscroll:e}),ve()}get max_file_size(){return this.$$.ctx[6]}set max_file_size(e){this.$$set({max_file_size:e}),ve()}get client(){return this.$$.ctx[7]}set client(e){this.$$set({client:e}),ve()}}const vo="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='576'%20height='576'%20viewBox='0%200%20576%20576'%20fill='none'%3e%3cpath%20d='M287.5%20229L86%20344.5L287.5%20460L489%20344.5L287.5%20229Z'%20stroke='url(%23paint0_linear_102_7)'%20stroke-width='59'%20stroke-linejoin='round'/%3e%3cpath%20d='M287.5%20116L86%20231.5L287.5%20347L489%20231.5L287.5%20116Z'%20stroke='url(%23paint1_linear_102_7)'%20stroke-width='59'%20stroke-linejoin='round'/%3e%3cpath%20d='M86%20344L288%20229'%20stroke='url(%23paint2_linear_102_7)'%20stroke-width='59'%20stroke-linejoin='bevel'/%3e%3cdefs%3e%3clinearGradient%20id='paint0_linear_102_7'%20x1='60'%20y1='341'%20x2='429.5'%20y2='344'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%23F9D100'/%3e%3cstop%20offset='1'%20stop-color='%23F97700'/%3e%3c/linearGradient%3e%3clinearGradient%20id='paint1_linear_102_7'%20x1='513.5'%20y1='231'%20x2='143.5'%20y2='231'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%23F9D100'/%3e%3cstop%20offset='1'%20stop-color='%23F97700'/%3e%3c/linearGradient%3e%3clinearGradient%20id='paint2_linear_102_7'%20x1='60'%20y1='344'%20x2='428.987'%20y2='341.811'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%23F9D100'/%3e%3cstop%20offset='1'%20stop-color='%23F97700'/%3e%3c/linearGradient%3e%3c/defs%3e%3c/svg%3e",ko="data:image/svg+xml,%3csvg%20width='28'%20height='28'%20viewBox='0%200%2028%2028'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M26.9425%202.94265C27.4632%202.42195%2027.4632%201.57773%2026.9425%201.05703C26.4218%200.536329%2025.5776%200.536329%2025.0569%201.05703L22.5713%203.54256C21.1213%202.59333%2019.5367%202.43378%2018.1753%202.64006C16.5495%202.88638%2015.1127%203.66838%2014.3905%204.39053L12.3905%206.39053C12.1405%206.64058%2012%206.97972%2012%207.33334C12%207.68697%2012.1405%208.0261%2012.3905%208.27615L19.7239%2015.6095C20.2446%2016.1302%2021.0888%2016.1302%2021.6095%2015.6095L23.6095%2013.6095C24.3316%2012.8873%2025.1136%2011.4505%2025.36%209.82475C25.5663%208.46312%2025.4066%206.87827%2024.4571%205.42807L26.9425%202.94265Z'%20fill='%233c4555'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M12.276%2012.9426C12.7967%2012.4219%2012.7967%2011.5777%2012.276%2011.057C11.7553%2010.5363%2010.9111%2010.5363%2010.3904%2011.057L8.66651%2012.7809L8.27615%2012.3905C8.0261%2012.1405%207.68697%2012%207.33334%2012C6.97972%2012%206.64058%2012.1405%206.39053%2012.3905L4.39053%2014.3905C3.66838%2015.1127%202.88638%2016.5495%202.64006%2018.1753C2.43377%2019.5367%202.59333%2021.1214%203.54262%2022.5714L1.05703%2025.057C0.536329%2025.5777%200.536329%2026.4219%201.05703%2026.9426C1.57773%2027.4633%202.42195%2027.4633%202.94265%2026.9426L5.42817%2024.4571C6.87835%2025.4066%208.46315%2025.5663%209.82475%2025.36C11.4505%2025.1136%2012.8873%2024.3316%2013.6095%2023.6095L15.6095%2021.6095C16.1302%2021.0888%2016.1302%2020.2446%2015.6095%2019.7239L15.2188%2019.3332L16.9426%2017.6093C17.4633%2017.0886%2017.4633%2016.2444%2016.9426%2015.7237C16.4219%2015.203%2015.5777%2015.203%2015.057%2015.7237L13.3332%2017.4475L10.5521%2014.6665L12.276%2012.9426Z'%20fill='%23FF7C00'/%3e%3c/svg%3e",Eo="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20xmlns='http://www.w3.org/2000/svg'%3e%3c!--%20Outer%20gear%20teeth%20(gray)%20--%3e%3cpath%20d='M19.14%2012.94c.04-.3.06-.61.06-.94%200-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24%200-.43.17-.47.41l-.36%202.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47%200-.59.22L2.74%208.87c-.12.21-.08.47.12.61l2.03%201.58c-.05.3-.07.62-.07.94s.02.64.07.94l-2.03%201.58c-.18.14-.23.41-.12.61l1.92%203.32c.12.22.37.29.59.22l2.39-.96c.5.38%201.03.7%201.62.94l.36%202.54c.05.24.24.41.48.41h3.84c.24%200%20.44-.17.47-.41l.36-2.54c.59-.24%201.13-.56%201.62-.94l2.39.96c.22.08.47%200%20.59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12%2015.6c-1.98%200-3.6-1.62-3.6-3.6s1.62-3.6%203.6-3.6%203.6%201.62%203.6%203.6-1.62%203.6-3.6%203.6z'%20fill='%23808080'/%3e%3c!--%20Inner%20circle%20(now%20gray)%20--%3e%3ccircle%20cx='12'%20cy='12'%20r='2.5'%20fill='%23808080'/%3e%3c/svg%3e",So="data:image/svg+xml,%3csvg%20viewBox='0%200%2020%2020'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20fill='%23000000'%3e%3cg%20id='SVGRepo_bgCarrier'%20stroke-width='0'%3e%3c/g%3e%3cg%20id='SVGRepo_tracerCarrier'%20stroke-linecap='round'%20stroke-linejoin='round'%3e%3c/g%3e%3cg%20id='SVGRepo_iconCarrier'%3e%3ctitle%3erecord%20[%23982]%3c/title%3e%3cdesc%3eCreated%20with%20Sketch.%3c/desc%3e%3cdefs%3e%3c/defs%3e%3cg%20id='Page-1'%20stroke='none'%20stroke-width='1'%20fill='none'%20fill-rule='evenodd'%3e%3cg%20id='Dribbble-Light-Preview'%20transform='translate(-380.000000,%20-3839.000000)'%20fill='%23FF0000'%3e%3cg%20id='icons'%20transform='translate(56.000000,%20160.000000)'%3e%3cpath%20d='M338,3689%20C338,3691.209%20336.209,3693%20334,3693%20C331.791,3693%20330,3691.209%20330,3689%20C330,3686.791%20331.791,3685%20334,3685%20C336.209,3685%20338,3686.791%20338,3689%20M334,3697%20C329.589,3697%20326,3693.411%20326,3689%20C326,3684.589%20329.589,3681%20334,3681%20C338.411,3681%20342,3684.589%20342,3689%20C342,3693.411%20338.411,3697%20334,3697%20M334,3679%20C328.477,3679%20324,3683.477%20324,3689%20C324,3694.523%20328.477,3699%20334,3699%20C339.523,3699%20344,3694.523%20344,3689%20C344,3683.477%20339.523,3679%20334,3679'%20id='record-[%23982]'%3e%3c/path%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/svg%3e";let pe=!1,ye=null,Pt=[],ht=0,ke={},Bn,ft,Re=null,Ve=[];function Co(i,e,t){Bn=i,ft=e,t&&(Re=t)}async function zo(){if(!pe)try{const i=document.title;document.title="[Sharing] Gradio Tab";const e=await navigator.mediaDevices.getDisplayMedia({video:{width:{ideal:1920},height:{ideal:1080},frameRate:{ideal:30}},audio:!0,selfBrowserSurface:"include"});document.title=i;const t={videoBitsPerSecond:5e6};ye=new MediaRecorder(e,t),Pt=[],ke={},ye.ondataavailable=Ro,ye.onstop=Oo,ye.start(1e3),pe=!0,Re&&Re(!0),ht=Date.now()}catch(i){ft("Recording Error","Failed to start recording: "+i.message,"error")}}function Mo(){!pe||!ye||(ye.stop(),pe=!1,Re&&Re(!1))}function Lo(){if(!pe)return;const i=(Date.now()-ht)/1e3;ke.start=i}function yo(){if(!pe||ke.start===void 0)return;const i=(Date.now()-ht)/1e3;ke.end=i}function No(i,e){if(!pe)return;const t=30,n=(Date.now()-ht)/1e3,s=Math.floor(i?(n-2)*t:n*t);if(e.boundingBox&&e.boundingBox.topLeft&&e.boundingBox.bottomRight&&e.boundingBox.topLeft.length===2&&e.boundingBox.bottomRight.length===2){const o=e.duration||2,f=s+Math.floor(o*t);Ve.some(a=>{const r=a.start_frame+Math.floor((a.duration||2)*t);return s>=a.start_frame&&s<=r||f>=a.start_frame&&f<=r||s<=a.start_frame&&f>=r})||Ve.push({boundingBox:e.boundingBox,start_frame:s,duration:o})}}function mn(i,e,t=2){if(pe)try{setTimeout(()=>{if(!e||e.length===0)return;let n=1/0,s=1/0,o=0,f=0,c=!1;for(const k of e){const R=`#component-${k}`,h=document.querySelector(R);if(h){c=!0;const N=h.getBoundingClientRect();n=Math.min(n,N.left),s=Math.min(s,N.top),o=Math.max(o,N.right),f=Math.max(f,N.bottom)}}if(!c)return;const a=window.innerWidth,r=window.innerHeight,u=Math.min(o,a)-Math.max(0,n),m=Math.min(f,r)-Math.max(0,s),_=u/a,p=m/r;if(_>=.8||p>=.8)return;const S=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);let g=[Math.max(0,n)/a,Math.max(0,s)/r],w=[Math.min(o,a)/a,Math.min(f,r)/r];if(S){g[0]=Math.max(0,g[0]*.9),w[0]=Math.min(1,w[0]*.9);const k=w[0]-g[0],h=(g[0]+w[0])/2*.9;g[0]=Math.max(0,h-k/2),w[0]=Math.min(1,h+k/2)}g[0]=Math.max(0,g[0]),g[1]=Math.max(0,g[1]),w[0]=Math.min(1,w[0]),w[1]=Math.min(1,w[1]),No(i,{boundingBox:{topLeft:g,bottomRight:w},duration:t})},300)}catch{}}function Ro(i){i.data.size>0&&Pt.push(i.data)}function Oo(){pe=!1,Re&&Re(!1);const i=new Blob(Pt,{type:"video/mp4"});Ao(i),(ye?.stream?.getTracks()||[]).forEach(t=>t.stop())}async function Ao(i){try{ft("Processing video","This may take a few seconds...","info");const e=new FormData;e.append("video",i,"recording.mp4"),ke.start!==void 0&&ke.end!==void 0&&(e.append("remove_segment_start",ke.start.toString()),e.append("remove_segment_end",ke.end.toString())),Ve.length>0&&e.append("zoom_effects",JSON.stringify(Ve));const t=await fetch(Bn+"/gradio_api/process_recording",{method:"POST",body:e});if(!t.ok)throw new Error(`Server returned ${t.status}: ${t.statusText}`);const n=await t.blob(),s=`gradio-screen-recording-${new Date().toISOString().replace(/:/g,"-").replace(/\..+/,"")}.mp4`;dn(n,s),Ve=[]}catch{ft("Processing Error","Failed to process recording. Saving original version.","warning");const t=`gradio-screen-recording-${new Date().toISOString().replace(/:/g,"-").replace(/\..+/,"")}.mp4`;dn(i,t)}}function dn(i,e){const t=URL.createObjectURL(i),n=document.createElement("a");n.style.display="none",n.href=t,n.download=e,document.body.appendChild(n),n.click(),setTimeout(()=>{document.body.removeChild(n),URL.revokeObjectURL(t)},100)}const{HtmlTag:To,SvelteComponent:Po,add_flush_callback:hn,append:T,attr:y,bind:ot,binding_callbacks:st,check_outros:re,component_subscribe:Te,construct_svelte_component:Se,create_component:ae,destroy_component:ce,detach:J,element:Q,empty:He,flush:F,group_outros:le,init:Do,insert:K,listen:Ee,mount_component:_e,noop:yt,run_all:In,safe_not_equal:Bo,set_data:Ze,set_store_value:Io,set_style:Pe,space:Y,src_url_equal:ct,text:Je,toggle_class:rt,transition_in:I,transition_out:W}=window.__gradio__svelte__internal,{tick:lt,onMount:jo}=window.__gradio__svelte__internal;function gn(i){return document.title=i[2],{c:yt,m:yt,d:yt}}function pn(i){let e,t=`<style>${Ht(i[15],i[12])}</style>`,n;return{c(){e=new To(!1),n=He(),e.a=n},m(s,o){e.m(t,s,o),K(s,n,o)},p(s,o){o[0]&36864&&t!==(t=`<style>${Ht(s[15],s[12])}</style>`)&&e.p(t)},d(s){s&&(J(n),e.d())}}}function bn(i){let e,t;return e=new wo({props:{rootNode:i[17],root:i[0],target:i[3],theme_mode:i[9],version:i[12],autoscroll:i[4],max_file_size:i[14],client:i[10]}}),e.$on("mount",i[42]),{c(){ae(e.$$.fragment)},m(n,s){_e(e,n,s),t=!0},p(n,s){const o={};s[0]&131072&&(o.rootNode=n[17]),s[0]&1&&(o.root=n[0]),s[0]&8&&(o.target=n[3]),s[0]&512&&(o.theme_mode=n[9]),s[0]&4096&&(o.version=n[12]),s[0]&16&&(o.autoscroll=n[4]),s[0]&16384&&(o.max_file_size=n[14]),s[0]&1024&&(o.client=n[10]),e.$set(o)},i(n){t||(I(e.$$.fragment,n),t=!0)},o(n){W(e.$$.fragment,n),t=!1},d(n){ce(e,n)}}}function wn(i){let e,t,n,s=i[31]("common.built_with_gradio")+"",o,f,c,a,r,u,m,_,p,S=i[31]("common.stop_recording")+"",g,w,k,R,h,N,z,D,d,M=i[31]("common.settings")+"",C,ee,x,fe,ne,ue,Ce,G=i[5]&&vn(i);return{c(){e=Q("footer"),G&&G.c(),t=Y(),n=Q("a"),o=Je(s),f=Y(),c=Q("img"),u=Y(),m=Q("div"),m.textContent="·",_=Y(),p=Q("button"),g=Je(S),w=Y(),k=Q("img"),N=Y(),z=Q("div"),z.textContent="·",D=Y(),d=Q("button"),C=Je(M),ee=Y(),x=Q("img"),ct(c.src,a=vo)||y(c,"src",a),y(c,"alt",r=i[31]("common.logo")),y(c,"class","svelte-czcr5b"),y(n,"href","https://gradio.app"),y(n,"class","built-with svelte-czcr5b"),y(n,"target","_blank"),y(n,"rel","noreferrer"),y(m,"class","divider svelte-czcr5b"),rt(m,"hidden",!i[30]),ct(k.src,R=So)||y(k,"src",R),y(k,"alt",h=i[31]("common.stop_recording")),y(k,"class","svelte-czcr5b"),y(p,"class","record svelte-czcr5b"),rt(p,"hidden",!i[30]),y(z,"class","divider svelte-czcr5b"),ct(x.src,fe=Eo)||y(x,"src",fe),y(x,"alt",ne=i[31]("common.settings")),y(x,"class","svelte-czcr5b"),y(d,"class","settings svelte-czcr5b"),y(e,"class","svelte-czcr5b")},m(U,$){K(U,e,$),G&&G.m(e,null),T(e,t),T(e,n),T(n,o),T(n,f),T(n,c),T(e,u),T(e,m),T(e,_),T(e,p),T(p,g),T(p,w),T(p,k),T(e,N),T(e,z),T(e,D),T(e,d),T(d,C),T(d,ee),T(d,x),ue||(Ce=[Ee(p,"click",i[60]),Ee(d,"click",i[61]),Ee(d,"mouseenter",i[62])],ue=!0)},p(U,$){U[5]?G?G.p(U,$):(G=vn(U),G.c(),G.m(e,t)):G&&(G.d(1),G=null),$[1]&1&&s!==(s=U[31]("common.built_with_gradio")+"")&&Ze(o,s),$[1]&1&&r!==(r=U[31]("common.logo"))&&y(c,"alt",r),$[0]&1073741824&&rt(m,"hidden",!U[30]),$[1]&1&&S!==(S=U[31]("common.stop_recording")+"")&&Ze(g,S),$[1]&1&&h!==(h=U[31]("common.stop_recording"))&&y(k,"alt",h),$[0]&1073741824&&rt(p,"hidden",!U[30]),$[1]&1&&M!==(M=U[31]("common.settings")+"")&&Ze(C,M),$[1]&1&&ne!==(ne=U[31]("common.settings"))&&y(x,"alt",ne)},d(U){U&&J(e),G&&G.d(),ue=!1,In(Ce)}}}function vn(i){let e,t,n,s,o,f,c,a,r;function u(p,S){return p[10].config?.mcp_server?Go:Fo}let m=u(i),_=m(i);return{c(){e=Q("button"),_.c(),t=Y(),n=Q("img"),f=Y(),c=Q("div"),c.textContent="·",ct(n.src,s=ko)||y(n,"src",s),y(n,"alt",o=i[31]("common.logo")),y(n,"class","svelte-czcr5b"),y(e,"class","show-api svelte-czcr5b"),y(c,"class","divider show-api-divider svelte-czcr5b")},m(p,S){K(p,e,S),_.m(e,null),T(e,t),T(e,n),K(p,f,S),K(p,c,S),a||(r=[Ee(e,"click",i[58]),Ee(e,"mouseenter",i[59])],a=!0)},p(p,S){m===(m=u(p))&&_?_.p(p,S):(_.d(1),_=m(p),_&&(_.c(),_.m(e,t))),S[1]&1&&o!==(o=p[31]("common.logo"))&&y(n,"alt",o)},d(p){p&&(J(e),J(f),J(c)),_.d(),a=!1,In(r)}}}function Fo(i){let e=i[31]("errors.use_via_api")+"",t;return{c(){t=Je(e)},m(n,s){K(n,t,s)},p(n,s){s[1]&1&&e!==(e=n[31]("errors.use_via_api")+"")&&Ze(t,e)},d(n){n&&J(t)}}}function Go(i){let e=i[31]("errors.use_via_api_or_mcp")+"",t;return{c(){t=Je(e)},m(n,s){K(n,t,s)},p(n,s){s[1]&1&&e!==(e=n[31]("errors.use_via_api_or_mcp")+"")&&Ze(t,e)},d(n){n&&J(t)}}}function kn(i){let e,t,n,s,o;var f=i[25];function c(a,r){return{props:{api_calls:a[28],dependencies:a[1]}}}return f&&(t=Se(f,c(i))),{c(){e=Q("div"),t&&ae(t.$$.fragment),y(e,"id","api-recorder-container"),y(e,"class","svelte-czcr5b")},m(a,r){K(a,e,r),t&&_e(t,e,null),n=!0,s||(o=Ee(e,"click",i[63]),s=!0)},p(a,r){if(r[0]&33554432&&f!==(f=a[25])){if(t){le();const u=t;W(u.$$.fragment,1,0,()=>{ce(u,1)}),re()}f?(t=Se(f,c(a)),ae(t.$$.fragment),I(t.$$.fragment,1),_e(t,e,null)):t=null}else if(f){const u={};r[0]&268435456&&(u.api_calls=a[28]),r[0]&2&&(u.dependencies=a[1]),t.$set(u)}},i(a){n||(t&&I(t.$$.fragment,a),n=!0)},o(a){t&&W(t.$$.fragment,a),n=!1},d(a){a&&J(e),t&&ce(t),s=!1,o()}}}function En(i){let e,t,n,s,o,f,c,a;var r=i[24];function u(m,_){return{props:{root_node:m[17],dependencies:m[1],root:m[0],app:m[10],space_id:m[11],api_calls:m[28],username:m[13]}}}return r&&(o=Se(r,u(i)),o.$on("close",i[65])),{c(){e=Q("div"),t=Q("div"),n=Y(),s=Q("div"),o&&ae(o.$$.fragment),y(t,"class","backdrop svelte-czcr5b"),y(s,"class","api-docs-wrap svelte-czcr5b"),y(e,"class","api-docs svelte-czcr5b")},m(m,_){K(m,e,_),T(e,t),T(e,n),T(e,s),o&&_e(o,s,null),f=!0,c||(a=Ee(t,"click",i[64]),c=!0)},p(m,_){if(_[0]&16777216&&r!==(r=m[24])){if(o){le();const p=o;W(p.$$.fragment,1,0,()=>{ce(p,1)}),re()}r?(o=Se(r,u(m)),o.$on("close",m[65]),ae(o.$$.fragment),I(o.$$.fragment,1),_e(o,s,null)):o=null}else if(r){const p={};_[0]&131072&&(p.root_node=m[17]),_[0]&2&&(p.dependencies=m[1]),_[0]&1&&(p.root=m[0]),_[0]&1024&&(p.app=m[10]),_[0]&2048&&(p.space_id=m[11]),_[0]&268435456&&(p.api_calls=m[28]),_[0]&8192&&(p.username=m[13]),o.$set(p)}},i(m){f||(o&&I(o.$$.fragment,m),f=!0)},o(m){o&&W(o.$$.fragment,m),f=!1},d(m){m&&J(e),o&&ce(o),c=!1,a()}}}function Sn(i){let e,t,n,s,o,f,c,a,r,u;function m(g){i[67](g)}function _(g){i[68](g)}var p=i[26];function S(g,w){let k={pwa_enabled:g[10].config.pwa,root:g[0],space_id:g[11]};return g[22]!==void 0&&(k.allow_zoom=g[22]),g[23]!==void 0&&(k.allow_video_trim=g[23]),{props:k}}return p&&(o=Se(p,S(i)),st.push(()=>ot(o,"allow_zoom",m)),st.push(()=>ot(o,"allow_video_trim",_)),o.$on("close",i[69]),o.$on("start_recording",i[70])),{c(){e=Q("div"),t=Q("div"),n=Y(),s=Q("div"),o&&ae(o.$$.fragment),y(t,"class","backdrop svelte-czcr5b"),y(s,"class","api-docs-wrap svelte-czcr5b"),y(e,"class","api-docs svelte-czcr5b")},m(g,w){K(g,e,w),T(e,t),T(e,n),T(e,s),o&&_e(o,s,null),a=!0,r||(u=Ee(t,"click",i[66]),r=!0)},p(g,w){if(w[0]&67108864&&p!==(p=g[26])){if(o){le();const k=o;W(k.$$.fragment,1,0,()=>{ce(k,1)}),re()}p?(o=Se(p,S(g)),st.push(()=>ot(o,"allow_zoom",m)),st.push(()=>ot(o,"allow_video_trim",_)),o.$on("close",g[69]),o.$on("start_recording",g[70]),ae(o.$$.fragment),I(o.$$.fragment,1),_e(o,s,null)):o=null}else if(p){const k={};w[0]&1024&&(k.pwa_enabled=g[10].config.pwa),w[0]&1&&(k.root=g[0]),w[0]&2048&&(k.space_id=g[11]),!f&&w[0]&4194304&&(f=!0,k.allow_zoom=g[22],hn(()=>f=!1)),!c&&w[0]&8388608&&(c=!0,k.allow_video_trim=g[23],hn(()=>c=!1)),o.$set(k)}},i(g){a||(o&&I(o.$$.fragment,g),a=!0)},o(g){o&&W(o.$$.fragment,g),a=!1},d(g){g&&J(e),o&&ce(o),r=!1,u()}}}function Cn(i){let e,t;return e=new Ci({props:{messages:i[29]}}),e.$on("close",i[41]),{c(){ae(e.$$.fragment)},m(n,s){_e(e,n,s),t=!0},p(n,s){const o={};s[0]&536870912&&(o.messages=n[29]),e.$set(o)},i(n){t||(I(e.$$.fragment,n),t=!0)},o(n){W(e.$$.fragment,n),t=!1},d(n){ce(e,n)}}}function zn(i){let e,t,n;var s=i[27];function o(f,c){return{props:{app:f[10],root:f[0]}}}return s&&(e=Se(s,o(i))),{c(){e&&ae(e.$$.fragment),t=He()},m(f,c){e&&_e(e,f,c),K(f,t,c),n=!0},p(f,c){if(c[0]&134217728&&s!==(s=f[27])){if(e){le();const a=e;W(a.$$.fragment,1,0,()=>{ce(a,1)}),re()}s?(e=Se(s,o(f)),ae(e.$$.fragment),I(e.$$.fragment,1),_e(e,t.parentNode,t)):e=null}else if(s){const a={};c[0]&1024&&(a.app=f[10]),c[0]&1&&(a.root=f[0]),e.$set(a)}},i(f){n||(e&&I(e.$$.fragment,f),n=!0)},o(f){e&&W(e.$$.fragment,f),n=!1},d(f){f&&J(t),e&&ce(e,f)}}}function Uo(i){let e,t,n,s,o,f,c,a,r,u,m,_,p,S=i[7]&&gn(i),g=i[15]&&pn(i),w=i[17]&&i[10].config&&bn(i),k=i[6]&&wn(i),R=i[21]&&i[25]&&kn(i),h=i[19]&&i[17]&&i[24]&&En(i),N=i[20]&&i[17]&&i[10].config&&i[26]&&Sn(i),z=i[29]&&Cn(i),D=i[16]&&i[27]&&zn(i);return{c(){S&&S.c(),e=He(),g&&g.c(),t=He(),n=Y(),s=Q("div"),o=Q("div"),w&&w.c(),f=Y(),k&&k.c(),c=Y(),R&&R.c(),a=Y(),h&&h.c(),r=Y(),N&&N.c(),u=Y(),z&&z.c(),m=Y(),D&&D.c(),_=He(),y(o,"class","contain svelte-czcr5b"),Pe(o,"flex-grow",i[8]?"1":"auto"),Pe(o,"margin-right",i[16]?`${i[18]}px`:"0"),y(s,"class","wrap svelte-czcr5b"),Pe(s,"min-height",i[8]?"100%":"auto")},m(d,M){S&&S.m(document.head,null),T(document.head,e),g&&g.m(document.head,null),T(document.head,t),K(d,n,M),K(d,s,M),T(s,o),w&&w.m(o,null),T(s,f),k&&k.m(s,null),K(d,c,M),R&&R.m(d,M),K(d,a,M),h&&h.m(d,M),K(d,r,M),N&&N.m(d,M),K(d,u,M),z&&z.m(d,M),K(d,m,M),D&&D.m(d,M),K(d,_,M),p=!0},p(d,M){d[7]?S||(S=gn(d),S.c(),S.m(e.parentNode,e)):S&&(S.d(1),S=null),d[15]?g?g.p(d,M):(g=pn(d),g.c(),g.m(t.parentNode,t)):g&&(g.d(1),g=null),d[17]&&d[10].config?w?(w.p(d,M),M[0]&132096&&I(w,1)):(w=bn(d),w.c(),I(w,1),w.m(o,null)):w&&(le(),W(w,1,1,()=>{w=null}),re()),M[0]&256&&Pe(o,"flex-grow",d[8]?"1":"auto"),M[0]&327680&&Pe(o,"margin-right",d[16]?`${d[18]}px`:"0"),d[6]?k?k.p(d,M):(k=wn(d),k.c(),k.m(s,null)):k&&(k.d(1),k=null),M[0]&256&&Pe(s,"min-height",d[8]?"100%":"auto"),d[21]&&d[25]?R?(R.p(d,M),M[0]&35651584&&I(R,1)):(R=kn(d),R.c(),I(R,1),R.m(a.parentNode,a)):R&&(le(),W(R,1,1,()=>{R=null}),re()),d[19]&&d[17]&&d[24]?h?(h.p(d,M),M[0]&17432576&&I(h,1)):(h=En(d),h.c(),I(h,1),h.m(r.parentNode,r)):h&&(le(),W(h,1,1,()=>{h=null}),re()),d[20]&&d[17]&&d[10].config&&d[26]?N?(N.p(d,M),M[0]&68289536&&I(N,1)):(N=Sn(d),N.c(),I(N,1),N.m(u.parentNode,u)):N&&(le(),W(N,1,1,()=>{N=null}),re()),d[29]?z?(z.p(d,M),M[0]&536870912&&I(z,1)):(z=Cn(d),z.c(),I(z,1),z.m(m.parentNode,m)):z&&(le(),W(z,1,1,()=>{z=null}),re()),d[16]&&d[27]?D?(D.p(d,M),M[0]&134283264&&I(D,1)):(D=zn(d),D.c(),I(D,1),D.m(_.parentNode,_)):D&&(le(),W(D,1,1,()=>{D=null}),re())},i(d){p||(I(w),I(R),I(h),I(N),I(z),I(D),p=!0)},o(d){W(w),W(R),W(h),W(N),W(z),W(D),p=!1},d(d){d&&(J(n),J(s),J(c),J(a),J(r),J(u),J(m),J(_)),S&&S.d(d),J(e),g&&g.d(d),J(t),w&&w.d(),k&&k.d(),R&&R.d(d),h&&h.d(d),N&&N.d(d),z&&z.d(d),D&&D.d(d)}}}const qo=/^'([^]+)'$/,Nt="Connection to the server was lost. Attempting reconnection...",Wo="Reconnected to server, but the server has changed. You may need to <a href=''>refresh the page</a>.",Vo="Connection re-established.",Ho="Session not found - this is likely because the machine you were connected to has changed. <a href=''>Refresh the page</a> to continue.",Zo=15,Jo=10;function Mn(i){return"detail"in i}function Qo(i,e,t){let n,s,o,f,c,a;Te(i,vi,l=>t(31,c=l));let{root:r}=e,{components:u}=e,{layout:m}=e,{dependencies:_}=e,{title:p="Gradio"}=e,{target:S}=e,{autoscroll:g}=e,{show_api:w=!0}=e,{show_footer:k=!0}=e,{control_page_title:R=!1}=e,{app_mode:h}=e,{theme_mode:N}=e,{app:z}=e,{space_id:D}=e,{version:d}=e,{js:M}=e,{fill_height:C=!1}=e,{ready:ee}=e,{username:x}=e,{api_prefix:fe=""}=e,{max_file_size:ne=void 0}=e,{initial_layout:ue=void 0}=e,{css:Ce=null}=e,{vibe_mode:G=!1}=e,U=!1,{layout:$,targets:Dt,update_value:Be,get_data:Bt,modify_stream:gt,get_stream_state:It,set_time_limit:jn,loading_status:Oe,scheduled_updates:pt,create_layout:Fn,rerender_layout:Gn,value_change:Un}=ki({initial_layout:ue});Te(i,$,l=>t(17,a=l)),Te(i,Dt,l=>t(77,o=l)),Te(i,Oe,l=>t(57,s=l)),Te(i,pt,l=>t(78,f=l));let bt=_,jt=350;async function qn(){await Ei(z.config?.i18n_translations||void 0),t(56,nt=!0),await Fn({components:u,layout:m,dependencies:_,root:r+fe,app:z,options:{fill_height:C}}),t(56,nt=!1)}let{search_params:Ie}=e,Ke=Ie.get("view")==="api"&&w,je=Ie.get("view")==="settings",ze=Ie.get("view")==="api-recorder"&&w,Ye=!0,Fe=!0,Xe=null,Ae=null,wt=null,vt=null;async function $e(){if(!Xe||!Ae){const l=await We(()=>import("./ApiDocs-CZwTtU3T.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25]),import.meta.url),E=await We(()=>import("./ApiRecorder-D7_5CoRi.js"),__vite__mapDeps([26,2,3,4,5,6,7,8,9,10,11,12,13,14,15,27]),import.meta.url);Xe||t(24,Xe=l.default),Ae||t(25,Ae=E.default)}}async function kt(){if(!Ae){const l=await We(()=>import("./ApiRecorder-D7_5CoRi.js"),__vite__mapDeps([26,2,3,4,5,6,7,8,9,10,11,12,13,14,15,27]),import.meta.url);t(25,Ae=l.default)}}async function xe(){if(!wt){const l=await We(()=>import("./Settings-C5oP3g1U.js"),__vite__mapDeps([28,2,3,1,10,11,12,29,23,30,31,32,14,33,34,17,18,35,36,22,24,37,38]),import.meta.url);t(26,wt=l.default)}}async function Wn(){if(!vt){const l=await We(()=>import("./Index-CmRbJgcA.js"),__vite__mapDeps([39,2,3,40,7,8,41,10,11,12,17,18,42,14,43]),import.meta.url);t(27,vt=l.default)}}async function Ge(l){t(21,ze=!1),l&&await $e(),t(19,Ke=l);let E=new URLSearchParams(window.location.search);l?E.set("view","api"):E.delete("view"),history.replaceState(null,"","?"+E.toString())}async function et(l){l&&await xe();let E=new URLSearchParams(window.location.search);l?E.set("view","settings"):E.delete("view"),history.replaceState(null,"","?"+E.toString()),t(20,je=!je)}let tt=[],nt=!1,{render_complete:Ue=!1}=e;async function Et(l,E){const v=_.find(q=>q.id===E),j=u.find(q=>q.id===v?.inputs[0])?.type;if(Ye&&v&&j!=="dataset"&&(v&&v.inputs&&v.inputs.length>0&&n&&mn(!0,v.inputs,1),v&&v.outputs&&v.outputs.length>0&&n&&mn(!1,v.outputs,2)),!v)return;const b=v.outputs,B=l?.map((q,ie)=>({id:b[ie],prop:"value_is_output",value:!0}));Be(B),await lt();const V=[];l?.forEach((q,ie)=>{if(typeof q=="object"&&q!==null&&q.__type__==="update")for(const[Le,L]of Object.entries(q))Le!=="__type__"&&V.push({id:b[ie],prop:Le,value:L});else V.push({id:b[ie],prop:"value",value:q})}),Be(V),await lt()}let me=new Map,O=[];function te(l,E,v,j,b=10,B=!0){return{title:l,message:E,fn_index:v,type:j,id:++Vn,duration:b,visible:B}}function St(l,E,v){t(29,O=[te(l,E,-1,v),...O])}let Vn=-1;const Hn=c("blocks.long_requests_queue"),Zn=c("blocks.connection_can_break"),Jn=c("blocks.waiting_for_inputs");let Ft=!1,Gt=!1,Ut=!1,qe=[];function Me(l,E=null,v=null){let j=()=>{};function b(){j()}f?j=pt.subscribe(B=>{B||lt().then(()=>{qt(l,E,v),b()})}):qt(l,E,v)}async function Qn(l,E,v){return l===E&&v&&v.is_value_data===!0?v.value:Bt(l)}async function qt(l,E=null,v=null){const j=_.find(L=>L.id===l);if(j===void 0)return;const b=j;if(qe.length>0){for(const L of qe)if(b.inputs.includes(L)){St("Warning",Jn,"warning");return}}const B=Oe.get_status_for_fn(l);t(29,O=O.filter(({fn_index:L})=>L!==l)),(B==="pending"||B==="generating")&&(b.pending_request=!0);let V={fn_index:l,data:await Promise.all(b.inputs.map(L=>Qn(L,E,v))),event_data:b.collects_event_data?v:null,trigger_id:E};b.frontend_fn&&typeof b.frontend_fn!="boolean"?b.frontend_fn(V.data.concat(await Promise.all(b.outputs.map(L=>Bt(L))))).then(L=>{b.backend_fn?(V.data=L,q(b,V)):Et(L,l)}):b.types.cancel&&b.cancels?await Promise.all(b.cancels.map(async L=>{const H=me.get(L);return H?.cancel(),H})):b.backend_fn&&(b.js_implementation&&new Zt(`let result = await (${b.js_implementation})(...arguments);
						return (!Array.isArray(result)) ? [result] : result;`)(...V.data).then(H=>{Et(H,l),V.js_implementation=!0}).catch(H=>{console.error(H),V.js_implementation=!1}),q(b,V));function q(L,H){L.trigger_mode==="once"?L.pending_request||Le(H,L.connection=="stream"):L.trigger_mode==="multiple"?Le(H,L.connection=="stream"):L.trigger_mode==="always_last"&&(L.pending_request?L.final_event=H:Le(H,L.connection=="stream"))}async function ie(){const L=await z.reconnect();L==="broken"?setTimeout(ie,1e3):L==="changed"?(U=!1,t(29,O=[te("Changed Connection",Wo,-1,"info",3,!0),...O.map(H=>H.message===Nt?{...H,visible:!1}:H)])):L==="connected"&&(U=!1,t(29,O=[te("Reconnected",Vo,-1,"success",null,!0),...O.map(H=>H.message===Nt?{...H,visible:!1}:H)]))}async function Le(L,H=!1){Fe&&Lo(),ze&&t(28,tt=[...tt,JSON.parse(JSON.stringify(L))]);let Mt;if(z.set_current_payload(L),H)if(!me.has(l))b.inputs.forEach(P=>gt(P,"waiting"));else{if(me.has(l)&&b.inputs.some(P=>It(P)==="waiting"))return;if(me.has(l)&&b.inputs.some(P=>It(P)==="open")){await z.send_ws_message(`${z.config.root+z.config.api_prefix}/stream/${me.get(l).event_id()}`,{...L,session_hash:z.session_hash});return}}try{Mt=z.submit(L.fn_index,L.data,L.event_data,L.trigger_id)}catch(P){if(z.closed)return;t(29,O=[te("Error",String(P),0,"error"),...O]),Oe.update({status:"error",fn_index:0,eta:0,queue:!1,queue_position:null}),it(s);return}me.set(l,Mt);for await(const P of Mt){if(L.js_implementation)return;P.type==="data"?mi(P):P.type==="render"?di(P):P.type==="status"?pi(P):P.type==="log"&&hi(P)}function mi(P){const{data:X,fn_index:A}=P;b.pending_request&&b.final_event&&(b.pending_request=!1,Le(b.final_event,b.connection=="stream")),b.pending_request=!1,Et(X,A),it(s)}function di(P){const{data:X}=P;let A=X.components,Z=X.layout,oe=X.dependencies,be=X.render_id,we=[];_.forEach((de,Lt)=>{de.rendered_in===b.render_id&&we.push(Lt)}),we.reverse().forEach(de=>{_.splice(de,1)}),oe.forEach(de=>{_.push(de)}),Gn({components:A,layout:Z,root:r+fe,dependencies:_,render_id:be}),oe.forEach(de=>{de.targets.some(Lt=>Lt[1]==="load")&&Me(de.id)})}function hi(P){const{title:X,log:A,fn_index:Z,level:oe,duration:be,visible:we}=P;t(29,O=[te(X,A,Z,oe,be,we),...O])}function gi(P,X,A){P.original_msg==="process_starts"&&A.connection==="stream"&&gt(X,"open")}function pi(P){P.broken&&!U&&(t(29,O=[te("Broken Connection",Nt,-1,"error",null,!0),...O]),U=!0,setTimeout(ie,1e3)),P.session_not_found&&t(29,O=[te("Session Not Found",Ho,-1,"error",null,!0),...O]);const{fn_index:X,...A}=P;if(A.stage==="streaming"&&A.time_limit&&b.inputs.forEach(Z=>{jn(Z,A.time_limit)}),b.inputs.forEach(Z=>{gi(P,Z,b)}),Oe.update({...A,time_limit:A.time_limit,status:A.stage,progress:A.progress_data,fn_index:X}),it(s),!Gt&&D!==null&&A.position!==void 0&&A.position>=2&&A.eta!==void 0&&A.eta>Zo&&(Gt=!0,t(29,O=[te("Warning",Hn,X,"warning"),...O])),!Ut&&Ft&&A.eta!==void 0&&A.eta>Jo&&(Ut=!0,t(29,O=[te("Warning",Zn,X,"warning"),...O])),A.stage==="complete"||A.stage==="generating"){const Z=new Set;A.changed_state_ids?.forEach(oe=>{_.filter(be=>be.targets.some(([we,de])=>we===oe)).forEach(be=>{Z.add(be)})}),Z.forEach(oe=>{Me(oe.id,L.trigger_id)})}if(A.stage==="complete"&&(_.forEach(async Z=>{Z.trigger_after===X&&Me(Z.id,L.trigger_id)}),b.inputs.forEach(Z=>{gt(Z,"closed")}),me.delete(l)),A.stage==="error"&&!U&&!P.session_not_found){if(A.message){const Z=A.message.replace(qo,(be,we)=>we),oe=A.title??"Error";t(29,O=[te(oe,Z,X,"error",A.duration,A.visible),...O])}_.map(async Z=>{Z.trigger_after===X&&!Z.trigger_only_on_success&&Me(Z.id,L.trigger_id)})}}Fe&&yo()}}function Kn(l,E){if(D===null)return;const v=new URL(`https://huggingface.co/spaces/${D}/discussions/new`);l!==void 0&&l.length>0&&v.searchParams.set("title",l),v.searchParams.set("description",E),window.open(v.toString(),"_blank")}function Yn(l){const E=l.detail;t(29,O=O.filter(v=>v.id!==E))}const Xn=l=>!!(l&&new URL(l,location.href).origin!==location.origin);async function $n(){M&&await new Zt(`let result = await (${M})();
					return (!Array.isArray(result)) ? [result] : result;`)(),await lt();for(var l=S.getElementsByTagName("a"),E=0;E<l.length;E++){const v=l[E].getAttribute("target"),j=l[E].getAttribute("href");Xn(j)&&v!=="_blank"&&l[E].setAttribute("target","_blank")}Wt(),!(!S||Ue)&&(S.addEventListener("prop_change",v=>{if(!Mn(v))throw new Error("not a custom event");const{id:j,prop:b,value:B}=v.detail;Be([{id:j,prop:b,value:B}]),b==="input_ready"&&B===!1&&qe.push(j),b==="input_ready"&&B===!0&&(qe=qe.filter(V=>V!==j))}),S.addEventListener("gradio",v=>{if(!Mn(v))throw new Error("not a custom event");const{id:j,event:b,data:B}=v.detail;if(b==="share"){const{title:V,description:q}=B;Kn(V,q)}else b==="error"?t(29,O=[te("Error",B,-1,b),...O]):b==="warning"?t(29,O=[te("Warning",B,-1,b),...O]):b==="info"?t(29,O=[te("Info",B,-1,b),...O]):b=="clear_status"?xn(j,"complete",B):b=="close_stream"?o[j]?.[B]?.forEach(q=>{if(me.has(q)){const ie=`${z.config.root+z.config.api_prefix}/stream/${me.get(q).event_id()}`;z.post_data(`${ie}/close`,{}),z.close_ws(ie)}}):o[j]?.[b]?.forEach(q=>{requestAnimationFrame(()=>{Me(q,j,B)})})}),t(45,Ue=!0))}Un((l,E)=>{o[l]?.change?.forEach(j=>{requestAnimationFrame(()=>{Me(j,l,E)})})});const Wt=()=>{_.forEach(l=>{l.targets.some(E=>E[1]==="load")&&Me(l.id)})};function xn(l,E,v){v.status=E,Be([{id:l,prop:"loading_status",value:v}])}function it(l){let E=[];Object.entries(l).forEach(([b,B])=>{if(z.closed&&B.status==="error")return;let V=_.find(q=>q.id==B.fn_index);V!==void 0&&(B.scroll_to_output=V.scroll_to_output,B.show_progress=V.show_progress,E.push({id:parseInt(b),prop:"loading_status",value:B}))});const v=Oe.get_inputs_to_update(),j=Array.from(v).map(([b,B])=>({id:b,prop:"pending",value:B==="pending"}));Be([...E,...j])}let Ct=Si(!1);Te(i,Ct,l=>t(30,n=l)),jo(()=>{Ft=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),Co(r,(E,v,j)=>{St(E,v,j)},E=>{Io(Ct,n=E,n)});const l=E=>{t(18,jt=E.detail.width)};window.addEventListener("vibeEditorResize",l),Ke&&$e(),ze&&kt(),je&&xe(),G&&Wn()});function zt(){n?Mo():zo()}const ei=()=>{Ge(!Ke)},ti=()=>{$e(),kt()},ni=()=>{zt()},ii=()=>{et(!je)},oi=()=>{xe()},si=()=>{Ge(!0),t(21,ze=!1)},ri=()=>{Ge(!1)},li=l=>{Ge(!1),t(28,tt=[]),t(21,ze=t(21,ze=l.detail?.api_recorder_visible))},ai=()=>{et(!1)};function ci(l){Ye=l,t(22,Ye)}function _i(l){Fe=l,t(23,Fe)}const fi=()=>{et(!1)},ui=()=>{zt()};return i.$$set=l=>{"root"in l&&t(0,r=l.root),"components"in l&&t(47,u=l.components),"layout"in l&&t(48,m=l.layout),"dependencies"in l&&t(1,_=l.dependencies),"title"in l&&t(2,p=l.title),"target"in l&&t(3,S=l.target),"autoscroll"in l&&t(4,g=l.autoscroll),"show_api"in l&&t(5,w=l.show_api),"show_footer"in l&&t(6,k=l.show_footer),"control_page_title"in l&&t(7,R=l.control_page_title),"app_mode"in l&&t(8,h=l.app_mode),"theme_mode"in l&&t(9,N=l.theme_mode),"app"in l&&t(10,z=l.app),"space_id"in l&&t(11,D=l.space_id),"version"in l&&t(12,d=l.version),"js"in l&&t(49,M=l.js),"fill_height"in l&&t(50,C=l.fill_height),"ready"in l&&t(46,ee=l.ready),"username"in l&&t(13,x=l.username),"api_prefix"in l&&t(51,fe=l.api_prefix),"max_file_size"in l&&t(14,ne=l.max_file_size),"initial_layout"in l&&t(52,ue=l.initial_layout),"css"in l&&t(15,Ce=l.css),"vibe_mode"in l&&t(16,G=l.vibe_mode),"search_params"in l&&t(53,Ie=l.search_params),"render_complete"in l&&t(45,Ue=l.render_complete)},i.$$.update=()=>{i.$$.dirty[0]&1035|i.$$.dirty[1]&720896&&qn(),i.$$.dirty[0]&131072&&t(46,ee=!!a),i.$$.dirty[0]&2|i.$$.dirty[1]&50348032&&_!==bt&&Ue&&!nt&&(Wt(),t(55,bt=_)),i.$$.dirty[1]&67108864&&it(s)},[r,_,p,S,g,w,k,R,h,N,z,D,d,x,ne,Ce,G,a,jt,Ke,je,ze,Ye,Fe,Xe,Ae,wt,vt,tt,O,n,c,$,Dt,Oe,pt,$e,kt,xe,Ge,et,Yn,$n,Ct,zt,Ue,ee,u,m,M,C,fe,ue,Ie,St,bt,nt,s,ei,ti,ni,ii,oi,si,ri,li,ai,ci,_i,fi,ui]}class Ko extends Po{constructor(e){super(),Do(this,e,Qo,Uo,Bo,{root:0,components:47,layout:48,dependencies:1,title:2,target:3,autoscroll:4,show_api:5,show_footer:6,control_page_title:7,app_mode:8,theme_mode:9,app:10,space_id:11,version:12,js:49,fill_height:50,ready:46,username:13,api_prefix:51,max_file_size:14,initial_layout:52,css:15,vibe_mode:16,search_params:53,render_complete:45,add_new_message:54},null,[-1,-1,-1,-1])}get root(){return this.$$.ctx[0]}set root(e){this.$$set({root:e}),F()}get components(){return this.$$.ctx[47]}set components(e){this.$$set({components:e}),F()}get layout(){return this.$$.ctx[48]}set layout(e){this.$$set({layout:e}),F()}get dependencies(){return this.$$.ctx[1]}set dependencies(e){this.$$set({dependencies:e}),F()}get title(){return this.$$.ctx[2]}set title(e){this.$$set({title:e}),F()}get target(){return this.$$.ctx[3]}set target(e){this.$$set({target:e}),F()}get autoscroll(){return this.$$.ctx[4]}set autoscroll(e){this.$$set({autoscroll:e}),F()}get show_api(){return this.$$.ctx[5]}set show_api(e){this.$$set({show_api:e}),F()}get show_footer(){return this.$$.ctx[6]}set show_footer(e){this.$$set({show_footer:e}),F()}get control_page_title(){return this.$$.ctx[7]}set control_page_title(e){this.$$set({control_page_title:e}),F()}get app_mode(){return this.$$.ctx[8]}set app_mode(e){this.$$set({app_mode:e}),F()}get theme_mode(){return this.$$.ctx[9]}set theme_mode(e){this.$$set({theme_mode:e}),F()}get app(){return this.$$.ctx[10]}set app(e){this.$$set({app:e}),F()}get space_id(){return this.$$.ctx[11]}set space_id(e){this.$$set({space_id:e}),F()}get version(){return this.$$.ctx[12]}set version(e){this.$$set({version:e}),F()}get js(){return this.$$.ctx[49]}set js(e){this.$$set({js:e}),F()}get fill_height(){return this.$$.ctx[50]}set fill_height(e){this.$$set({fill_height:e}),F()}get ready(){return this.$$.ctx[46]}set ready(e){this.$$set({ready:e}),F()}get username(){return this.$$.ctx[13]}set username(e){this.$$set({username:e}),F()}get api_prefix(){return this.$$.ctx[51]}set api_prefix(e){this.$$set({api_prefix:e}),F()}get max_file_size(){return this.$$.ctx[14]}set max_file_size(e){this.$$set({max_file_size:e}),F()}get initial_layout(){return this.$$.ctx[52]}set initial_layout(e){this.$$set({initial_layout:e}),F()}get css(){return this.$$.ctx[15]}set css(e){this.$$set({css:e}),F()}get vibe_mode(){return this.$$.ctx[16]}set vibe_mode(e){this.$$set({vibe_mode:e}),F()}get search_params(){return this.$$.ctx[53]}set search_params(e){this.$$set({search_params:e}),F()}get render_complete(){return this.$$.ctx[45]}set render_complete(e){this.$$set({render_complete:e}),F()}get add_new_message(){return this.$$.ctx[54]}}const ns=Object.freeze(Object.defineProperty({__proto__:null,default:Ko},Symbol.toStringTag,{value:"Module"}));export{ns as B,ko as a,Eo as s};
//# sourceMappingURL=Blocks-ByjUV4bP.js.map
