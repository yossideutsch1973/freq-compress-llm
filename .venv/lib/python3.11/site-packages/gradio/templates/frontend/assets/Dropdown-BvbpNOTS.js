import{a as fe}from"./index-BjaWoMJF.js";/* empty css                                                        */import{B as Ae}from"./BlockTitle-Bo3Clcoc.js";import"./MarkdownCode.svelte_svelte_type_style_lang-CndpmQbB.js";import{D as De}from"./DropdownArrow-DYWFcSFn.js";import"./index-CE5Dq9Ft.js";const{SvelteComponent:Ee,add_render_callback:pe,append:W,attr:E,binding_callbacks:ue,check_outros:Ce,create_bidirectional_transition:_e,destroy_each:Te,detach:P,element:X,empty:qe,ensure_array_like:ce,flush:U,group_outros:Se,init:Ne,insert:Q,listen:Y,prevent_default:Be,run_all:ke,safe_not_equal:ze,set_data:Ue,set_style:B,space:le,text:He,toggle_class:S,transition_in:ee,transition_out:he}=window.__gradio__svelte__internal,{createEventDispatcher:Je}=window.__gradio__svelte__internal;function ae(l,t,e){const u=l.slice();return u[30]=t[e],u}function de(l){let t,e,u,_,f,r=ce(l[1]),s=[];for(let n=0;n<r.length;n+=1)s[n]=me(ae(l,r,n));return{c(){t=X("ul");for(let n=0;n<s.length;n+=1)s[n].c();E(t,"class","options svelte-y6qw75"),E(t,"role","listbox"),B(t,"top",l[9]),B(t,"bottom",l[10]),B(t,"max-height",`calc(${l[11]}px - var(--window-padding))`),B(t,"width",l[8]+"px")},m(n,w){Q(n,t,w);for(let o=0;o<s.length;o+=1)s[o]&&s[o].m(t,null);l[26](t),u=!0,_||(f=[Y(t,"mousedown",Be(l[24])),Y(t,"scroll",l[25])],_=!0)},p(n,w){if(w[0]&307){r=ce(n[1]);let o;for(o=0;o<r.length;o+=1){const m=ae(n,r,o);s[o]?s[o].p(m,w):(s[o]=me(m),s[o].c(),s[o].m(t,null))}for(;o<s.length;o+=1)s[o].d(1);s.length=r.length}w[0]&512&&B(t,"top",n[9]),w[0]&1024&&B(t,"bottom",n[10]),w[0]&2048&&B(t,"max-height",`calc(${n[11]}px - var(--window-padding))`),w[0]&256&&B(t,"width",n[8]+"px")},i(n){u||(n&&pe(()=>{u&&(e||(e=_e(t,fe,{duration:200,y:5},!0)),e.run(1))}),u=!0)},o(n){n&&(e||(e=_e(t,fe,{duration:200,y:5},!1)),e.run(0)),u=!1},d(n){n&&P(t),Te(s,n),l[26](null),n&&e&&e.end(),_=!1,ke(f)}}}function me(l){let t,e,u,_=l[0][l[30]][0]+"",f,r,s,n,w;return{c(){t=X("li"),e=X("span"),e.textContent="âœ“",u=le(),f=He(_),r=le(),E(e,"class","inner-item svelte-y6qw75"),S(e,"hide",!l[4].includes(l[30])),E(t,"class","item svelte-y6qw75"),E(t,"data-index",s=l[30]),E(t,"aria-label",n=l[0][l[30]][0]),E(t,"data-testid","dropdown-option"),E(t,"role","option"),E(t,"aria-selected",w=l[4].includes(l[30])),S(t,"selected",l[4].includes(l[30])),S(t,"active",l[30]===l[5]),S(t,"bg-gray-100",l[30]===l[5]),S(t,"dark:bg-gray-600",l[30]===l[5]),B(t,"width",l[8]+"px")},m(o,m){Q(o,t,m),W(t,e),W(t,u),W(t,f),W(t,r)},p(o,m){m[0]&18&&S(e,"hide",!o[4].includes(o[30])),m[0]&3&&_!==(_=o[0][o[30]][0]+"")&&Ue(f,_),m[0]&2&&s!==(s=o[30])&&E(t,"data-index",s),m[0]&3&&n!==(n=o[0][o[30]][0])&&E(t,"aria-label",n),m[0]&18&&w!==(w=o[4].includes(o[30]))&&E(t,"aria-selected",w),m[0]&18&&S(t,"selected",o[4].includes(o[30])),m[0]&34&&S(t,"active",o[30]===o[5]),m[0]&34&&S(t,"bg-gray-100",o[30]===o[5]),m[0]&34&&S(t,"dark:bg-gray-600",o[30]===o[5]),m[0]&256&&B(t,"width",o[8]+"px")},d(o){o&&P(t)}}}function Le(l){let t,e,u,_,f;pe(l[22]);let r=l[2]&&!l[3]&&de(l);return{c(){t=X("div"),e=le(),r&&r.c(),u=qe(),E(t,"class","reference")},m(s,n){Q(s,t,n),l[23](t),Q(s,e,n),r&&r.m(s,n),Q(s,u,n),_||(f=[Y(window,"scroll",l[14]),Y(window,"resize",l[22])],_=!0)},p(s,n){s[2]&&!s[3]?r?(r.p(s,n),n[0]&12&&ee(r,1)):(r=de(s),r.c(),ee(r,1),r.m(u.parentNode,u)):r&&(Se(),he(r,1,1,()=>{r=null}),Ce())},i(s){ee(r)},o(s){he(r)},d(s){s&&(P(t),P(e),P(u)),l[23](null),r&&r.d(s),_=!1,ke(f)}}}function Re(l,t,e){let{choices:u}=t,{filtered_indices:_}=t,{show_options:f=!1}=t,{disabled:r=!1}=t,{selected_indices:s=[]}=t,{active_index:n=null}=t,{remember_scroll:w=!1}=t,{offset_from_top:o=0}=t,{from_top:m=!1}=t,p,k,T,b,i,c,y,d,z,q,A=0;function O(){const{top:a,bottom:G}=i.getBoundingClientRect();m?e(19,p=o):e(19,p=a),e(20,k=q-G)}let g=null;function C(){f&&(g!==null&&clearTimeout(g),g=setTimeout(()=>{O(),g=null},10))}function H(){c?.scrollTo?.(0,A)}const j=Je();function Z(){e(12,q=window.innerHeight)}function F(a){ue[a?"unshift":"push"](()=>{i=a,e(6,i)})}const v=a=>j("change",a),x=a=>e(13,A=a.currentTarget.scrollTop);function $(a){ue[a?"unshift":"push"](()=>{c=a,e(7,c)})}return l.$$set=a=>{"choices"in a&&e(0,u=a.choices),"filtered_indices"in a&&e(1,_=a.filtered_indices),"show_options"in a&&e(2,f=a.show_options),"disabled"in a&&e(3,r=a.disabled),"selected_indices"in a&&e(4,s=a.selected_indices),"active_index"in a&&e(5,n=a.active_index),"remember_scroll"in a&&e(16,w=a.remember_scroll),"offset_from_top"in a&&e(17,o=a.offset_from_top),"from_top"in a&&e(18,m=a.from_top)},l.$$.update=()=>{if(l.$$.dirty[0]&3997908){if(f&&i){if(w)H();else if(c&&s.length>0){let G=c.querySelectorAll("li");for(const V of Array.from(G))if(V.getAttribute("data-index")===s[0].toString()){c?.scrollTo?.(0,V.offsetTop);break}}O();const a=i.parentElement?.getBoundingClientRect();e(21,T=a?.height||0),e(8,b=a?.width||0)}k>p||m?(e(9,y=`${p}px`),e(11,z=k),e(10,d=null)):(e(10,d=`${k+T}px`),e(11,z=p-T),e(9,y=null))}},[u,_,f,r,s,n,i,c,b,y,d,z,q,A,C,j,w,o,m,p,k,T,Z,F,v,x,$]}class Ie extends Ee{constructor(t){super(),Ne(this,t,Re,Le,ze,{choices:0,filtered_indices:1,show_options:2,disabled:3,selected_indices:4,active_index:5,remember_scroll:16,offset_from_top:17,from_top:18},null,[-1,-1])}get choices(){return this.$$.ctx[0]}set choices(t){this.$$set({choices:t}),U()}get filtered_indices(){return this.$$.ctx[1]}set filtered_indices(t){this.$$set({filtered_indices:t}),U()}get show_options(){return this.$$.ctx[2]}set show_options(t){this.$$set({show_options:t}),U()}get disabled(){return this.$$.ctx[3]}set disabled(t){this.$$set({disabled:t}),U()}get selected_indices(){return this.$$.ctx[4]}set selected_indices(t){this.$$set({selected_indices:t}),U()}get active_index(){return this.$$.ctx[5]}set active_index(t){this.$$set({active_index:t}),U()}get remember_scroll(){return this.$$.ctx[16]}set remember_scroll(t){this.$$set({remember_scroll:t}),U()}get offset_from_top(){return this.$$.ctx[17]}set offset_from_top(t){this.$$set({offset_from_top:t}),U()}get from_top(){return this.$$.ctx[18]}set from_top(t){this.$$set({from_top:t}),U()}}function je(l,t){return(l%t+t)%t}function be(l,t){return l.reduce((e,u,_)=>((!t||u[0].toLowerCase().includes(t.toLowerCase()))&&e.push(_),e),[])}function Fe(l,t,e){l("change",t),e||l("input")}function Ge(l,t,e){if(l.key==="Escape")return[!1,t];if((l.key==="ArrowDown"||l.key==="ArrowUp")&&e.length>0)if(t===null)t=l.key==="ArrowDown"?e[0]:e[e.length-1];else{const u=e.indexOf(t),_=l.key==="ArrowUp"?-1:1;t=e[je(u+_,e.length)]}return[!0,t]}const{SvelteComponent:Ke,append:J,attr:D,binding_callbacks:Me,check_outros:Pe,create_component:se,destroy_component:ne,detach:ie,element:R,flush:N,group_outros:Qe,init:Ve,insert:re,listen:K,mount_component:oe,run_all:We,safe_not_equal:Xe,set_data:Ye,set_input_value:ge,space:te,text:Ze,toggle_class:L,transition_in:I,transition_out:M}=window.__gradio__svelte__internal,{createEventDispatcher:ve,afterUpdate:xe}=window.__gradio__svelte__internal;function $e(l){let t;return{c(){t=Ze(l[0])},m(e,u){re(e,t,u)},p(e,u){u[0]&1&&Ye(t,e[0])},d(e){e&&ie(t)}}}function we(l){let t,e,u;return e=new De({}),{c(){t=R("div"),se(e.$$.fragment),D(t,"class","icon-wrap svelte-1hfxrpf")},m(_,f){re(_,t,f),oe(e,t,null),u=!0},i(_){u||(I(e.$$.fragment,_),u=!0)},o(_){M(e.$$.fragment,_),u=!1},d(_){_&&ie(t),ne(e)}}}function et(l){let t,e,u,_,f,r,s,n,w,o,m,p,k,T;e=new Ae({props:{show_label:l[4],info:l[1],$$slots:{default:[$e]},$$scope:{ctx:l}}});let b=!l[3]&&we();return m=new Ie({props:{show_options:l[12],choices:l[2],filtered_indices:l[10],disabled:l[3],selected_indices:l[11]===null?[]:[l[11]],active_index:l[14]}}),m.$on("change",l[16]),{c(){t=R("div"),se(e.$$.fragment),u=te(),_=R("div"),f=R("div"),r=R("div"),s=R("input"),w=te(),b&&b.c(),o=te(),se(m.$$.fragment),D(s,"role","listbox"),D(s,"aria-controls","dropdown-options"),D(s,"aria-expanded",l[12]),D(s,"aria-label",l[0]),D(s,"class","border-none svelte-1hfxrpf"),s.disabled=l[3],D(s,"autocomplete","off"),s.readOnly=n=!l[7],L(s,"subdued",!l[13].includes(l[9])&&!l[6]),D(r,"class","secondary-wrap svelte-1hfxrpf"),D(f,"class","wrap-inner svelte-1hfxrpf"),L(f,"show_options",l[12]),D(_,"class","wrap svelte-1hfxrpf"),D(t,"class","svelte-1hfxrpf"),L(t,"container",l[5])},m(i,c){re(i,t,c),oe(e,t,null),J(t,u),J(t,_),J(_,f),J(f,r),J(r,s),ge(s,l[9]),l[29](s),J(r,w),b&&b.m(r,null),J(_,o),oe(m,_,null),p=!0,k||(T=[K(s,"input",l[28]),K(s,"keydown",l[19]),K(s,"keyup",l[30]),K(s,"blur",l[18]),K(s,"focus",l[17])],k=!0)},p(i,c){const y={};c[0]&16&&(y.show_label=i[4]),c[0]&2&&(y.info=i[1]),c[0]&1|c[1]&8&&(y.$$scope={dirty:c,ctx:i}),e.$set(y),(!p||c[0]&4096)&&D(s,"aria-expanded",i[12]),(!p||c[0]&1)&&D(s,"aria-label",i[0]),(!p||c[0]&8)&&(s.disabled=i[3]),(!p||c[0]&128&&n!==(n=!i[7]))&&(s.readOnly=n),c[0]&512&&s.value!==i[9]&&ge(s,i[9]),(!p||c[0]&8768)&&L(s,"subdued",!i[13].includes(i[9])&&!i[6]),i[3]?b&&(Qe(),M(b,1,1,()=>{b=null}),Pe()):b?c[0]&8&&I(b,1):(b=we(),b.c(),I(b,1),b.m(r,null)),(!p||c[0]&4096)&&L(f,"show_options",i[12]);const d={};c[0]&4096&&(d.show_options=i[12]),c[0]&4&&(d.choices=i[2]),c[0]&1024&&(d.filtered_indices=i[10]),c[0]&8&&(d.disabled=i[3]),c[0]&2048&&(d.selected_indices=i[11]===null?[]:[i[11]]),c[0]&16384&&(d.active_index=i[14]),m.$set(d),(!p||c[0]&32)&&L(t,"container",i[5])},i(i){p||(I(e.$$.fragment,i),I(b),I(m.$$.fragment,i),p=!0)},o(i){M(e.$$.fragment,i),M(b),M(m.$$.fragment,i),p=!1},d(i){i&&ie(t),ne(e),l[29](null),b&&b.d(),ne(m),k=!1,We(T)}}}function tt(l,t,e){let{label:u}=t,{info:_=void 0}=t,{value:f=void 0}=t,r,{value_is_output:s=!1}=t,{choices:n}=t,w,{disabled:o=!1}=t,{show_label:m}=t,{container:p=!0}=t,{allow_custom_value:k=!1}=t,{filterable:T=!0}=t,b,i=!1,c,y,d="",z="",q=!1,A=[],O=null,g=null,C;const H=ve();f&&(C=n.map(h=>h[1]).indexOf(f),g=C,g===-1?(r=f,g=null):([d,r]=n[g],z=d),F());function j(){e(13,c=n.map(h=>h[0])),e(24,y=n.map(h=>h[1]))}const Z=typeof window<"u";function F(){j(),f===void 0||Array.isArray(f)&&f.length===0?(e(9,d=""),e(11,g=null)):y.includes(f)?(e(9,d=c[y.indexOf(f)]),e(11,g=y.indexOf(f))):k?(e(9,d=f),e(11,g=null)):(e(9,d=""),e(11,g=null)),e(27,C=g)}function v(h){if(e(11,g=parseInt(h.detail.target.dataset.index)),isNaN(g)){e(11,g=null);return}e(12,i=!1),e(14,O=null),b.blur()}function x(h){e(10,A=n.map((lt,Oe)=>Oe)),e(12,i=!0),H("focus")}function $(){k?e(20,f=d):e(9,d=c[y.indexOf(f)]),e(12,i=!1),e(14,O=null),H("blur")}function a(h){e(12,[i,O]=Ge(h,O,A),i,(e(14,O),e(2,n),e(23,w),e(6,k),e(9,d),e(10,A),e(8,b),e(25,z),e(11,g),e(27,C),e(26,q),e(24,y))),h.key==="Enter"&&(O!==null?(e(11,g=O),e(12,i=!1),b.blur(),e(14,O=null)):c.includes(d)?(e(11,g=c.indexOf(d)),e(12,i=!1),e(14,O=null),b.blur()):k&&(e(20,f=d),e(11,g=null),e(12,i=!1),e(14,O=null),b.blur()))}xe(()=>{e(21,s=!1),e(26,q=!0)});function G(){d=this.value,e(9,d),e(11,g),e(27,C),e(26,q),e(2,n),e(24,y)}function V(h){Me[h?"unshift":"push"](()=>{b=h,e(8,b)})}const ye=h=>H("key_up",{key:h.key,input_value:d});return l.$$set=h=>{"label"in h&&e(0,u=h.label),"info"in h&&e(1,_=h.info),"value"in h&&e(20,f=h.value),"value_is_output"in h&&e(21,s=h.value_is_output),"choices"in h&&e(2,n=h.choices),"disabled"in h&&e(3,o=h.disabled),"show_label"in h&&e(4,m=h.show_label),"container"in h&&e(5,p=h.container),"allow_custom_value"in h&&e(6,k=h.allow_custom_value),"filterable"in h&&e(7,T=h.filterable)},l.$$.update=()=>{l.$$.dirty[0]&218105860&&g!==C&&g!==null&&q&&(e(9,[d,f]=n[g],d,(e(20,f),e(11,g),e(27,C),e(26,q),e(2,n),e(24,y))),e(27,C=g),H("select",{index:g,value:y[g],selected:!0})),l.$$.dirty[0]&7340032&&JSON.stringify(r)!==JSON.stringify(f)&&(F(),Fe(H,f,s),e(22,r=f)),l.$$.dirty[0]&4&&j(),l.$$.dirty[0]&8390468&&n!==w&&(k||F(),e(23,w=n),e(10,A=be(n,d)),!k&&A.length>0&&e(14,O=A[0]),Z&&b===document.activeElement&&e(12,i=!0)),l.$$.dirty[0]&33556036&&d!==z&&(e(10,A=be(n,d)),e(25,z=d),!k&&A.length>0&&e(14,O=A[0]))},[u,_,n,o,m,p,k,T,b,d,A,g,i,c,O,H,v,x,$,a,f,s,r,w,y,z,q,C,G,V,ye]}class ut extends Ke{constructor(t){super(),Ve(this,t,tt,et,Xe,{label:0,info:1,value:20,value_is_output:21,choices:2,disabled:3,show_label:4,container:5,allow_custom_value:6,filterable:7},null,[-1,-1])}get label(){return this.$$.ctx[0]}set label(t){this.$$set({label:t}),N()}get info(){return this.$$.ctx[1]}set info(t){this.$$set({info:t}),N()}get value(){return this.$$.ctx[20]}set value(t){this.$$set({value:t}),N()}get value_is_output(){return this.$$.ctx[21]}set value_is_output(t){this.$$set({value_is_output:t}),N()}get choices(){return this.$$.ctx[2]}set choices(t){this.$$set({choices:t}),N()}get disabled(){return this.$$.ctx[3]}set disabled(t){this.$$set({disabled:t}),N()}get show_label(){return this.$$.ctx[4]}set show_label(t){this.$$set({show_label:t}),N()}get container(){return this.$$.ctx[5]}set container(t){this.$$set({container:t}),N()}get allow_custom_value(){return this.$$.ctx[6]}set allow_custom_value(t){this.$$set({allow_custom_value:t}),N()}get filterable(){return this.$$.ctx[7]}set filterable(t){this.$$set({filterable:t}),N()}}export{Ie as D,Fe as a,Ge as b,ut as c,be as h};
//# sourceMappingURL=Dropdown-BvbpNOTS.js.map
